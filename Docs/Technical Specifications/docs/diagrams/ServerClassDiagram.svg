<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="936px" preserveAspectRatio="none" style="width:1091px;height:936px;" version="1.1" viewBox="0 0 1091 936" width="1091px" zoomAndPan="magnify"><defs><filter height="300%" id="f17lp3slovkx26" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#f17lp3slovkx26)" points="16,6,73,6,80,28.2969,1074,28.2969,1074,929,16,929,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="20.9951">Server</text><!--MD5=[b4e09d266be9964199f2622adcc056fa]
cluster Backend--><rect fill="#FFFFFF" filter="url(#f17lp3slovkx26)" height="856" style="stroke: #000000; stroke-width: 1.5;" width="537" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="747.5" y="63.9951">Backend</text><!--MD5=[67adde4c5db0467fcf0b97b7ce37e86c]
cluster PlayerAudience Client--><rect fill="#FFFFFF" filter="url(#f17lp3slovkx26)" height="182" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="383"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="175" x="177" y="397.9951">PlayerAudience Client</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="4" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="124.8281" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="221" x="272.5" y="725.5"/><ellipse cx="370.25" cy="741.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M372.5938,737.1719 C371.6563,736.7344 371.0625,736.5938 370.1875,736.5938 C367.5625,736.5938 365.5625,738.6719 365.5625,741.3906 L365.5625,742.5156 C365.5625,745.0938 367.6719,746.9844 370.5625,746.9844 C371.7813,746.9844 372.9375,746.6875 373.6875,746.1406 C374.2656,745.7344 374.5938,745.2813 374.5938,744.8906 C374.5938,744.4375 374.2031,744.0469 373.7344,744.0469 C373.5156,744.0469 373.3125,744.125 373.125,744.3125 C372.6719,744.7969 372.6719,744.7969 372.4844,744.8906 C372.0625,745.1563 371.375,745.2813 370.6094,745.2813 C368.5625,745.2813 367.2656,744.1875 367.2656,742.4844 L367.2656,741.3906 C367.2656,739.6094 368.5156,738.2969 370.25,738.2969 C370.8281,738.2969 371.4375,738.4531 371.9063,738.7031 C372.3906,738.9844 372.5625,739.2031 372.6563,739.6094 C372.7188,740.0156 372.75,740.1406 372.8906,740.2656 C373.0313,740.4063 373.2656,740.5156 373.4844,740.5156 C373.75,740.5156 374.0156,740.375 374.1875,740.1563 C374.2969,740 374.3281,739.8125 374.3281,739.3906 L374.3281,737.9688 C374.3281,737.5313 374.3125,737.4063 374.2188,737.25 C374.0625,736.9844 373.7813,736.8438 373.4844,736.8438 C373.1875,736.8438 372.9844,736.9375 372.7656,737.25 L372.5938,737.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="390.75" y="745.6543">API</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="273.5" x2="492.5" y1="757.5" y2="757.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="278.5" y="771.7104">+observerCollection</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="273.5" x2="492.5" y1="778.3047" y2="778.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="278.5" y="792.5151">+registerObserver(observer, cookie)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="278.5" y="805.3198">+unregisterObserver(observer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="278.5" y="818.1245">+notifyObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="278.5" y="830.9292">+updatePossibleDecisions()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="278.5" y="843.7339">+collectVotes()</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="13" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="252.875" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="209" x="636.5" y="357"/><ellipse cx="701.75" cy="373" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M704.0938,368.6719 C703.1563,368.2344 702.5625,368.0938 701.6875,368.0938 C699.0625,368.0938 697.0625,370.1719 697.0625,372.8906 L697.0625,374.0156 C697.0625,376.5938 699.1719,378.4844 702.0625,378.4844 C703.2813,378.4844 704.4375,378.1875 705.1875,377.6406 C705.7656,377.2344 706.0938,376.7813 706.0938,376.3906 C706.0938,375.9375 705.7031,375.5469 705.2344,375.5469 C705.0156,375.5469 704.8125,375.625 704.625,375.8125 C704.1719,376.2969 704.1719,376.2969 703.9844,376.3906 C703.5625,376.6563 702.875,376.7813 702.1094,376.7813 C700.0625,376.7813 698.7656,375.6875 698.7656,373.9844 L698.7656,372.8906 C698.7656,371.1094 700.0156,369.7969 701.75,369.7969 C702.3281,369.7969 702.9375,369.9531 703.4063,370.2031 C703.8906,370.4844 704.0625,370.7031 704.1563,371.1094 C704.2188,371.5156 704.25,371.6406 704.3906,371.7656 C704.5313,371.9063 704.7656,372.0156 704.9844,372.0156 C705.25,372.0156 705.5156,371.875 705.6875,371.6563 C705.7969,371.5 705.8281,371.3125 705.8281,370.8906 L705.8281,369.4688 C705.8281,369.0313 705.8125,368.9063 705.7188,368.75 C705.5625,368.4844 705.2813,368.3438 704.9844,368.3438 C704.6875,368.3438 704.4844,368.4375 704.2656,368.75 L704.0938,368.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="722.25" y="377.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="637.5" x2="844.5" y1="389" y2="389"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="642.5" y="403.2104">+Logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="642.5" y="416.0151">+port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="642.5" y="428.8198">+runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="642.5" y="441.6245">+serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="642.5" y="454.4292">+capacity: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="642.5" y="467.2339">+bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="637.5" x2="844.5" y1="473.8281" y2="473.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="642.5" y="488.0386">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="642.5" y="500.8433">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="642.5" y="513.6479">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="642.5" y="526.4526">+parseCommand(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="642.5" y="539.2573">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="642.5" y="552.062">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="642.5" y="564.8667">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="642.5" y="577.6714">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="642.5" y="590.4761">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="642.5" y="603.2808">+main(String[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="32" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="201.6563" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="796.5" y="687"/><ellipse cx="868.25" cy="703" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M870.5938,698.6719 C869.6563,698.2344 869.0625,698.0938 868.1875,698.0938 C865.5625,698.0938 863.5625,700.1719 863.5625,702.8906 L863.5625,704.0156 C863.5625,706.5938 865.6719,708.4844 868.5625,708.4844 C869.7813,708.4844 870.9375,708.1875 871.6875,707.6406 C872.2656,707.2344 872.5938,706.7813 872.5938,706.3906 C872.5938,705.9375 872.2031,705.5469 871.7344,705.5469 C871.5156,705.5469 871.3125,705.625 871.125,705.8125 C870.6719,706.2969 870.6719,706.2969 870.4844,706.3906 C870.0625,706.6563 869.375,706.7813 868.6094,706.7813 C866.5625,706.7813 865.2656,705.6875 865.2656,703.9844 L865.2656,702.8906 C865.2656,701.1094 866.5156,699.7969 868.25,699.7969 C868.8281,699.7969 869.4375,699.9531 869.9063,700.2031 C870.3906,700.4844 870.5625,700.7031 870.6563,701.1094 C870.7188,701.5156 870.75,701.6406 870.8906,701.7656 C871.0313,701.9063 871.2656,702.0156 871.4844,702.0156 C871.75,702.0156 872.0156,701.875 872.1875,701.6563 C872.2969,701.5 872.3281,701.3125 872.3281,700.8906 L872.3281,699.4688 C872.3281,699.0313 872.3125,698.9063 872.2188,698.75 C872.0625,698.4844 871.7813,698.3438 871.4844,698.3438 C871.1875,698.3438 870.9844,698.4375 870.7656,698.75 L870.5938,698.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="888.75" y="707.1543">ClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="797.5" x2="1032.5" y1="719" y2="719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="802.5" y="733.2104">+webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="802.5" y="746.0151">+ip</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="802.5" y="758.8198">+port</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="802.5" y="771.6245">+Logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="797.5" x2="1032.5" y1="778.2188" y2="778.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="802.5" y="792.4292">+ClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="802.5" y="805.2339">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="802.5" y="818.0386">+onDisconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="802.5" y="830.8433">+recieve(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="802.5" y="843.6479">+checkJSON(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="160" x="802.5" y="856.4526">+sendMessage(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="802.5" y="869.2573">+send(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="802.5" y="882.062">+recieve(String): void</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="47" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="529" y="732"/><ellipse cx="590.75" cy="748" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M593.0938,743.6719 C592.1563,743.2344 591.5625,743.0938 590.6875,743.0938 C588.0625,743.0938 586.0625,745.1719 586.0625,747.8906 L586.0625,749.0156 C586.0625,751.5938 588.1719,753.4844 591.0625,753.4844 C592.2813,753.4844 593.4375,753.1875 594.1875,752.6406 C594.7656,752.2344 595.0938,751.7813 595.0938,751.3906 C595.0938,750.9375 594.7031,750.5469 594.2344,750.5469 C594.0156,750.5469 593.8125,750.625 593.625,750.8125 C593.1719,751.2969 593.1719,751.2969 592.9844,751.3906 C592.5625,751.6563 591.875,751.7813 591.1094,751.7813 C589.0625,751.7813 587.7656,750.6875 587.7656,748.9844 L587.7656,747.8906 C587.7656,746.1094 589.0156,744.7969 590.75,744.7969 C591.3281,744.7969 591.9375,744.9531 592.4063,745.2031 C592.8906,745.4844 593.0625,745.7031 593.1563,746.1094 C593.2188,746.5156 593.25,746.6406 593.3906,746.7656 C593.5313,746.9063 593.7656,747.0156 593.9844,747.0156 C594.25,747.0156 594.5156,746.875 594.6875,746.6563 C594.7969,746.5 594.8281,746.3125 594.8281,745.8906 L594.8281,744.4688 C594.8281,744.0313 594.8125,743.9063 594.7188,743.75 C594.5625,743.4844 594.2813,743.3438 593.9844,743.3438 C593.6875,743.3438 593.4844,743.4375 593.2656,743.75 L593.0938,743.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="611.25" y="752.1543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="760" y1="764" y2="764"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="535" y="778.2104">+moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="535" y="791.0151">+Logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="760" y1="797.6094" y2="797.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="535" y="811.8198">MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="535" y="824.6245">+onFalseMessage(String): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="535" y="837.4292">+onVotingMessage(String): void</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="56" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="150.4375" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="597" y="84"/><ellipse cx="654.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M657.0938,95.6719 C656.1563,95.2344 655.5625,95.0938 654.6875,95.0938 C652.0625,95.0938 650.0625,97.1719 650.0625,99.8906 L650.0625,101.0156 C650.0625,103.5938 652.1719,105.4844 655.0625,105.4844 C656.2813,105.4844 657.4375,105.1875 658.1875,104.6406 C658.7656,104.2344 659.0938,103.7813 659.0938,103.3906 C659.0938,102.9375 658.7031,102.5469 658.2344,102.5469 C658.0156,102.5469 657.8125,102.625 657.625,102.8125 C657.1719,103.2969 657.1719,103.2969 656.9844,103.3906 C656.5625,103.6563 655.875,103.7813 655.1094,103.7813 C653.0625,103.7813 651.7656,102.6875 651.7656,100.9844 L651.7656,99.8906 C651.7656,98.1094 653.0156,96.7969 654.75,96.7969 C655.3281,96.7969 655.9375,96.9531 656.4063,97.2031 C656.8906,97.4844 657.0625,97.7031 657.1563,98.1094 C657.2188,98.5156 657.25,98.6406 657.3906,98.7656 C657.5313,98.9063 657.7656,99.0156 657.9844,99.0156 C658.25,99.0156 658.5156,98.875 658.6875,98.6563 C658.7969,98.5 658.8281,98.3125 658.8281,97.8906 L658.8281,96.4688 C658.8281,96.0313 658.8125,95.9063 658.7188,95.75 C658.5625,95.4844 658.2813,95.3438 657.9844,95.3438 C657.6875,95.3438 657.4844,95.4375 657.2656,95.75 L657.0938,95.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="675.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="598" x2="804" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="603" y="130.2104">+GlobalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="603" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="603" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="603" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="598" x2="804" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="603" y="189.4292">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="603" y="202.2339">+addHandler(Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="603" y="215.0386">+setLevel(Level): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="603" y="227.8433">+setConsoleOutput(boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="68" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="130.7656" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="56" y="418"/><ellipse cx="76.85" cy="436.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.1938,432.6406 C78.2563,432.2031 77.6625,432.0625 76.7875,432.0625 C74.1625,432.0625 72.1625,434.1406 72.1625,436.8594 L72.1625,437.9844 C72.1625,440.5625 74.2719,442.4531 77.1625,442.4531 C78.3813,442.4531 79.5375,442.1563 80.2875,441.6094 C80.8656,441.2031 81.1938,440.75 81.1938,440.3594 C81.1938,439.9063 80.8031,439.5156 80.3344,439.5156 C80.1156,439.5156 79.9125,439.5938 79.725,439.7813 C79.2719,440.2656 79.2719,440.2656 79.0844,440.3594 C78.6625,440.625 77.975,440.75 77.2094,440.75 C75.1625,440.75 73.8656,439.6563 73.8656,437.9531 L73.8656,436.8594 C73.8656,435.0781 75.1156,433.7656 76.85,433.7656 C77.4281,433.7656 78.0375,433.9219 78.5063,434.1719 C78.9906,434.4531 79.1625,434.6719 79.2563,435.0781 C79.3188,435.4844 79.35,435.6094 79.4906,435.7344 C79.6313,435.875 79.8656,435.9844 80.0844,435.9844 C80.35,435.9844 80.6156,435.8438 80.7875,435.625 C80.8969,435.4688 80.9281,435.2813 80.9281,434.8594 L80.9281,433.4375 C80.9281,433 80.9125,432.875 80.8188,432.7188 C80.6625,432.4531 80.3813,432.3125 80.0844,432.3125 C79.7875,432.3125 79.5844,432.4063 79.3656,432.7188 L79.1938,432.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="149.65" y="434.1387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="92.15" y="448.1074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="455.9375" y2="455.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="62" y="470.1479">+sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="62" y="482.9526">+hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="62" y="495.7573">+selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="62" y="508.562">+possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="515.1563" y2="515.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="62" y="529.3667">+update()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="62" y="542.1714">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="77" fill="#FEFECE" filter="url(#f17lp3slovkx26)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="319.5" y="453"/><ellipse cx="334.5" cy="469" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M336.8438,464.6719 C335.9063,464.2344 335.3125,464.0938 334.4375,464.0938 C331.8125,464.0938 329.8125,466.1719 329.8125,468.8906 L329.8125,470.0156 C329.8125,472.5938 331.9219,474.4844 334.8125,474.4844 C336.0313,474.4844 337.1875,474.1875 337.9375,473.6406 C338.5156,473.2344 338.8438,472.7813 338.8438,472.3906 C338.8438,471.9375 338.4531,471.5469 337.9844,471.5469 C337.7656,471.5469 337.5625,471.625 337.375,471.8125 C336.9219,472.2969 336.9219,472.2969 336.7344,472.3906 C336.3125,472.6563 335.625,472.7813 334.8594,472.7813 C332.8125,472.7813 331.5156,471.6875 331.5156,469.9844 L331.5156,468.8906 C331.5156,467.1094 332.7656,465.7969 334.5,465.7969 C335.0781,465.7969 335.6875,465.9531 336.1563,466.2031 C336.6406,466.4844 336.8125,466.7031 336.9063,467.1094 C336.9688,467.5156 337,467.6406 337.1406,467.7656 C337.2813,467.9063 337.5156,468.0156 337.7344,468.0156 C338,468.0156 338.2656,467.875 338.4375,467.6563 C338.5469,467.5 338.5781,467.3125 338.5781,466.8906 L338.5781,465.4688 C338.5781,465.0313 338.5625,464.9063 338.4688,464.75 C338.3125,464.4844 338.0313,464.3438 337.7344,464.3438 C337.4375,464.3438 337.2344,464.4375 337.0156,464.75 L336.8438,464.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="348.5" y="473.1543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="485" y2="485"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="493" y2="493"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="507.2104">+PlayerAudienceView()</text><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="85" d="M701.121,610.159 C687.676,652.527 673.355,697.653 662.545,731.716 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="86" d="M761.016,788 C772.745,788 784.474,788 796.203,788 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6ad5262873646cc0a067a1a0032951a6]
link msl to api--><path codeLine="87" d="M528.736,788 C517.001,788 505.266,788 493.531,788 " fill="none" id="msl-api" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="88" d="M779.012,234.053 C810.344,268.385 843.579,311.608 863,357 C908.478,463.295 918.086,597.014 918.505,686.875 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="89" d="M662.023,234.037 C645.198,270.078 627.456,314.678 619,357 C592.513,489.561 616.39,649.292 632.715,731.743 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="90" d="M656.132,234.125 C650.522,244.072 645.005,254.216 640,264 C563.588,413.374 565.713,460.78 489,610 C468.775,649.341 443.394,691.918 422.54,725.452 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="91" d="M710.227,234.393 C714.738,270.76 720.29,315.528 725.432,356.979 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[da9abd1873f207cba4baaf944fa348f2]
link pace to pav--><path codeLine="92" d="M284.324,483.5 C295.957,483.5 307.59,483.5 319.223,483.5 " fill="none" id="pace-pav" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96167f1f5e43b9ebcc14970849e1c19e]
link pace to api--><path codeLine="93" d="M215.433,549.023 C251.144,599.739 300.69,670.105 336.638,721.158 " fill="none" id="pace-to-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="339.637,725.417,337.7249,715.7555,336.7579,721.3291,331.1843,720.3621,339.637,725.417" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="291" y="653.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="211.7058" y="568.6393">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="326.1607" y="714.3982">1</text><!--MD5=[f8f3e3b1015c826f10608fe50a798cc6]
@startuml
skinparam classAttributeIconSize 0

package "Server" {
   class "API" as api {
        {field} +observerCollection
        {method} +registerObserver(observer, cookie)
        {method} +unregisterObserver(observer)
        {method} +notifyObservers()
        {method} +updatePossibleDecisions()
        {method} +collectVotes()
  }
  package "Backend" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +Logger: Logger
      {field} +port: int
      {field} +runShell: boolean
      {field} +serverShell: ServerShell
      {field} +capacity: int
      {field} +bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(String): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(String[]): void
    }

    class "ClientManager" as cm {
      {field} +webSocket: WebSocket
      {field} +ip
      {field} +port
      {field} +Logger: Logger
      {method} +ClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +onDisconnect(): void
      {method} +recieve(String): void
      {method} +checkJSON(String): void
      {method} +sendMessage(String): void
      {method} +send(String): void
      {method} +recieve(String): void
    }    

    class "MainServerLogic" as msl {
      {field} +moderator: WebClient
      {field} +Logger: Logger
      {method} MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(String): void
      {method} +onVotingMessage(String): void

    }

    class "ServerLogger" as sl {
      {field} +GlobalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +setup(): void
      {method} +addHandler(Logger): void
      {method} +setLevel(Level): void
      {method} +setConsoleOutput(boolean): void
    }
  }
  package "PlayerAudience Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} +sessionCookie: Cookie
      {field} +hasVoted: boolean
      {field} +selectedDecision: StoryEvent
      {field} +possibleDecisions: StoryEvent[]
      {method} +update()
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
}



ss - - msl
msl - cm
msl -right- api
sl ... cm
sl ... msl
sl ... api
sl ... ss
pace - pav
api "1" <-up- "n" pace : observes
@enduml

PlantUML version 1.2020.20beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>