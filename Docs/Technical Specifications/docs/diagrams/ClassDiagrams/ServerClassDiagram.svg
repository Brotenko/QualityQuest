<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="961px" preserveAspectRatio="none" style="width:1394px;height:961px;" version="1.1" viewBox="0 0 1394 961" width="1394px" zoomAndPan="magnify"><defs><filter height="300%" id="ffaq4voyx4yb2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#ffaq4voyx4yb2)" points="16,6,73,6,80,28.2969,1377,28.2969,1377,954,16,954,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="20.9951">Server</text><!--MD5=[b4e09d266be9964199f2622adcc056fa]
cluster Backend--><rect fill="#FFFFFF" filter="url(#ffaq4voyx4yb2)" height="881" style="stroke: #000000; stroke-width: 1.5;" width="840" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="899" y="63.9951">Backend</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#ffaq4voyx4yb2)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="389.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="176.5" y="404.4951">PlayerAudience-Client</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="3" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="137.6328" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="358" x="136" y="738"/><ellipse cx="302.25" cy="754" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M304.5938,749.6719 C303.6563,749.2344 303.0625,749.0938 302.1875,749.0938 C299.5625,749.0938 297.5625,751.1719 297.5625,753.8906 L297.5625,755.0156 C297.5625,757.5938 299.6719,759.4844 302.5625,759.4844 C303.7813,759.4844 304.9375,759.1875 305.6875,758.6406 C306.2656,758.2344 306.5938,757.7813 306.5938,757.3906 C306.5938,756.9375 306.2031,756.5469 305.7344,756.5469 C305.5156,756.5469 305.3125,756.625 305.125,756.8125 C304.6719,757.2969 304.6719,757.2969 304.4844,757.3906 C304.0625,757.6563 303.375,757.7813 302.6094,757.7813 C300.5625,757.7813 299.2656,756.6875 299.2656,754.9844 L299.2656,753.8906 C299.2656,752.1094 300.5156,750.7969 302.25,750.7969 C302.8281,750.7969 303.4375,750.9531 303.9063,751.2031 C304.3906,751.4844 304.5625,751.7031 304.6563,752.1094 C304.7188,752.5156 304.75,752.6406 304.8906,752.7656 C305.0313,752.9063 305.2656,753.0156 305.4844,753.0156 C305.75,753.0156 306.0156,752.875 306.1875,752.6563 C306.2969,752.5 306.3281,752.3125 306.3281,751.8906 L306.3281,750.4688 C306.3281,750.0313 306.3125,749.9063 306.2188,749.75 C306.0625,749.4844 305.7813,749.3438 305.4844,749.3438 C305.1875,749.3438 304.9844,749.4375 304.7656,749.75 L304.5938,749.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="322.75" y="758.1543">API</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="137" x2="493" y1="770" y2="770"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="142" y="784.2104">+observerCollection: Observer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="137" x2="493" y1="790.8047" y2="790.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="142" y="805.0151">+API()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="346" x="142" y="817.8198">+registerObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="142" y="830.6245">+unregisterObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="142" y="843.4292">+notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="142" y="856.2339">+updatePossibleDecisions(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="142" y="869.0386">+collectVotes(): void</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="14" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="252.875" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="872" y="370"/><ellipse cx="954.75" cy="386" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M957.0938,381.6719 C956.1563,381.2344 955.5625,381.0938 954.6875,381.0938 C952.0625,381.0938 950.0625,383.1719 950.0625,385.8906 L950.0625,387.0156 C950.0625,389.5938 952.1719,391.4844 955.0625,391.4844 C956.2813,391.4844 957.4375,391.1875 958.1875,390.6406 C958.7656,390.2344 959.0938,389.7813 959.0938,389.3906 C959.0938,388.9375 958.7031,388.5469 958.2344,388.5469 C958.0156,388.5469 957.8125,388.625 957.625,388.8125 C957.1719,389.2969 957.1719,389.2969 956.9844,389.3906 C956.5625,389.6563 955.875,389.7813 955.1094,389.7813 C953.0625,389.7813 951.7656,388.6875 951.7656,386.9844 L951.7656,385.8906 C951.7656,384.1094 953.0156,382.7969 954.75,382.7969 C955.3281,382.7969 955.9375,382.9531 956.4063,383.2031 C956.8906,383.4844 957.0625,383.7031 957.1563,384.1094 C957.2188,384.5156 957.25,384.6406 957.3906,384.7656 C957.5313,384.9063 957.7656,385.0156 957.9844,385.0156 C958.25,385.0156 958.5156,384.875 958.6875,384.6563 C958.7969,384.5 958.8281,384.3125 958.8281,383.8906 L958.8281,382.4688 C958.8281,382.0313 958.8125,381.9063 958.7188,381.75 C958.5625,381.4844 958.2813,381.3438 957.9844,381.3438 C957.6875,381.3438 957.4844,381.4375 957.2656,381.75 L957.0938,381.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="975.25" y="390.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873" x2="1115" y1="402" y2="402"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="878" y="416.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="878" y="429.0151">+port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="878" y="441.8198">+runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="878" y="454.6245">+serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="878" y="467.4292">+capacity: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="878" y="480.2339">+bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873" x2="1115" y1="486.8281" y2="486.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="878" y="501.0386">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="878" y="513.8433">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="878" y="526.6479">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="878" y="539.4526">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="878" y="552.2573">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="878" y="565.062">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="878" y="577.8667">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="878" y="590.6714">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="878" y="603.4761">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="878" y="616.2808">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="33" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="214.4609" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="1043" y="700"/><ellipse cx="1111.75" cy="716" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1114.0938,711.6719 C1113.1563,711.2344 1112.5625,711.0938 1111.6875,711.0938 C1109.0625,711.0938 1107.0625,713.1719 1107.0625,715.8906 L1107.0625,717.0156 C1107.0625,719.5938 1109.1719,721.4844 1112.0625,721.4844 C1113.2813,721.4844 1114.4375,721.1875 1115.1875,720.6406 C1115.7656,720.2344 1116.0938,719.7813 1116.0938,719.3906 C1116.0938,718.9375 1115.7031,718.5469 1115.2344,718.5469 C1115.0156,718.5469 1114.8125,718.625 1114.625,718.8125 C1114.1719,719.2969 1114.1719,719.2969 1113.9844,719.3906 C1113.5625,719.6563 1112.875,719.7813 1112.1094,719.7813 C1110.0625,719.7813 1108.7656,718.6875 1108.7656,716.9844 L1108.7656,715.8906 C1108.7656,714.1094 1110.0156,712.7969 1111.75,712.7969 C1112.3281,712.7969 1112.9375,712.9531 1113.4063,713.2031 C1113.8906,713.4844 1114.0625,713.7031 1114.1563,714.1094 C1114.2188,714.5156 1114.25,714.6406 1114.3906,714.7656 C1114.5313,714.9063 1114.7656,715.0156 1114.9844,715.0156 C1115.25,715.0156 1115.5156,714.875 1115.6875,714.6563 C1115.7969,714.5 1115.8281,714.3125 1115.8281,713.8906 L1115.8281,712.4688 C1115.8281,712.0313 1115.8125,711.9063 1115.7188,711.75 C1115.5625,711.4844 1115.2813,711.3438 1114.9844,711.3438 C1114.6875,711.3438 1114.4844,711.4375 1114.2656,711.75 L1114.0938,711.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="1132.25" y="720.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1044" x2="1336" y1="732" y2="732"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1049" y="746.2104">+webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="1049" y="759.0151">+ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="1049" y="771.8198">+port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1049" y="784.6245">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1049" y="797.4292">+authentificationTokenModeratorClient: Token</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1044" x2="1336" y1="804.0234" y2="804.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="1049" y="818.2339">+ModeratorClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1049" y="831.0386">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1049" y="843.8433">+onDisconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="1049" y="856.6479">+recieve(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1049" y="869.4526">+checkJSON(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1049" y="882.2573">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1049" y="895.062">+send(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="1049" y="907.8667">+recieve(message: string): void</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="49" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="756" y="751"/><ellipse cx="827.75" cy="767" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M830.0938,762.6719 C829.1563,762.2344 828.5625,762.0938 827.6875,762.0938 C825.0625,762.0938 823.0625,764.1719 823.0625,766.8906 L823.0625,768.0156 C823.0625,770.5938 825.1719,772.4844 828.0625,772.4844 C829.2813,772.4844 830.4375,772.1875 831.1875,771.6406 C831.7656,771.2344 832.0938,770.7813 832.0938,770.3906 C832.0938,769.9375 831.7031,769.5469 831.2344,769.5469 C831.0156,769.5469 830.8125,769.625 830.625,769.8125 C830.1719,770.2969 830.1719,770.2969 829.9844,770.3906 C829.5625,770.6563 828.875,770.7813 828.1094,770.7813 C826.0625,770.7813 824.7656,769.6875 824.7656,767.9844 L824.7656,766.8906 C824.7656,765.1094 826.0156,763.7969 827.75,763.7969 C828.3281,763.7969 828.9375,763.9531 829.4063,764.2031 C829.8906,764.4844 830.0625,764.7031 830.1563,765.1094 C830.2188,765.5156 830.25,765.6406 830.3906,765.7656 C830.5313,765.9063 830.7656,766.0156 830.9844,766.0156 C831.25,766.0156 831.5156,765.875 831.6875,765.6563 C831.7969,765.5 831.8281,765.3125 831.8281,764.8906 L831.8281,763.4688 C831.8281,763.0313 831.8125,762.9063 831.7188,762.75 C831.5625,762.4844 831.2813,762.3438 830.9844,762.3438 C830.6875,762.3438 830.4844,762.4375 830.2656,762.75 L830.0938,762.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="848.25" y="771.1543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="757" x2="1007" y1="783" y2="783"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="762" y="797.2104">+moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="762" y="810.0151">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="757" x2="1007" y1="816.6094" y2="816.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="762" y="830.8198">MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="762" y="843.6245">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="762" y="856.4292">+onVotingMessage(message: string): void</text><!--MD5=[9105e509a9f69a1dfba1c0054edeb4e1]
class pe--><rect codeLine="58" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="112.0234" id="pe" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="529" y="751"/><ellipse cx="583.25" cy="767" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M585.5938,762.6719 C584.6563,762.2344 584.0625,762.0938 583.1875,762.0938 C580.5625,762.0938 578.5625,764.1719 578.5625,766.8906 L578.5625,768.0156 C578.5625,770.5938 580.6719,772.4844 583.5625,772.4844 C584.7813,772.4844 585.9375,772.1875 586.6875,771.6406 C587.2656,771.2344 587.5938,770.7813 587.5938,770.3906 C587.5938,769.9375 587.2031,769.5469 586.7344,769.5469 C586.5156,769.5469 586.3125,769.625 586.125,769.8125 C585.6719,770.2969 585.6719,770.2969 585.4844,770.3906 C585.0625,770.6563 584.375,770.7813 583.6094,770.7813 C581.5625,770.7813 580.2656,769.6875 580.2656,767.9844 L580.2656,766.8906 C580.2656,765.1094 581.5156,763.7969 583.25,763.7969 C583.8281,763.7969 584.4375,763.9531 584.9063,764.2031 C585.3906,764.4844 585.5625,764.7031 585.6563,765.1094 C585.7188,765.5156 585.75,765.6406 585.8906,765.7656 C586.0313,765.9063 586.2656,766.0156 586.4844,766.0156 C586.75,766.0156 587.0156,765.875 587.1875,765.6563 C587.2969,765.5 587.3281,765.3125 587.3281,764.8906 L587.3281,763.4688 C587.3281,763.0313 587.3125,762.9063 587.2188,762.75 C587.0625,762.4844 586.7813,762.3438 586.4844,762.3438 C586.1875,762.3438 585.9844,762.4375 585.7656,762.75 L585.5938,762.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="603.75" y="771.1543">PollEvaluator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="720" y1="783" y2="783"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="535" y="797.2104">possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="535" y="810.0151">voteCounter: int[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="720" y1="816.6094" y2="816.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="535" y="830.8198">+PollEvaluator()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="535" y="843.6245">+evaluateVotes(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="535" y="856.4292">+addVote(): void</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="66" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="163.2422" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="769" y="84"/><ellipse cx="838.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M841.0938,95.6719 C840.1563,95.2344 839.5625,95.0938 838.6875,95.0938 C836.0625,95.0938 834.0625,97.1719 834.0625,99.8906 L834.0625,101.0156 C834.0625,103.5938 836.1719,105.4844 839.0625,105.4844 C840.2813,105.4844 841.4375,105.1875 842.1875,104.6406 C842.7656,104.2344 843.0938,103.7813 843.0938,103.3906 C843.0938,102.9375 842.7031,102.5469 842.2344,102.5469 C842.0156,102.5469 841.8125,102.625 841.625,102.8125 C841.1719,103.2969 841.1719,103.2969 840.9844,103.3906 C840.5625,103.6563 839.875,103.7813 839.1094,103.7813 C837.0625,103.7813 835.7656,102.6875 835.7656,100.9844 L835.7656,99.8906 C835.7656,98.1094 837.0156,96.7969 838.75,96.7969 C839.3281,96.7969 839.9375,96.9531 840.4063,97.2031 C840.8906,97.4844 841.0625,97.7031 841.1563,98.1094 C841.2188,98.5156 841.25,98.6406 841.3906,98.7656 C841.5313,98.9063 841.7656,99.0156 841.9844,99.0156 C842.25,99.0156 842.5156,98.875 842.6875,98.6563 C842.7969,98.5 842.8281,98.3125 842.8281,97.8906 L842.8281,96.4688 C842.8281,96.0313 842.8125,95.9063 842.7188,95.75 C842.5625,95.4844 842.2813,95.3438 841.9844,95.3438 C841.6875,95.3438 841.4844,95.4375 841.2656,95.75 L841.0938,95.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="859.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="1000" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="775" y="130.2104">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="775" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="775" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="775" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="1000" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="775" y="189.4292">+Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="775" y="202.2339">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="775" y="215.0386">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="775" y="227.8433">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="775" y="240.6479">+setConsoleOutput(val: boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="79" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="56" y="424.5"/><ellipse cx="76.85" cy="443.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.1938,439.1406 C78.2563,438.7031 77.6625,438.5625 76.7875,438.5625 C74.1625,438.5625 72.1625,440.6406 72.1625,443.3594 L72.1625,444.4844 C72.1625,447.0625 74.2719,448.9531 77.1625,448.9531 C78.3813,448.9531 79.5375,448.6563 80.2875,448.1094 C80.8656,447.7031 81.1938,447.25 81.1938,446.8594 C81.1938,446.4063 80.8031,446.0156 80.3344,446.0156 C80.1156,446.0156 79.9125,446.0938 79.725,446.2813 C79.2719,446.7656 79.2719,446.7656 79.0844,446.8594 C78.6625,447.125 77.975,447.25 77.2094,447.25 C75.1625,447.25 73.8656,446.1563 73.8656,444.4531 L73.8656,443.3594 C73.8656,441.5781 75.1156,440.2656 76.85,440.2656 C77.4281,440.2656 78.0375,440.4219 78.5063,440.6719 C78.9906,440.9531 79.1625,441.1719 79.2563,441.5781 C79.3188,441.9844 79.35,442.1094 79.4906,442.2344 C79.6313,442.375 79.8656,442.4844 80.0844,442.4844 C80.35,442.4844 80.6156,442.3438 80.7875,442.125 C80.8969,441.9688 80.9281,441.7813 80.9281,441.3594 L80.9281,439.9375 C80.9281,439.5 80.9125,439.375 80.8188,439.2188 C80.6625,438.9531 80.3813,438.8125 80.0844,438.8125 C79.7875,438.8125 79.5844,438.9063 79.3656,439.2188 L79.1938,439.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="149.65" y="440.6387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="92.15" y="454.6074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="462.4375" y2="462.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="62" y="476.6479">+sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="62" y="489.4526">+hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="62" y="502.2573">+selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="62" y="515.062">+possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="521.6563" y2="521.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="62" y="535.8667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="62" y="548.6714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="62" y="561.4761">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="89" fill="#FEFECE" filter="url(#ffaq4voyx4yb2)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="319.5" y="466"/><ellipse cx="334.5" cy="482" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M336.8438,477.6719 C335.9063,477.2344 335.3125,477.0938 334.4375,477.0938 C331.8125,477.0938 329.8125,479.1719 329.8125,481.8906 L329.8125,483.0156 C329.8125,485.5938 331.9219,487.4844 334.8125,487.4844 C336.0313,487.4844 337.1875,487.1875 337.9375,486.6406 C338.5156,486.2344 338.8438,485.7813 338.8438,485.3906 C338.8438,484.9375 338.4531,484.5469 337.9844,484.5469 C337.7656,484.5469 337.5625,484.625 337.375,484.8125 C336.9219,485.2969 336.9219,485.2969 336.7344,485.3906 C336.3125,485.6563 335.625,485.7813 334.8594,485.7813 C332.8125,485.7813 331.5156,484.6875 331.5156,482.9844 L331.5156,481.8906 C331.5156,480.1094 332.7656,478.7969 334.5,478.7969 C335.0781,478.7969 335.6875,478.9531 336.1563,479.2031 C336.6406,479.4844 336.8125,479.7031 336.9063,480.1094 C336.9688,480.5156 337,480.6406 337.1406,480.7656 C337.2813,480.9063 337.5156,481.0156 337.7344,481.0156 C338,481.0156 338.2656,480.875 338.4375,480.6563 C338.5469,480.5 338.5781,480.3125 338.5781,479.8906 L338.5781,478.4688 C338.5781,478.0313 338.5625,477.9063 338.4688,477.75 C338.3125,477.4844 338.0313,477.3438 337.7344,477.3438 C337.4375,477.3438 337.2344,477.4375 337.0156,477.75 L336.8438,477.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="348.5" y="486.1543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="498" y2="498"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="506" y2="506"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="520.2104">+PlayerAudienceView()</text><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="93" d="M948.284,623.424 C932.194,667.742 914.932,715.29 902.058,750.75 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="94" d="M1008.03,807 C1019.64,807 1031.25,807 1042.86,807 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0dc7f4e939c057bb258d4c5f70365db7]
link pe to msl--><path codeLine="95" d="M721.124,807 C732.645,807 744.166,807 755.687,807 " fill="none" id="pe-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[64320bcde71beffb940e18b354ba01b3]
link api to pe--><path codeLine="96" d="M494.219,807 C505.798,807 517.378,807 528.958,807 " fill="none" id="api-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="97" d="M1001.01,233.284 C1050.13,267.705 1103.05,314.228 1134,370 C1190.48,471.76 1199.54,607.003 1197.64,699.725 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="98" d="M870.296,247.399 C864.251,284.602 857.977,329.398 855,370 C846.778,482.143 846.772,510.857 855,623 C858.173,666.239 865.508,714.765 871.733,750.977 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="99" d="M817.056,247.046 C739.032,339.017 606.627,493.495 489,623 C454.072,661.456 414.197,703.521 381.439,737.614 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="100" d="M911.804,247.404 C924.033,284.315 938.795,328.873 952.416,369.984 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[da9abd1873f207cba4baaf944fa348f2]
link pace to pav--><path codeLine="101" d="M284.324,496.5 C295.957,496.5 307.59,496.5 319.223,496.5 " fill="none" id="pace-pav" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96167f1f5e43b9ebcc14970849e1c19e]
link pace to api--><path codeLine="102" d="M203.448,568.663 C226.621,617.965 257.38,683.408 280.729,733.086 " fill="none" id="pace-to-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="282.965,737.843,282.7555,727.9964,280.8376,733.3182,275.5158,731.4002,282.965,737.843" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="248" y="666.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="198.1627" y="588.0998">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="271.2489" y="727.0304">1</text><!--MD5=[03c663578351a54baf1cd6062c5cff7e]
@startuml
skinparam classAttributeIconSize 0
package "Server" {
   class "API" as api {
        {field} +observerCollection: Observer
        {method} +API()
        {method} +registerObserver(observer: Observer, cookie: Cookie): void
        {method} +unregisterObserver(observer: Observer): void
        {method} +notifyObservers(): void
        {method} +updatePossibleDecisions(): void
        {method} +collectVotes(): void
  }

  package "Backend" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} +port: int
      {field} +runShell: boolean
      {field} +serverShell: ServerShell
      {field} +capacity: int
      {field} +bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} +webSocket: WebSocket
      {field} +ip: int
      {field} +port: int
      {field} +logger: Logger
      {field} +authentificationTokenModeratorClient: Token
      {method} +ModeratorClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +onDisconnect(): void
      {method} +recieve(message: string): void
      {method} +checkJSON(message: string): void
      {method} +sendMessage(message: string): void
      {method} +send(message: string): void
      {method} +recieve(message: string): void
    }    

    class "MainServerLogic" as msl {
      {field} +moderator: WebClient
      {field} +logger: Logger
      {method} MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void

    }

    class "PollEvaluator" as pe {
    {field} possibleDecisions: StoryEvent[]
    {field} voteCounter: int[]
    {method} +PollEvaluator()
    {method} +evaluateVotes(): int
    {method} +addVote(): void
  }

    class "ServerLogger" as sl {
      {field} +globalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +Logger()
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: boolean): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} +sessionCookie: Cookie
      {field} +hasVoted: boolean
      {field} +selectedDecision: StoryEvent
      {field} +possibleDecisions: StoryEvent[]
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -left- pe
  pe -left- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace - pav
  api "1" <-up- "n" pace : observes
}
@enduml

PlantUML version 1.2020.20beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>