<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1186px" preserveAspectRatio="none" style="width:1470px;height:1186px;" version="1.1" viewBox="0 0 1470 1186" width="1470px" zoomAndPan="magnify"><defs><filter height="300%" id="fohk0xqrsvtcb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#fohk0xqrsvtcb)" points="16,6,73,6,80,28.2969,1453,28.2969,1453,1179.5,16,1179.5,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="20.9951">Server</text><!--MD5=[bec4376398c619d3cc65439ee33bd7ca]
cluster ServerLogic--><rect fill="#FFFFFF" filter="url(#fohk0xqrsvtcb)" height="1106.5" style="stroke: #000000; stroke-width: 1.5;" width="880" x="549" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="942" y="63.9951">ServerLogic</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#fohk0xqrsvtcb)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="485" x="40" y="951"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="194.5" y="965.9951">PlayerAudience-Client</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="7" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="240.0703" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="889" y="389"/><ellipse cx="971.75" cy="405" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M974.0938,400.6719 C973.1563,400.2344 972.5625,400.0938 971.6875,400.0938 C969.0625,400.0938 967.0625,402.1719 967.0625,404.8906 L967.0625,406.0156 C967.0625,408.5938 969.1719,410.4844 972.0625,410.4844 C973.2813,410.4844 974.4375,410.1875 975.1875,409.6406 C975.7656,409.2344 976.0938,408.7813 976.0938,408.3906 C976.0938,407.9375 975.7031,407.5469 975.2344,407.5469 C975.0156,407.5469 974.8125,407.625 974.625,407.8125 C974.1719,408.2969 974.1719,408.2969 973.9844,408.3906 C973.5625,408.6563 972.875,408.7813 972.1094,408.7813 C970.0625,408.7813 968.7656,407.6875 968.7656,405.9844 L968.7656,404.8906 C968.7656,403.1094 970.0156,401.7969 971.75,401.7969 C972.3281,401.7969 972.9375,401.9531 973.4063,402.2031 C973.8906,402.4844 974.0625,402.7031 974.1563,403.1094 C974.2188,403.5156 974.25,403.6406 974.3906,403.7656 C974.5313,403.9063 974.7656,404.0156 974.9844,404.0156 C975.25,404.0156 975.5156,403.875 975.6875,403.6563 C975.7969,403.5 975.8281,403.3125 975.8281,402.8906 L975.8281,401.4688 C975.8281,401.0313 975.8125,400.9063 975.7188,400.75 C975.5625,400.4844 975.2813,400.3438 974.9844,400.3438 C974.6875,400.3438 974.4844,400.4375 974.2656,400.75 L974.0938,400.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="992.25" y="409.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="890" x2="1132" y1="421" y2="421"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="895" y="435.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="895" y="448.0151">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="895" y="460.8198">-runShell: bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="895" y="473.6245">-serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="895" y="486.4292">-streamReader: StreamReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="890" x2="1132" y1="493.0234" y2="493.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="895" y="507.2339">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="895" y="520.0386">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="895" y="532.8433">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="895" y="545.6479">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="895" y="558.4526">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="895" y="571.2573">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="895" y="584.062">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="895" y="596.8667">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="895" y="609.6714">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="895" y="622.4761">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="25" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="214.4609" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="332" x="1044" y="690"/><ellipse cx="1131.75" cy="706" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1134.0938,701.6719 C1133.1563,701.2344 1132.5625,701.0938 1131.6875,701.0938 C1129.0625,701.0938 1127.0625,703.1719 1127.0625,705.8906 L1127.0625,707.0156 C1127.0625,709.5938 1129.1719,711.4844 1132.0625,711.4844 C1133.2813,711.4844 1134.4375,711.1875 1135.1875,710.6406 C1135.7656,710.2344 1136.0938,709.7813 1136.0938,709.3906 C1136.0938,708.9375 1135.7031,708.5469 1135.2344,708.5469 C1135.0156,708.5469 1134.8125,708.625 1134.625,708.8125 C1134.1719,709.2969 1134.1719,709.2969 1133.9844,709.3906 C1133.5625,709.6563 1132.875,709.7813 1132.1094,709.7813 C1130.0625,709.7813 1128.7656,708.6875 1128.7656,706.9844 L1128.7656,705.8906 C1128.7656,704.1094 1130.0156,702.7969 1131.75,702.7969 C1132.3281,702.7969 1132.9375,702.9531 1133.4063,703.2031 C1133.8906,703.4844 1134.0625,703.7031 1134.1563,704.1094 C1134.2188,704.5156 1134.25,704.6406 1134.3906,704.7656 C1134.5313,704.9063 1134.7656,705.0156 1134.9844,705.0156 C1135.25,705.0156 1135.5156,704.875 1135.6875,704.6563 C1135.7969,704.5 1135.8281,704.3125 1135.8281,703.8906 L1135.8281,702.4688 C1135.8281,702.0313 1135.8125,701.9063 1135.7188,701.75 C1135.5625,701.4844 1135.2813,701.3438 1134.9844,701.3438 C1134.6875,701.3438 1134.4844,701.4375 1134.2656,701.75 L1134.0938,701.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="1152.25" y="710.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1375" y1="722" y2="722"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1050" y="736.2104">-webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1050" y="749.0151">-ip: IPAddress</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1050" y="761.8198">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="1050" y="774.6245">-numberOfConnectedPlayerAudienceClients: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1050" y="787.4292">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="1050" y="800.2339">-authentificationTokenModeratorClientHash: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045" x2="1375" y1="806.8281" y2="806.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="1050" y="821.0386">+ModeratorClientManager(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1050" y="833.8433">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1050" y="846.6479">+recieveMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1050" y="859.4526">+checkJSON(message: string): bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1050" y="872.2573">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="320" x="1050" y="885.062">+sendVotingResults(results: Dictionary&lt;Guid, int&gt;): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="1050" y="897.8667">+evalJSON(json: string): string[]</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="42" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="163.2422" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="443" x="565.5" y="715.5"/><ellipse cx="732.75" cy="731.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M735.0938,727.1719 C734.1563,726.7344 733.5625,726.5938 732.6875,726.5938 C730.0625,726.5938 728.0625,728.6719 728.0625,731.3906 L728.0625,732.5156 C728.0625,735.0938 730.1719,736.9844 733.0625,736.9844 C734.2813,736.9844 735.4375,736.6875 736.1875,736.1406 C736.7656,735.7344 737.0938,735.2813 737.0938,734.8906 C737.0938,734.4375 736.7031,734.0469 736.2344,734.0469 C736.0156,734.0469 735.8125,734.125 735.625,734.3125 C735.1719,734.7969 735.1719,734.7969 734.9844,734.8906 C734.5625,735.1563 733.875,735.2813 733.1094,735.2813 C731.0625,735.2813 729.7656,734.1875 729.7656,732.4844 L729.7656,731.3906 C729.7656,729.6094 731.0156,728.2969 732.75,728.2969 C733.3281,728.2969 733.9375,728.4531 734.4063,728.7031 C734.8906,728.9844 735.0625,729.2031 735.1563,729.6094 C735.2188,730.0156 735.25,730.1406 735.3906,730.2656 C735.5313,730.4063 735.7656,730.5156 735.9844,730.5156 C736.25,730.5156 736.5156,730.375 736.6875,730.1563 C736.7969,730 736.8281,729.8125 736.8281,729.3906 L736.8281,727.9688 C736.8281,727.5313 736.8125,727.4063 736.7188,727.25 C736.5625,726.9844 736.2813,726.8438 735.9844,726.8438 C735.6875,726.8438 735.4844,726.9375 735.2656,727.25 L735.0938,727.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="753.25" y="735.6543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="566.5" x2="1007.5" y1="747.5" y2="747.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="571.5" y="761.7104">-moderator: ModeratorClientManager</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="571.5" y="774.5151">-playerAudience: PlayerAudienceClientManager</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="571.5" y="787.3198">-timer: Timer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="571.5" y="800.1245">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="566.5" x2="1007.5" y1="806.7188" y2="806.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="571.5" y="820.9292">+MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="571.5" y="833.7339">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="571.5" y="846.5386">+onVotingMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="431" x="571.5" y="859.3433">+updateModeratorClientManagerPlayerAudienceClientCountAttribute(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="571.5" y="872.1479">+startPollingTimer(): void</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="54" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="163.2422" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="400" x="605" y="976.5"/><ellipse cx="712.25" cy="992.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M714.5938,988.1719 C713.6563,987.7344 713.0625,987.5938 712.1875,987.5938 C709.5625,987.5938 707.5625,989.6719 707.5625,992.3906 L707.5625,993.5156 C707.5625,996.0938 709.6719,997.9844 712.5625,997.9844 C713.7813,997.9844 714.9375,997.6875 715.6875,997.1406 C716.2656,996.7344 716.5938,996.2813 716.5938,995.8906 C716.5938,995.4375 716.2031,995.0469 715.7344,995.0469 C715.5156,995.0469 715.3125,995.125 715.125,995.3125 C714.6719,995.7969 714.6719,995.7969 714.4844,995.8906 C714.0625,996.1563 713.375,996.2813 712.6094,996.2813 C710.5625,996.2813 709.2656,995.1875 709.2656,993.4844 L709.2656,992.3906 C709.2656,990.6094 710.5156,989.2969 712.25,989.2969 C712.8281,989.2969 713.4375,989.4531 713.9063,989.7031 C714.3906,989.9844 714.5625,990.2031 714.6563,990.6094 C714.7188,991.0156 714.75,991.1406 714.8906,991.2656 C715.0313,991.4063 715.2656,991.5156 715.4844,991.5156 C715.75,991.5156 716.0156,991.375 716.1875,991.1563 C716.2969,991 716.3281,990.8125 716.3281,990.3906 L716.3281,988.9688 C716.3281,988.5313 716.3125,988.4063 716.2188,988.25 C716.0625,987.9844 715.7813,987.8438 715.4844,987.8438 C715.1875,987.8438 714.9844,987.9375 714.7656,988.25 L714.5938,988.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="732.75" y="996.6543">PlayerAudienceClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="606" x2="1004" y1="1008.5" y2="1008.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="611" y="1022.7104">-observerCollection: ArrayList&lt;Observer&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="611" y="1035.5151">-possibleDecisions: string[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="611" y="1048.3198">-voteCounter: Dictionary&lt;int, int&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="606" x2="1004" y1="1054.9141" y2="1054.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="611" y="1069.1245">+PlayerAudienceClientManager()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="611" y="1081.9292">+subscribeObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="611" y="1094.7339">+unsubscribeObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="611" y="1107.5386">-notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="611" y="1120.3433">+updatePossibleDecisions(decisions: Dictionary&lt;Guid, string&gt;): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="611" y="1133.1479">+evaluateVotes(): Dictionary&lt;Guid, int&gt;</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="66" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="181.9844" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="1012" y="84"/><ellipse cx="1070.75" cy="102.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1073.0938,98.6406 C1072.1563,98.2031 1071.5625,98.0625 1070.6875,98.0625 C1068.0625,98.0625 1066.0625,100.1406 1066.0625,102.8594 L1066.0625,103.9844 C1066.0625,106.5625 1068.1719,108.4531 1071.0625,108.4531 C1072.2813,108.4531 1073.4375,108.1563 1074.1875,107.6094 C1074.7656,107.2031 1075.0938,106.75 1075.0938,106.3594 C1075.0938,105.9063 1074.7031,105.5156 1074.2344,105.5156 C1074.0156,105.5156 1073.8125,105.5938 1073.625,105.7813 C1073.1719,106.2656 1073.1719,106.2656 1072.9844,106.3594 C1072.5625,106.625 1071.875,106.75 1071.1094,106.75 C1069.0625,106.75 1067.7656,105.6563 1067.7656,103.9531 L1067.7656,102.8594 C1067.7656,101.0781 1069.0156,99.7656 1070.75,99.7656 C1071.3281,99.7656 1071.9375,99.9219 1072.4063,100.1719 C1072.8906,100.4531 1073.0625,100.6719 1073.1563,101.0781 C1073.2188,101.4844 1073.25,101.6094 1073.3906,101.7344 C1073.5313,101.875 1073.7656,101.9844 1073.9844,101.9844 C1074.25,101.9844 1074.5156,101.8438 1074.6875,101.625 C1074.7969,101.4688 1074.8281,101.2813 1074.8281,100.8594 L1074.8281,99.4375 C1074.8281,99 1074.8125,98.875 1074.7188,98.7188 C1074.5625,98.4531 1074.2813,98.3125 1073.9844,98.3125 C1073.6875,98.3125 1073.4844,98.4063 1073.2656,98.7188 L1073.0938,98.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="1097.75" y="100.1387">«Singleton»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="1091.25" y="114.1074">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1013" x2="1221" y1="121.9375" y2="121.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="1018" y="136.1479">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1018" y="148.9526">-logFile: StreamWriter</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="1018" y="161.7573">-isSetup: bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="1018" y="174.562">-consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1013" x2="1221" y1="181.1563" y2="181.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="1018" y="195.3667">-Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="1018" y="208.1714">+createNewLogger(): Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1018" y="220.9761">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="1018" y="233.7808">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1018" y="246.5854">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1018" y="259.3901">+setConsoleOutput(val: bool): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="80" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="245" y="986"/><ellipse cx="282.05" cy="1004.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M284.3938,1000.6406 C283.4563,1000.2031 282.8625,1000.0625 281.9875,1000.0625 C279.3625,1000.0625 277.3625,1002.1406 277.3625,1004.8594 L277.3625,1005.9844 C277.3625,1008.5625 279.4719,1010.4531 282.3625,1010.4531 C283.5813,1010.4531 284.7375,1010.1563 285.4875,1009.6094 C286.0656,1009.2031 286.3938,1008.75 286.3938,1008.3594 C286.3938,1007.9063 286.0031,1007.5156 285.5344,1007.5156 C285.3156,1007.5156 285.1125,1007.5938 284.925,1007.7813 C284.4719,1008.2656 284.4719,1008.2656 284.2844,1008.3594 C283.8625,1008.625 283.175,1008.75 282.4094,1008.75 C280.3625,1008.75 279.0656,1007.6563 279.0656,1005.9531 L279.0656,1004.8594 C279.0656,1003.0781 280.3156,1001.7656 282.05,1001.7656 C282.6281,1001.7656 283.2375,1001.9219 283.7063,1002.1719 C284.1906,1002.4531 284.3625,1002.6719 284.4563,1003.0781 C284.5188,1003.4844 284.55,1003.6094 284.6906,1003.7344 C284.8313,1003.875 285.0656,1003.9844 285.2844,1003.9844 C285.55,1003.9844 285.8156,1003.8438 285.9875,1003.625 C286.0969,1003.4688 286.1281,1003.2813 286.1281,1002.8594 L286.1281,1001.4375 C286.1281,1001 286.1125,1000.875 286.0188,1000.7188 C285.8625,1000.4531 285.5813,1000.3125 285.2844,1000.3125 C284.9875,1000.3125 284.7844,1000.4063 284.5656,1000.7188 L284.3938,1000.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="358.45" y="1002.1387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="300.95" y="1016.1074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="508" y1="1023.9375" y2="1023.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="251" y="1038.1479">-sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="251" y="1050.9526">-votingAllowed: bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="251" y="1063.7573">-selectedDecision: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="251" y="1076.562">-possibleDecisions: Dictionary&lt;Guid, string&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="508" y1="1083.1563" y2="1083.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="251" y="1097.3667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="251" y="1110.1714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="251" y="1122.9761">-hashifyStringToID(decision: string): int</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="90" fill="#FEFECE" filter="url(#fohk0xqrsvtcb)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="56.5" y="1027.5"/><ellipse cx="71.5" cy="1043.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M73.8438,1039.1719 C72.9063,1038.7344 72.3125,1038.5938 71.4375,1038.5938 C68.8125,1038.5938 66.8125,1040.6719 66.8125,1043.3906 L66.8125,1044.5156 C66.8125,1047.0938 68.9219,1048.9844 71.8125,1048.9844 C73.0313,1048.9844 74.1875,1048.6875 74.9375,1048.1406 C75.5156,1047.7344 75.8438,1047.2813 75.8438,1046.8906 C75.8438,1046.4375 75.4531,1046.0469 74.9844,1046.0469 C74.7656,1046.0469 74.5625,1046.125 74.375,1046.3125 C73.9219,1046.7969 73.9219,1046.7969 73.7344,1046.8906 C73.3125,1047.1563 72.625,1047.2813 71.8594,1047.2813 C69.8125,1047.2813 68.5156,1046.1875 68.5156,1044.4844 L68.5156,1043.3906 C68.5156,1041.6094 69.7656,1040.2969 71.5,1040.2969 C72.0781,1040.2969 72.6875,1040.4531 73.1563,1040.7031 C73.6406,1040.9844 73.8125,1041.2031 73.9063,1041.6094 C73.9688,1042.0156 74,1042.1406 74.1406,1042.2656 C74.2813,1042.4063 74.5156,1042.5156 74.7344,1042.5156 C75,1042.5156 75.2656,1042.375 75.4375,1042.1563 C75.5469,1042 75.5781,1041.8125 75.5781,1041.3906 L75.5781,1039.9688 C75.5781,1039.5313 75.5625,1039.4063 75.4688,1039.25 C75.3125,1038.9844 75.0313,1038.8438 74.7344,1038.8438 C74.4375,1038.8438 74.2344,1038.9375 74.0156,1039.25 L73.8438,1039.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="85.5" y="1047.6543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1059.5" y2="1059.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1067.5" y2="1067.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="62.5" y="1081.7104">+PlayerAudienceView()</text><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="94" d="M917.626,629.219 C894.937,658.187 871.2,688.495 850.279,715.206 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="95" d="M1008.83,797 C1020.48,797 1032.14,797 1043.8,797 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6ad5262873646cc0a067a1a0032951a6]
link msl to api--><path codeLine="96" d="M792.597,878.529 C794.754,909.565 797.216,945.002 799.376,976.075 " fill="none" id="msl-api" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="97" d="M1131.68,266.123 C1137.78,304.043 1144.85,348.648 1151,389 C1166.53,490.995 1183.33,607.52 1195.01,689.676 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="98" d="M1011.69,243.31 C961.96,280.425 906.15,330.784 872,389 C812.192,490.954 794.118,629.003 788.859,715.256 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="99" d="M1222.25,186.99 C1306.97,202.349 1412,239.116 1412,327 C1412,327 1412,327 1412,798 C1412,845.786 1426.31,868.79 1394,904 C1341.41,961.314 1154.45,1003.315 1005.1,1028.656 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="100" d="M1088.18,266.282 C1076.13,304.013 1061.96,348.386 1049.08,388.745 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[74bdb0cfd034b788e140b4bbff816985]
link pav to pace--><path codeLine="101" d="M209.727,1058 C221.379,1058 233.032,1058 244.684,1058 " fill="none" id="pav-pace" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[174fed849d61687df396b348733ea285]
reverse link api to pace--><path codeLine="102" d="M599.712,1079.178 C575.045,1079.82 550.207,1079.579 526.5,1078 C520.882,1077.626 515.154,1077.174 509.373,1076.659 " fill="none" id="api-backto-pace" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="604.973,1079.027,595.8624,1075.2858,599.975,1079.1699,596.091,1083.2826,604.973,1079.027" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="527.5" y="1074.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="589.0032" y="1076.6202">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="517.073" y="1054.6496">n</text><!--MD5=[763243775f7218d803f1637a0157ad7e]
@startuml
skinparam classAttributeIconSize 0

package "Server" {
   

  package "ServerLogic" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} -port: int
      {field} -runShell: bool
      {field} -serverShell: ServerShell
      {field} -streamReader: StreamReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} -webSocket: WebSocket
      {field} -ip: IPAddress
      {field} -port: int
      {field} -numberOfConnectedPlayerAudienceClients: int
      {field} +logger: Logger
      {field} -authentificationTokenModeratorClientHash: int
      {method} +ModeratorClientManager(): void
      {method} +disconnect(): void
      {method} +recieveMessage(message: string): void
      {method} +checkJSON(message: string): bool
      {method} +sendMessage(message: string): void
      {method} +sendVotingResults(results: Dictionary<Guid, int>): void
      {method} +evalJSON(json: string): string[]

    }    

    class "MainServerLogic" as msl {
      {field} -moderator: ModeratorClientManager
      {field} -playerAudience: PlayerAudienceClientManager
      {field} -timer: Timer
      {field} +logger: Logger
      {method} +MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void
      {method} +updateModeratorClientManagerPlayerAudienceClientCountAttribute(): void
      {method} +startPollingTimer(): void
    }

    class "PlayerAudienceClientManager" as api {
        {field} -observerCollection: ArrayList<Observer>
        {field} -possibleDecisions: string[]
        {field} -voteCounter: Dictionary<int, int>
        {method} +PlayerAudienceClientManager()
        {method} +subscribeObserver(observer: Observer, cookie: Cookie): void
        {method} +unsubscribeObserver(observer: Observer): void
        {method} -notifyObservers(): void
        {method} +updatePossibleDecisions(decisions: Dictionary<Guid, string>): void
        {method} +evaluateVotes(): Dictionary<Guid, int>
  }

    class "ServerLogger" as sl <<Singleton>> {
      {field} +globalLogger: Logger
      {field} -logFile: StreamWriter
      {field} -isSetup: bool
      {field} -consoleHandler: Handler
      {method} -Logger()
      {method} +createNewLogger(): Logger
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: bool): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} -sessionCookie: Cookie
      {field} -votingAllowed: bool
      {field} -selectedDecision: int
      {field} -possibleDecisions: Dictionary<Guid, string>
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} -hashifyStringToID(decision: string): int
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -down- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace -left- pav
  api "1" <-right- "n" pace : observes
}
@enduml

PlantUML version 1.2020.20beta13(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>