<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1149px" preserveAspectRatio="none" style="width:1204px;height:1149px;" version="1.1" viewBox="0 0 1204 1149" width="1204px" zoomAndPan="magnify"><defs><filter height="300%" id="ffhjt4sypvu7d" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#ffhjt4sypvu7d)" points="16,6,73,6,80,28.2969,1187,28.2969,1187,1142,16,1142,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="20.9951">Server</text><!--MD5=[bec4376398c619d3cc65439ee33bd7ca]
cluster ServerLogic--><rect fill="#FFFFFF" filter="url(#ffhjt4sypvu7d)" height="1069" style="stroke: #000000; stroke-width: 1.5;" width="650" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="791" y="63.9951">ServerLogic</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#ffhjt4sypvu7d)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="907"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="176.5" y="921.9951">PlayerAudience-Client</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="7" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="240.0703" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="683" y="370"/><ellipse cx="765.75" cy="386" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M768.0938,381.6719 C767.1563,381.2344 766.5625,381.0938 765.6875,381.0938 C763.0625,381.0938 761.0625,383.1719 761.0625,385.8906 L761.0625,387.0156 C761.0625,389.5938 763.1719,391.4844 766.0625,391.4844 C767.2813,391.4844 768.4375,391.1875 769.1875,390.6406 C769.7656,390.2344 770.0938,389.7813 770.0938,389.3906 C770.0938,388.9375 769.7031,388.5469 769.2344,388.5469 C769.0156,388.5469 768.8125,388.625 768.625,388.8125 C768.1719,389.2969 768.1719,389.2969 767.9844,389.3906 C767.5625,389.6563 766.875,389.7813 766.1094,389.7813 C764.0625,389.7813 762.7656,388.6875 762.7656,386.9844 L762.7656,385.8906 C762.7656,384.1094 764.0156,382.7969 765.75,382.7969 C766.3281,382.7969 766.9375,382.9531 767.4063,383.2031 C767.8906,383.4844 768.0625,383.7031 768.1563,384.1094 C768.2188,384.5156 768.25,384.6406 768.3906,384.7656 C768.5313,384.9063 768.7656,385.0156 768.9844,385.0156 C769.25,385.0156 769.5156,384.875 769.6875,384.6563 C769.7969,384.5 769.8281,384.3125 769.8281,383.8906 L769.8281,382.4688 C769.8281,382.0313 769.8125,381.9063 769.7188,381.75 C769.5625,381.4844 769.2813,381.3438 768.9844,381.3438 C768.6875,381.3438 768.4844,381.4375 768.2656,381.75 L768.0938,381.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="786.25" y="390.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="684" x2="926" y1="402" y2="402"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="689" y="416.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="689" y="429.0151">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="689" y="441.8198">-runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="689" y="454.6245">-serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="689" y="467.4292">-bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="684" x2="926" y1="474.0234" y2="474.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="689" y="488.2339">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="689" y="501.0386">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="689" y="513.8433">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="689" y="526.6479">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="539.4526">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="552.2573">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="689" y="565.062">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="689" y="577.8667">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="689" y="590.6714">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="689" y="603.4761">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="25" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="188.8516" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="816" y="671"/><ellipse cx="884.75" cy="687" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M887.0938,682.6719 C886.1563,682.2344 885.5625,682.0938 884.6875,682.0938 C882.0625,682.0938 880.0625,684.1719 880.0625,686.8906 L880.0625,688.0156 C880.0625,690.5938 882.1719,692.4844 885.0625,692.4844 C886.2813,692.4844 887.4375,692.1875 888.1875,691.6406 C888.7656,691.2344 889.0938,690.7813 889.0938,690.3906 C889.0938,689.9375 888.7031,689.5469 888.2344,689.5469 C888.0156,689.5469 887.8125,689.625 887.625,689.8125 C887.1719,690.2969 887.1719,690.2969 886.9844,690.3906 C886.5625,690.6563 885.875,690.7813 885.1094,690.7813 C883.0625,690.7813 881.7656,689.6875 881.7656,687.9844 L881.7656,686.8906 C881.7656,685.1094 883.0156,683.7969 884.75,683.7969 C885.3281,683.7969 885.9375,683.9531 886.4063,684.2031 C886.8906,684.4844 887.0625,684.7031 887.1563,685.1094 C887.2188,685.5156 887.25,685.6406 887.3906,685.7656 C887.5313,685.9063 887.7656,686.0156 887.9844,686.0156 C888.25,686.0156 888.5156,685.875 888.6875,685.6563 C888.7969,685.5 888.8281,685.3125 888.8281,684.8906 L888.8281,683.4688 C888.8281,683.0313 888.8125,682.9063 888.7188,682.75 C888.5625,682.4844 888.2813,682.3438 887.9844,682.3438 C887.6875,682.3438 887.4844,682.4375 887.2656,682.75 L887.0938,682.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="905.25" y="691.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="817" x2="1109" y1="703" y2="703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="822" y="717.2104">-webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="822" y="730.0151">-ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="822" y="742.8198">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="822" y="755.6245">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="822" y="768.4292">-authentificationTokenModeratorClientHash: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="817" x2="1109" y1="775.0234" y2="775.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="822" y="789.2339">+ModeratorClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="822" y="802.0386">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="822" y="814.8433">+recieveMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="822" y="827.6479">+checkJSON(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="822" y="840.4526">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="822" y="853.2573">+evalJSON(): string</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="40" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="529" y="709.5"/><ellipse cx="600.75" cy="725.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M603.0938,721.1719 C602.1563,720.7344 601.5625,720.5938 600.6875,720.5938 C598.0625,720.5938 596.0625,722.6719 596.0625,725.3906 L596.0625,726.5156 C596.0625,729.0938 598.1719,730.9844 601.0625,730.9844 C602.2813,730.9844 603.4375,730.6875 604.1875,730.1406 C604.7656,729.7344 605.0938,729.2813 605.0938,728.8906 C605.0938,728.4375 604.7031,728.0469 604.2344,728.0469 C604.0156,728.0469 603.8125,728.125 603.625,728.3125 C603.1719,728.7969 603.1719,728.7969 602.9844,728.8906 C602.5625,729.1563 601.875,729.2813 601.1094,729.2813 C599.0625,729.2813 597.7656,728.1875 597.7656,726.4844 L597.7656,725.3906 C597.7656,723.6094 599.0156,722.2969 600.75,722.2969 C601.3281,722.2969 601.9375,722.4531 602.4063,722.7031 C602.8906,722.9844 603.0625,723.2031 603.1563,723.6094 C603.2188,724.0156 603.25,724.1406 603.3906,724.2656 C603.5313,724.4063 603.7656,724.5156 603.9844,724.5156 C604.25,724.5156 604.5156,724.375 604.6875,724.1563 C604.7969,724 604.8281,723.8125 604.8281,723.3906 L604.8281,721.9688 C604.8281,721.5313 604.8125,721.4063 604.7188,721.25 C604.5625,720.9844 604.2813,720.8438 603.9844,720.8438 C603.6875,720.8438 603.4844,720.9375 603.2656,721.25 L603.0938,721.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="621.25" y="729.6543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="780" y1="741.5" y2="741.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="535" y="755.7104">-moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="535" y="768.5151">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="780" y1="775.1094" y2="775.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="535" y="789.3198">+MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="535" y="802.1245">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="535" y="814.9292">+onVotingMessage(message: string): void</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="49" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="176.0469" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="569" y="926"/><ellipse cx="660.25" cy="942" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M662.5938,937.6719 C661.6563,937.2344 661.0625,937.0938 660.1875,937.0938 C657.5625,937.0938 655.5625,939.1719 655.5625,941.8906 L655.5625,943.0156 C655.5625,945.5938 657.6719,947.4844 660.5625,947.4844 C661.7813,947.4844 662.9375,947.1875 663.6875,946.6406 C664.2656,946.2344 664.5938,945.7813 664.5938,945.3906 C664.5938,944.9375 664.2031,944.5469 663.7344,944.5469 C663.5156,944.5469 663.3125,944.625 663.125,944.8125 C662.6719,945.2969 662.6719,945.2969 662.4844,945.3906 C662.0625,945.6563 661.375,945.7813 660.6094,945.7813 C658.5625,945.7813 657.2656,944.6875 657.2656,942.9844 L657.2656,941.8906 C657.2656,940.1094 658.5156,938.7969 660.25,938.7969 C660.8281,938.7969 661.4375,938.9531 661.9063,939.2031 C662.3906,939.4844 662.5625,939.7031 662.6563,940.1094 C662.7188,940.5156 662.75,940.6406 662.8906,940.7656 C663.0313,940.9063 663.2656,941.0156 663.4844,941.0156 C663.75,941.0156 664.0156,940.875 664.1875,940.6563 C664.2969,940.5 664.3281,940.3125 664.3281,939.8906 L664.3281,938.4688 C664.3281,938.0313 664.3125,937.9063 664.2188,937.75 C664.0625,937.4844 663.7813,937.3438 663.4844,937.3438 C663.1875,937.3438 662.9844,937.4375 662.7656,937.75 L662.5938,937.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="680.75" y="946.1543">PlayerAudienceClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="570" x2="936" y1="958" y2="958"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="575" y="972.2104">-observerCollection: ArrayList&lt;Observer&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="575" y="985.0151">-possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="575" y="997.8198">-voteCounter: Dictionary&lt;int, int&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="570" x2="936" y1="1004.4141" y2="1004.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="575" y="1018.6245">+PlayerAudienceClientManager()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="575" y="1031.4292">+subscribeObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="575" y="1044.2339">+unsubscribeObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="575" y="1057.0386">+notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="575" y="1069.8433">+updatePossibleDecisions(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="575" y="1082.6479">+collectVotes(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="575" y="1095.4526">+evaluateVotes(): Dictionary&lt;int, int&gt;</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="62" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="163.2422" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="768" y="84"/><ellipse cx="837.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M840.0938,95.6719 C839.1563,95.2344 838.5625,95.0938 837.6875,95.0938 C835.0625,95.0938 833.0625,97.1719 833.0625,99.8906 L833.0625,101.0156 C833.0625,103.5938 835.1719,105.4844 838.0625,105.4844 C839.2813,105.4844 840.4375,105.1875 841.1875,104.6406 C841.7656,104.2344 842.0938,103.7813 842.0938,103.3906 C842.0938,102.9375 841.7031,102.5469 841.2344,102.5469 C841.0156,102.5469 840.8125,102.625 840.625,102.8125 C840.1719,103.2969 840.1719,103.2969 839.9844,103.3906 C839.5625,103.6563 838.875,103.7813 838.1094,103.7813 C836.0625,103.7813 834.7656,102.6875 834.7656,100.9844 L834.7656,99.8906 C834.7656,98.1094 836.0156,96.7969 837.75,96.7969 C838.3281,96.7969 838.9375,96.9531 839.4063,97.2031 C839.8906,97.4844 840.0625,97.7031 840.1563,98.1094 C840.2188,98.5156 840.25,98.6406 840.3906,98.7656 C840.5313,98.9063 840.7656,99.0156 840.9844,99.0156 C841.25,99.0156 841.5156,98.875 841.6875,98.6563 C841.7969,98.5 841.8281,98.3125 841.8281,97.8906 L841.8281,96.4688 C841.8281,96.0313 841.8125,95.9063 841.7188,95.75 C841.5625,95.4844 841.2813,95.3438 840.9844,95.3438 C840.6875,95.3438 840.4844,95.4375 840.2656,95.75 L840.0938,95.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="858.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="769" x2="999" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="774" y="130.2104">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="774" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="774" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="774" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="769" x2="999" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="774" y="189.4292">+Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="774" y="202.2339">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="774" y="215.0386">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="774" y="227.8433">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="774" y="240.6479">+setConsoleOutput(val: boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="75" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="245" y="942"/><ellipse cx="265.85" cy="960.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M268.1938,956.6406 C267.2563,956.2031 266.6625,956.0625 265.7875,956.0625 C263.1625,956.0625 261.1625,958.1406 261.1625,960.8594 L261.1625,961.9844 C261.1625,964.5625 263.2719,966.4531 266.1625,966.4531 C267.3813,966.4531 268.5375,966.1563 269.2875,965.6094 C269.8656,965.2031 270.1938,964.75 270.1938,964.3594 C270.1938,963.9063 269.8031,963.5156 269.3344,963.5156 C269.1156,963.5156 268.9125,963.5938 268.725,963.7813 C268.2719,964.2656 268.2719,964.2656 268.0844,964.3594 C267.6625,964.625 266.975,964.75 266.2094,964.75 C264.1625,964.75 262.8656,963.6563 262.8656,961.9531 L262.8656,960.8594 C262.8656,959.0781 264.1156,957.7656 265.85,957.7656 C266.4281,957.7656 267.0375,957.9219 267.5063,958.1719 C267.9906,958.4531 268.1625,958.6719 268.2563,959.0781 C268.3188,959.4844 268.35,959.6094 268.4906,959.7344 C268.6313,959.875 268.8656,959.9844 269.0844,959.9844 C269.35,959.9844 269.6156,959.8438 269.7875,959.625 C269.8969,959.4688 269.9281,959.2813 269.9281,958.8594 L269.9281,957.4375 C269.9281,957 269.9125,956.875 269.8188,956.7188 C269.6625,956.4531 269.3813,956.3125 269.0844,956.3125 C268.7875,956.3125 268.5844,956.4063 268.3656,956.7188 L268.1938,956.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="338.65" y="958.1387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="281.15" y="972.1074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="472" y1="979.9375" y2="979.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="251" y="994.1479">-sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="251" y="1006.9526">-hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="251" y="1019.7573">-selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="251" y="1032.562">-possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="472" y1="1039.1563" y2="1039.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="251" y="1053.3667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="251" y="1066.1714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="1078.9761">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="85" fill="#FEFECE" filter="url(#ffhjt4sypvu7d)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="56.5" y="983.5"/><ellipse cx="71.5" cy="999.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M73.8438,995.1719 C72.9063,994.7344 72.3125,994.5938 71.4375,994.5938 C68.8125,994.5938 66.8125,996.6719 66.8125,999.3906 L66.8125,1000.5156 C66.8125,1003.0938 68.9219,1004.9844 71.8125,1004.9844 C73.0313,1004.9844 74.1875,1004.6875 74.9375,1004.1406 C75.5156,1003.7344 75.8438,1003.2813 75.8438,1002.8906 C75.8438,1002.4375 75.4531,1002.0469 74.9844,1002.0469 C74.7656,1002.0469 74.5625,1002.125 74.375,1002.3125 C73.9219,1002.7969 73.9219,1002.7969 73.7344,1002.8906 C73.3125,1003.1563 72.625,1003.2813 71.8594,1003.2813 C69.8125,1003.2813 68.5156,1002.1875 68.5156,1000.4844 L68.5156,999.3906 C68.5156,997.6094 69.7656,996.2969 71.5,996.2969 C72.0781,996.2969 72.6875,996.4531 73.1563,996.7031 C73.6406,996.9844 73.8125,997.2031 73.9063,997.6094 C73.9688,998.0156 74,998.1406 74.1406,998.2656 C74.2813,998.4063 74.5156,998.5156 74.7344,998.5156 C75,998.5156 75.2656,998.375 75.4375,998.1563 C75.5469,998 75.5781,997.8125 75.5781,997.3906 L75.5781,995.9688 C75.5781,995.5313 75.5625,995.4063 75.4688,995.25 C75.3125,994.9844 75.0313,994.8438 74.7344,994.8438 C74.4375,994.8438 74.2344,994.9375 74.0156,995.25 L73.8438,995.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="85.5" y="1003.6543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1015.5" y2="1015.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1023.5" y2="1023.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="62.5" y="1037.7104">+PlayerAudienceView()</text><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="89" d="M739.644,610.165 C720.696,644.714 700.914,680.784 685.242,709.359 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="90" d="M781.027,765.5 C792.638,765.5 804.248,765.5 815.858,765.5 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6ad5262873646cc0a067a1a0032951a6]
link msl to api--><path codeLine="91" d="M676.871,821.513 C689.056,852.161 704.509,891.031 718.304,925.73 " fill="none" id="msl-api" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="92" d="M913.138,247.103 C925.198,284.054 937.983,328.73 945,370 C962.324,471.893 965.487,590.582 965.159,670.952 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="93" d="M767.836,244.864 C728.082,278.336 688.091,321.037 666,370 C615.562,481.792 630.28,630.124 643.698,709.241 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="94" d="M1000.06,183.6 C1070.14,201.244 1146,236.789 1146,308 C1146,308 1146,308 1146,766.5 C1146,808.819 1154.83,827.276 1128,860 C1080.18,918.315 1006.61,954.622 937.262,977.126 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="95" d="M864.269,247.048 C855.174,284.175 844.196,328.992 834.172,369.913 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[74bdb0cfd034b788e140b4bbff816985]
link pav to pace--><path codeLine="96" d="M209.805,1014 C221.461,1014 233.116,1014 244.772,1014 " fill="none" id="pav-pace" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[174fed849d61687df396b348733ea285]
reverse link api to pace--><path codeLine="97" d="M563.476,1035.281 C538.923,1036.029 514.114,1035.786 490.5,1034 C484.858,1033.573 479.092,1033.045 473.277,1032.439 " fill="none" id="api-backto-pace" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="568.71,1035.107,559.5824,1031.4074,563.7127,1035.2727,559.8475,1039.403,568.71,1035.107" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="491.5" y="1030.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="552.7665" y="1032.7498">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="481.1693" y="1010.5819">n</text><!--MD5=[aa45a5f90babcac4e08100fe836db5e5]
@startuml
skinparam classAttributeIconSize 0

package "Server" {
   

  package "ServerLogic" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} -port: int
      {field} -runShell: boolean
      {field} -serverShell: ServerShell
      {field} -bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} -webSocket: WebSocket
      {field} -ip: int
      {field} -port: int
      {field} +logger: Logger
      {field} -authentificationTokenModeratorClientHash: int
      {method} +ModeratorClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +recieveMessage(message: string): void
      {method} +checkJSON(message: string): void
      {method} +sendMessage(message: string): void
      {method} +evalJSON(): string

    }    

    class "MainServerLogic" as msl {
      {field} -moderator: WebClient
      {field} +logger: Logger
      {method} +MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void

    }

    class "PlayerAudienceClientManager" as api {
        {field} -observerCollection: ArrayList<Observer>
        {field} -possibleDecisions: StoryEvent[]
        {field} -voteCounter: Dictionary<int, int>
        {method} +PlayerAudienceClientManager()
        {method} +subscribeObserver(observer: Observer, cookie: Cookie): void
        {method} +unsubscribeObserver(observer: Observer): void
        {method} +notifyObservers(): void
        {method} +updatePossibleDecisions(): void
        {method} +collectVotes(): void
        {method} +evaluateVotes(): Dictionary<int, int>
  }

    class "ServerLogger" as sl {
      {field} +globalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +Logger()
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: boolean): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} -sessionCookie: Cookie
      {field} -hasVoted: boolean
      {field} -selectedDecision: StoryEvent
      {field} -possibleDecisions: StoryEvent[]
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -down- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace -left- pav
  api "1" <-right- "n" pace : observes
}
@enduml

PlantUML version 1.2020.20beta13(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>