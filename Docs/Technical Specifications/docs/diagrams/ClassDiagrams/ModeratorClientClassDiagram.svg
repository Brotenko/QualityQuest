<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="959px" preserveAspectRatio="none" style="width:494px;height:959px;" version="1.1" viewBox="0 0 494 959" width="494px" zoomAndPan="magnify"><defs><filter height="300%" id="f19mwv2kd4us2k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[c047474403e650c4d4572c8d29a316f1]
cluster Moderator Client--><polygon fill="#FFFFFF" filter="url(#f19mwv2kd4us2k)" points="16,6,159,6,166,28.2969,477,28.2969,477,952,16,952,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="166" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="137" x="20" y="20.9951">Moderator Client</text><!--MD5=[3eaf92687768346c8d614b6fd2c22fb9]
class StoryEvent--><rect codeLine="5" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="124.8281" id="StoryEvent" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="127.5" y="41"/><ellipse cx="209.25" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M211.5938,52.6719 C210.6563,52.2344 210.0625,52.0938 209.1875,52.0938 C206.5625,52.0938 204.5625,54.1719 204.5625,56.8906 L204.5625,58.0156 C204.5625,60.5938 206.6719,62.4844 209.5625,62.4844 C210.7813,62.4844 211.9375,62.1875 212.6875,61.6406 C213.2656,61.2344 213.5938,60.7813 213.5938,60.3906 C213.5938,59.9375 213.2031,59.5469 212.7344,59.5469 C212.5156,59.5469 212.3125,59.625 212.125,59.8125 C211.6719,60.2969 211.6719,60.2969 211.4844,60.3906 C211.0625,60.6563 210.375,60.7813 209.6094,60.7813 C207.5625,60.7813 206.2656,59.6875 206.2656,57.9844 L206.2656,56.8906 C206.2656,55.1094 207.5156,53.7969 209.25,53.7969 C209.8281,53.7969 210.4375,53.9531 210.9063,54.2031 C211.3906,54.4844 211.5625,54.7031 211.6563,55.1094 C211.7188,55.5156 211.75,55.6406 211.8906,55.7656 C212.0313,55.9063 212.2656,56.0156 212.4844,56.0156 C212.75,56.0156 213.0156,55.875 213.1875,55.6563 C213.2969,55.5 213.3281,55.3125 213.3281,54.8906 L213.3281,53.4688 C213.3281,53.0313 213.3125,52.9063 213.2188,52.75 C213.0625,52.4844 212.7813,52.3438 212.4844,52.3438 C212.1875,52.3438 211.9844,52.4375 211.7656,52.75 L211.5938,52.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="229.75" y="61.1543">StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="128.5" x2="363.5" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="133.5" y="87.2104">+eventId: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="133.5" y="100.0151">+description: String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="133.5" y="112.8198">+parent: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="133.5" y="125.6245">+children: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="128.5" x2="363.5" y1="132.2188" y2="132.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="133.5" y="146.4292">+StoryEvent(parent: StoryEvent, id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="133.5" y="159.2339">+addChild(): void</text><!--MD5=[efd5ebcc74ce0165d13c1df9fdb2b1d2]
class StoryGraph--><rect codeLine="14" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="176.0469" id="StoryGraph" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="85" y="226"/><ellipse cx="207.75" cy="242" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M210.0938,237.6719 C209.1563,237.2344 208.5625,237.0938 207.6875,237.0938 C205.0625,237.0938 203.0625,239.1719 203.0625,241.8906 L203.0625,243.0156 C203.0625,245.5938 205.1719,247.4844 208.0625,247.4844 C209.2813,247.4844 210.4375,247.1875 211.1875,246.6406 C211.7656,246.2344 212.0938,245.7813 212.0938,245.3906 C212.0938,244.9375 211.7031,244.5469 211.2344,244.5469 C211.0156,244.5469 210.8125,244.625 210.625,244.8125 C210.1719,245.2969 210.1719,245.2969 209.9844,245.3906 C209.5625,245.6563 208.875,245.7813 208.1094,245.7813 C206.0625,245.7813 204.7656,244.6875 204.7656,242.9844 L204.7656,241.8906 C204.7656,240.1094 206.0156,238.7969 207.75,238.7969 C208.3281,238.7969 208.9375,238.9531 209.4063,239.2031 C209.8906,239.4844 210.0625,239.7031 210.1563,240.1094 C210.2188,240.5156 210.25,240.6406 210.3906,240.7656 C210.5313,240.9063 210.7656,241.0156 210.9844,241.0156 C211.25,241.0156 211.5156,240.875 211.6875,240.6563 C211.7969,240.5 211.8281,240.3125 211.8281,239.8906 L211.8281,238.4688 C211.8281,238.0313 211.8125,237.9063 211.7188,237.75 C211.5625,237.4844 211.2813,237.3438 210.9844,237.3438 C210.6875,237.3438 210.4844,237.4375 210.2656,237.75 L210.0938,237.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="228.25" y="246.1543">StoryGraph</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="86" x2="406" y1="258" y2="258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="91" y="272.2104">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="91" y="285.0151">+character: Character</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="91" y="297.8198">+root: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="91" y="310.6245">+currentEvent: StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="86" x2="406" y1="317.2188" y2="317.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="91" y="331.4292">+StoryGraph(id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="91" y="344.2339">+loadGraphFromFile(): Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="91" y="357.0386">+saveGraphToFile(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="91" y="369.8433">+getNextPossibleEvent(): StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="91" y="382.6479">+setCurrentEvent(newCurrentEvent: StoryEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="91" y="395.4526">+getNextStoryEventById(id: int): StoryEvent</text><!--MD5=[42e1add689e888dd7b55d3ee3f1dd6d7]
class Skill--><rect codeLine="27" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="124.8281" id="Skill" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="32" y="633.5"/><ellipse cx="116.75" cy="649.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M119.0938,645.1719 C118.1563,644.7344 117.5625,644.5938 116.6875,644.5938 C114.0625,644.5938 112.0625,646.6719 112.0625,649.3906 L112.0625,650.5156 C112.0625,653.0938 114.1719,654.9844 117.0625,654.9844 C118.2813,654.9844 119.4375,654.6875 120.1875,654.1406 C120.7656,653.7344 121.0938,653.2813 121.0938,652.8906 C121.0938,652.4375 120.7031,652.0469 120.2344,652.0469 C120.0156,652.0469 119.8125,652.125 119.625,652.3125 C119.1719,652.7969 119.1719,652.7969 118.9844,652.8906 C118.5625,653.1563 117.875,653.2813 117.1094,653.2813 C115.0625,653.2813 113.7656,652.1875 113.7656,650.4844 L113.7656,649.3906 C113.7656,647.6094 115.0156,646.2969 116.75,646.2969 C117.3281,646.2969 117.9375,646.4531 118.4063,646.7031 C118.8906,646.9844 119.0625,647.2031 119.1563,647.6094 C119.2188,648.0156 119.25,648.1406 119.3906,648.2656 C119.5313,648.4063 119.7656,648.5156 119.9844,648.5156 C120.25,648.5156 120.5156,648.375 120.6875,648.1563 C120.7969,648 120.8281,647.8125 120.8281,647.3906 L120.8281,645.9688 C120.8281,645.5313 120.8125,645.4063 120.7188,645.25 C120.5625,644.9844 120.2813,644.8438 119.9844,644.8438 C119.6875,644.8438 119.4844,644.9375 119.2656,645.25 L119.0938,645.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="137.25" y="653.6543">Skill</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="33" x2="233" y1="665.5" y2="665.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="38" y="679.7104">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="38" y="692.5151">+value: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="38" y="705.3198">+description: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="33" x2="233" y1="711.9141" y2="711.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="38" y="726.1245">+Skill(id: int, val: int, desc: String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="38" y="738.9292">+setValue(val: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="38" y="751.7339">+getValue(): int</text><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><rect codeLine="36" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="99.2188" id="Character" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="91.5" y="462"/><ellipse cx="113.25" cy="478" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M115.5938,473.6719 C114.6563,473.2344 114.0625,473.0938 113.1875,473.0938 C110.5625,473.0938 108.5625,475.1719 108.5625,477.8906 L108.5625,479.0156 C108.5625,481.5938 110.6719,483.4844 113.5625,483.4844 C114.7813,483.4844 115.9375,483.1875 116.6875,482.6406 C117.2656,482.2344 117.5938,481.7813 117.5938,481.3906 C117.5938,480.9375 117.2031,480.5469 116.7344,480.5469 C116.5156,480.5469 116.3125,480.625 116.125,480.8125 C115.6719,481.2969 115.6719,481.2969 115.4844,481.3906 C115.0625,481.6563 114.375,481.7813 113.6094,481.7813 C111.5625,481.7813 110.2656,480.6875 110.2656,478.9844 L110.2656,477.8906 C110.2656,476.1094 111.5156,474.7969 113.25,474.7969 C113.8281,474.7969 114.4375,474.9531 114.9063,475.2031 C115.3906,475.4844 115.5625,475.7031 115.6563,476.1094 C115.7188,476.5156 115.75,476.6406 115.8906,476.7656 C116.0313,476.9063 116.2656,477.0156 116.4844,477.0156 C116.75,477.0156 117.0156,476.875 117.1875,476.6563 C117.2969,476.5 117.3281,476.3125 117.3281,475.8906 L117.3281,474.4688 C117.3281,474.0313 117.3125,473.9063 117.2188,473.75 C117.0625,473.4844 116.7813,473.3438 116.4844,473.3438 C116.1875,473.3438 115.9844,473.4375 115.7656,473.75 L115.5938,473.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="128.75" y="482.1543">Character</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="92.5" x2="195.5" y1="494" y2="494"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="97.5" y="508.2104">+sprite: Texture</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="97.5" y="521.0151">+abilities: Skill[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="97.5" y="533.8198">+name: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="92.5" x2="195.5" y1="540.4141" y2="540.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="97.5" y="554.6245">+Character()</text><!--MD5=[bb849c1528464e2c6bbfb2687d0866b0]
class mf--><rect codeLine="43" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="99.2188" id="mf" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="252.5" y="462"/><ellipse cx="300.75" cy="478" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303.0938,473.6719 C302.1563,473.2344 301.5625,473.0938 300.6875,473.0938 C298.0625,473.0938 296.0625,475.1719 296.0625,477.8906 L296.0625,479.0156 C296.0625,481.5938 298.1719,483.4844 301.0625,483.4844 C302.2813,483.4844 303.4375,483.1875 304.1875,482.6406 C304.7656,482.2344 305.0938,481.7813 305.0938,481.3906 C305.0938,480.9375 304.7031,480.5469 304.2344,480.5469 C304.0156,480.5469 303.8125,480.625 303.625,480.8125 C303.1719,481.2969 303.1719,481.2969 302.9844,481.3906 C302.5625,481.6563 301.875,481.7813 301.1094,481.7813 C299.0625,481.7813 297.7656,480.6875 297.7656,478.9844 L297.7656,477.8906 C297.7656,476.1094 299.0156,474.7969 300.75,474.7969 C301.3281,474.7969 301.9375,474.9531 302.4063,475.2031 C302.8906,475.4844 303.0625,475.7031 303.1563,476.1094 C303.2188,476.5156 303.25,476.6406 303.3906,476.7656 C303.5313,476.9063 303.7656,477.0156 303.9844,477.0156 C304.25,477.0156 304.5156,476.875 304.6875,476.6563 C304.7969,476.5 304.8281,476.3125 304.8281,475.8906 L304.8281,474.4688 C304.8281,474.0313 304.8125,473.9063 304.7188,473.75 C304.5625,473.4844 304.2813,473.3438 303.9844,473.3438 C303.6875,473.3438 303.4844,473.4375 303.2656,473.75 L303.0938,473.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="321.25" y="482.1543">ModeratorView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="253.5" x2="448.5" y1="494" y2="494"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="258.5" y="508.2104">+timeoutDuration: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="253.5" x2="448.5" y1="514.8047" y2="514.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="258.5" y="529.0151">+ModeratorView()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="258.5" y="541.8198">+pausePolling(Boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="258.5" y="554.6245">+offlineMode(val: boolean): void</text><!--MD5=[9105e509a9f69a1dfba1c0054edeb4e1]
class pe--><rect codeLine="50" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="150.4375" id="pe" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="269" y="621"/><ellipse cx="323.25" cy="637" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M325.5938,632.6719 C324.6563,632.2344 324.0625,632.0938 323.1875,632.0938 C320.5625,632.0938 318.5625,634.1719 318.5625,636.8906 L318.5625,638.0156 C318.5625,640.5938 320.6719,642.4844 323.5625,642.4844 C324.7813,642.4844 325.9375,642.1875 326.6875,641.6406 C327.2656,641.2344 327.5938,640.7813 327.5938,640.3906 C327.5938,639.9375 327.2031,639.5469 326.7344,639.5469 C326.5156,639.5469 326.3125,639.625 326.125,639.8125 C325.6719,640.2969 325.6719,640.2969 325.4844,640.3906 C325.0625,640.6563 324.375,640.7813 323.6094,640.7813 C321.5625,640.7813 320.2656,639.6875 320.2656,637.9844 L320.2656,636.8906 C320.2656,635.1094 321.5156,633.7969 323.25,633.7969 C323.8281,633.7969 324.4375,633.9531 324.9063,634.2031 C325.3906,634.4844 325.5625,634.7031 325.6563,635.1094 C325.7188,635.5156 325.75,635.6406 325.8906,635.7656 C326.0313,635.9063 326.2656,636.0156 326.4844,636.0156 C326.75,636.0156 327.0156,635.875 327.1875,635.6563 C327.2969,635.5 327.3281,635.3125 327.3281,634.8906 L327.3281,633.4688 C327.3281,633.0313 327.3125,632.9063 327.2188,632.75 C327.0625,632.4844 326.7813,632.3438 326.4844,632.3438 C326.1875,632.3438 325.9844,632.4375 325.7656,632.75 L325.5938,632.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="343.75" y="641.1543">PollEvaluator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="270" x2="460" y1="653" y2="653"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="275" y="667.2104">possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="275" y="680.0151">timeout: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="275" y="692.8198">voteCounter: int[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="270" x2="460" y1="699.4141" y2="699.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="275" y="713.6245">+PollEvaluator()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="275" y="726.4292">+checkServerStatus(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="275" y="739.2339">+broadcastNextDecision(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="275" y="752.0386">+evaluateVotes(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="275" y="764.8433">+addVote(): void</text><!--MD5=[aef0d3d3c8a893455b9107cd4a3b357c]
class mcei--><rect codeLine="62" fill="#FEFECE" filter="url(#f19mwv2kd4us2k)" height="105.1563" id="mcei" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="272" y="831"/><ellipse cx="287" cy="849.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M289.3438,845.6406 C288.4063,845.2031 287.8125,845.0625 286.9375,845.0625 C284.3125,845.0625 282.3125,847.1406 282.3125,849.8594 L282.3125,850.9844 C282.3125,853.5625 284.4219,855.4531 287.3125,855.4531 C288.5313,855.4531 289.6875,855.1563 290.4375,854.6094 C291.0156,854.2031 291.3438,853.75 291.3438,853.3594 C291.3438,852.9063 290.9531,852.5156 290.4844,852.5156 C290.2656,852.5156 290.0625,852.5938 289.875,852.7813 C289.4219,853.2656 289.4219,853.2656 289.2344,853.3594 C288.8125,853.625 288.125,853.75 287.3594,853.75 C285.3125,853.75 284.0156,852.6563 284.0156,850.9531 L284.0156,849.8594 C284.0156,848.0781 285.2656,846.7656 287,846.7656 C287.5781,846.7656 288.1875,846.9219 288.6563,847.1719 C289.1406,847.4531 289.3125,847.6719 289.4063,848.0781 C289.4688,848.4844 289.5,848.6094 289.6406,848.7344 C289.7813,848.875 290.0156,848.9844 290.2344,848.9844 C290.5,848.9844 290.7656,848.8438 290.9375,848.625 C291.0469,848.4688 291.0781,848.2813 291.0781,847.8594 L291.0781,846.4375 C291.0781,846 291.0625,845.875 290.9688,845.7188 C290.8125,845.4531 290.5313,845.3125 290.2344,845.3125 C289.9375,845.3125 289.7344,845.4063 289.5156,845.7188 L289.3438,845.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="344.5" y="847.1387">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="301" y="861.1074">ModeratorClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="273" x2="457" y1="868.9375" y2="868.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="278" y="883.1479">+websocket:WebSocket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="273" x2="457" y1="889.7422" y2="889.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="278" y="903.9526">+ModeratorClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="278" y="916.7573">+getCurrentPollEval(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="278" y="929.562">+makeJSON()</text><!--MD5=[513d28559cb9b2f986fa50a4c3eda83f]
link StoryEvent to StoryGraph--><path codeLine="69" d="M246,166.211 C246,180.846 246,196.83 246,212.693 " fill="none" id="StoryEvent-to-StoryGraph" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="246,225.957,250,219.957,246,213.957,242,219.957,246,225.957" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="237.5625" y="185.9739">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="237.6563" y="214.8169">1</text><!--MD5=[c53e1f9c02f78d6f6c6c47087547b478]
link StoryGraph to mf--><path codeLine="70" d="M292.819,402.172 C303.811,422.639 315.139,443.731 324.846,461.804 " fill="none" id="StoryGraph-mf" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f80b4c689c2fbad67007e34e43864d26]
link StoryGraph to Character--><path codeLine="71" d="M200.519,402.172 C189.841,422.639 178.836,443.731 169.407,461.804 " fill="none" id="StoryGraph-Character" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4b16aa1dee279ab3d1d003602504b70d]
reverse link Character to Skill--><path codeLine="72" d="M140.263,574.494 C139.121,593.44 137.866,614.267 136.725,633.2 " fill="none" id="Character-backto-Skill" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="141.052,561.407,136.698,567.1552,140.3294,573.3852,144.6834,567.637,141.052,561.407" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="132.1184" y="581.1822">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="128.6949" y="622.5945">n</text><!--MD5=[d29554897930022c58dd8210ad447ef6]
link mf to pe--><path codeLine="73" d="M354.752,561.407 C356.153,579.673 357.777,600.847 359.314,620.879 " fill="none" id="mf-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[aec115d956d7b212d45293ef7ee64686]
link pe to mcei--><path codeLine="74" d="M365,771.114 C365,791.096 365,812.281 365,830.75 " fill="none" id="pe-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7983ddee228912144f86fcef040427eb]
@startuml
skinparam classAttributeIconSize 0

package "Moderator Client" {

  class StoryEvent {
    {field} +eventId: int
    {field} +description: String
    {field} +parent: StoryEvent
    {field} +children: StoryEvent[]
    {method} +StoryEvent(parent: StoryEvent, id: int)
    {method} +addChild(): void
  }

  class StoryGraph {
    {field} +id: int
    {field} +character: Character
    {field} +root: StoryEvent
    {field} +currentEvent: StoryEvent
    {method} +StoryGraph(id: int)
    {method} +loadGraphFromFile(): Graph
    {method} +saveGraphToFile(): void
    {method} +getNextPossibleEvent(): StoryEvent[]
    {method} +setCurrentEvent(newCurrentEvent: StoryEvent): void
    {method} +getNextStoryEventById(id: int): StoryEvent
  }

  class Skill {
    {field} +id: int
    {field} +value: int
    {field} +description: String
    {method} + Skill(id: int, val: int, desc: String)
    {method} + setValue(val: int): void
    {method} + getValue(): int
  }

  class Character {
    {field} +sprite: Texture
    {field} +abilities: Skill[]
    {field} +name: String
    {method} +Character()
  }

  class "ModeratorView" as mf {
    {field} +timeoutDuration: int
    {method} +ModeratorView()
    {method} +pausePolling(Boolean): void
    {method} +offlineMode(val: boolean): void
  }

  class "PollEvaluator" as pe {

    {field} possibleDecisions: StoryEvent[]
    {field} timeout: int
    {field} voteCounter: int[]
    {method} +PollEvaluator()
    {method} +checkServerStatus(): void
    {method} +broadcastNextDecision(): void
    {method} +evaluateVotes(): int
    {method} +addVote(): void
  }

  class "ModeratorClientExchange" as mcei <<interface>>{
    {field} +websocket:WebSocket
    {method} +ModeratorClientExchange()
    {method} +getCurrentPollEval(): int
    {method} +makeJSON()
  }
}
StoryEvent "n" - -* "1" StoryGraph
StoryGraph - - mf
StoryGraph - - Character
Character "1" *- - "n" Skill
mf - - pe
pe - - mcei
@enduml

PlantUML version 1.2020.19beta4(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>