<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1136px" preserveAspectRatio="none" style="width:1961px;height:1136px;" version="1.1" viewBox="0 0 1961 1136" width="1961px" zoomAndPan="magnify"><defs><filter height="300%" id="f1atci3z126g1e" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4544bf05af30223886112ffd96a1865f]
cluster Moderator-Client--><polygon fill="#FFFFFF" filter="url(#f1atci3z126g1e)" points="1401,68,1545,68,1552,90.2969,1944,90.2969,1944,1060.5,1401,1060.5,1401,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1401" x2="1552" y1="90.2969" y2="90.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="1405" y="82.9951">Moderator-Client</text><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#f1atci3z126g1e)" points="16,6,73,6,80,28.2969,1377,28.2969,1377,1129,16,1129,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="80" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="20" y="20.9951">Server</text><!--MD5=[b4e09d266be9964199f2622adcc056fa]
cluster Backend--><rect fill="#FFFFFF" filter="url(#f1atci3z126g1e)" height="1056" style="stroke: #000000; stroke-width: 1.5;" width="840" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="899" y="63.9951">Backend</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#f1atci3z126g1e)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="564.5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="176.5" y="579.4951">PlayerAudience-Client</text><!--MD5=[3eaf92687768346c8d614b6fd2c22fb9]
class StoryEvent--><rect codeLine="5" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="124.8281" id="StoryEvent" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="1541.5" y="103"/><ellipse cx="1623.25" cy="119" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1625.5938,114.6719 C1624.6563,114.2344 1624.0625,114.0938 1623.1875,114.0938 C1620.5625,114.0938 1618.5625,116.1719 1618.5625,118.8906 L1618.5625,120.0156 C1618.5625,122.5938 1620.6719,124.4844 1623.5625,124.4844 C1624.7813,124.4844 1625.9375,124.1875 1626.6875,123.6406 C1627.2656,123.2344 1627.5938,122.7813 1627.5938,122.3906 C1627.5938,121.9375 1627.2031,121.5469 1626.7344,121.5469 C1626.5156,121.5469 1626.3125,121.625 1626.125,121.8125 C1625.6719,122.2969 1625.6719,122.2969 1625.4844,122.3906 C1625.0625,122.6563 1624.375,122.7813 1623.6094,122.7813 C1621.5625,122.7813 1620.2656,121.6875 1620.2656,119.9844 L1620.2656,118.8906 C1620.2656,117.1094 1621.5156,115.7969 1623.25,115.7969 C1623.8281,115.7969 1624.4375,115.9531 1624.9063,116.2031 C1625.3906,116.4844 1625.5625,116.7031 1625.6563,117.1094 C1625.7188,117.5156 1625.75,117.6406 1625.8906,117.7656 C1626.0313,117.9063 1626.2656,118.0156 1626.4844,118.0156 C1626.75,118.0156 1627.0156,117.875 1627.1875,117.6563 C1627.2969,117.5 1627.3281,117.3125 1627.3281,116.8906 L1627.3281,115.4688 C1627.3281,115.0313 1627.3125,114.9063 1627.2188,114.75 C1627.0625,114.4844 1626.7813,114.3438 1626.4844,114.3438 C1626.1875,114.3438 1625.9844,114.4375 1625.7656,114.75 L1625.5938,114.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="1643.75" y="123.1543">StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1542.5" x2="1777.5" y1="135" y2="135"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1547.5" y="149.2104">+eventId: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1547.5" y="162.0151">+description: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1547.5" y="174.8198">+parent: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="1547.5" y="187.6245">+children: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1542.5" x2="1777.5" y1="194.2188" y2="194.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1547.5" y="208.4292">+StoryEvent(parent: StoryEvent, id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1547.5" y="221.2339">+addChild(): void</text><!--MD5=[efd5ebcc74ce0165d13c1df9fdb2b1d2]
class StoryGraph--><rect codeLine="14" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="176.0469" id="StoryGraph" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="1499" y="308"/><ellipse cx="1621.75" cy="324" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1624.0938,319.6719 C1623.1563,319.2344 1622.5625,319.0938 1621.6875,319.0938 C1619.0625,319.0938 1617.0625,321.1719 1617.0625,323.8906 L1617.0625,325.0156 C1617.0625,327.5938 1619.1719,329.4844 1622.0625,329.4844 C1623.2813,329.4844 1624.4375,329.1875 1625.1875,328.6406 C1625.7656,328.2344 1626.0938,327.7813 1626.0938,327.3906 C1626.0938,326.9375 1625.7031,326.5469 1625.2344,326.5469 C1625.0156,326.5469 1624.8125,326.625 1624.625,326.8125 C1624.1719,327.2969 1624.1719,327.2969 1623.9844,327.3906 C1623.5625,327.6563 1622.875,327.7813 1622.1094,327.7813 C1620.0625,327.7813 1618.7656,326.6875 1618.7656,324.9844 L1618.7656,323.8906 C1618.7656,322.1094 1620.0156,320.7969 1621.75,320.7969 C1622.3281,320.7969 1622.9375,320.9531 1623.4063,321.2031 C1623.8906,321.4844 1624.0625,321.7031 1624.1563,322.1094 C1624.2188,322.5156 1624.25,322.6406 1624.3906,322.7656 C1624.5313,322.9063 1624.7656,323.0156 1624.9844,323.0156 C1625.25,323.0156 1625.5156,322.875 1625.6875,322.6563 C1625.7969,322.5 1625.8281,322.3125 1625.8281,321.8906 L1625.8281,320.4688 C1625.8281,320.0313 1625.8125,319.9063 1625.7188,319.75 C1625.5625,319.4844 1625.2813,319.3438 1624.9844,319.3438 C1624.6875,319.3438 1624.4844,319.4375 1624.2656,319.75 L1624.0938,319.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="1642.25" y="328.1543">StoryGraph</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1500" x2="1820" y1="340" y2="340"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="1505" y="354.2104">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1505" y="367.0151">+character: Character</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1505" y="379.8198">+root: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="1505" y="392.6245">+currentEvent: StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1500" x2="1820" y1="399.2188" y2="399.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="1505" y="413.4292">+StoryGraph(id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="1505" y="426.2339">+loadGraphFromFile(): Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1505" y="439.0386">+saveGraphToFile(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="1505" y="451.8433">+getNextPossibleEvent(): StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="1505" y="464.6479">+setCurrentEvent(newCurrentEvent: StoryEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="1505" y="477.4526">+getNextStoryEventById(id: int): StoryEvent</text><!--MD5=[bb849c1528464e2c6bbfb2687d0866b0]
class mf--><rect codeLine="27" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="99.2188" id="mf" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="1480.5" y="622"/><ellipse cx="1530.75" cy="638" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1533.0938,633.6719 C1532.1563,633.2344 1531.5625,633.0938 1530.6875,633.0938 C1528.0625,633.0938 1526.0625,635.1719 1526.0625,637.8906 L1526.0625,639.0156 C1526.0625,641.5938 1528.1719,643.4844 1531.0625,643.4844 C1532.2813,643.4844 1533.4375,643.1875 1534.1875,642.6406 C1534.7656,642.2344 1535.0938,641.7813 1535.0938,641.3906 C1535.0938,640.9375 1534.7031,640.5469 1534.2344,640.5469 C1534.0156,640.5469 1533.8125,640.625 1533.625,640.8125 C1533.1719,641.2969 1533.1719,641.2969 1532.9844,641.3906 C1532.5625,641.6563 1531.875,641.7813 1531.1094,641.7813 C1529.0625,641.7813 1527.7656,640.6875 1527.7656,638.9844 L1527.7656,637.8906 C1527.7656,636.1094 1529.0156,634.7969 1530.75,634.7969 C1531.3281,634.7969 1531.9375,634.9531 1532.4063,635.2031 C1532.8906,635.4844 1533.0625,635.7031 1533.1563,636.1094 C1533.2188,636.5156 1533.25,636.6406 1533.3906,636.7656 C1533.5313,636.9063 1533.7656,637.0156 1533.9844,637.0156 C1534.25,637.0156 1534.5156,636.875 1534.6875,636.6563 C1534.7969,636.5 1534.8281,636.3125 1534.8281,635.8906 L1534.8281,634.4688 C1534.8281,634.0313 1534.8125,633.9063 1534.7188,633.75 C1534.5625,633.4844 1534.2813,633.3438 1533.9844,633.3438 C1533.6875,633.3438 1533.4844,633.4375 1533.2656,633.75 L1533.0938,633.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1551.25" y="642.1543">ModeratorView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1481.5" x2="1680.5" y1="654" y2="654"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="1486.5" y="668.2104">+timeoutDuration: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1481.5" x2="1680.5" y1="674.8047" y2="674.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1486.5" y="689.0151">+ModeratorView()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="1486.5" y="701.8198">+pausePolling(val: boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1486.5" y="714.6245">+offlineMode(val: boolean): void</text><!--MD5=[aef0d3d3c8a893455b9107cd4a3b357c]
class mcei--><rect codeLine="34" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="112.0234" id="mcei" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="1417" y="926"/><ellipse cx="1473.75" cy="942" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1476.0938,937.6719 C1475.1563,937.2344 1474.5625,937.0938 1473.6875,937.0938 C1471.0625,937.0938 1469.0625,939.1719 1469.0625,941.8906 L1469.0625,943.0156 C1469.0625,945.5938 1471.1719,947.4844 1474.0625,947.4844 C1475.2813,947.4844 1476.4375,947.1875 1477.1875,946.6406 C1477.7656,946.2344 1478.0938,945.7813 1478.0938,945.3906 C1478.0938,944.9375 1477.7031,944.5469 1477.2344,944.5469 C1477.0156,944.5469 1476.8125,944.625 1476.625,944.8125 C1476.1719,945.2969 1476.1719,945.2969 1475.9844,945.3906 C1475.5625,945.6563 1474.875,945.7813 1474.1094,945.7813 C1472.0625,945.7813 1470.7656,944.6875 1470.7656,942.9844 L1470.7656,941.8906 C1470.7656,940.1094 1472.0156,938.7969 1473.75,938.7969 C1474.3281,938.7969 1474.9375,938.9531 1475.4063,939.2031 C1475.8906,939.4844 1476.0625,939.7031 1476.1563,940.1094 C1476.2188,940.5156 1476.25,940.6406 1476.3906,940.7656 C1476.5313,940.9063 1476.7656,941.0156 1476.9844,941.0156 C1477.25,941.0156 1477.5156,940.875 1477.6875,940.6563 C1477.7969,940.5 1477.8281,940.3125 1477.8281,939.8906 L1477.8281,938.4688 C1477.8281,938.0313 1477.8125,937.9063 1477.7188,937.75 C1477.5625,937.4844 1477.2813,937.3438 1476.9844,937.3438 C1476.6875,937.3438 1476.4844,937.4375 1476.2656,937.75 L1476.0938,937.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="1494.25" y="946.1543">ModeratorClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1418" x2="1692" y1="958" y2="958"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1423" y="972.2104">+websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1423" y="985.0151">+authentificationTokenModeratorClient: Token</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1418" x2="1692" y1="991.6094" y2="991.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1423" y="1005.8198">+ModeratorClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1423" y="1018.6245">+getCurrentPollEval(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1423" y="1031.4292">+makeJSON(): string</text><!--MD5=[42e1add689e888dd7b55d3ee3f1dd6d7]
class Skill--><rect codeLine="42" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="124.8281" id="Skill" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="1728" y="919.5"/><ellipse cx="1811.75" cy="935.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1814.0938,931.1719 C1813.1563,930.7344 1812.5625,930.5938 1811.6875,930.5938 C1809.0625,930.5938 1807.0625,932.6719 1807.0625,935.3906 L1807.0625,936.5156 C1807.0625,939.0938 1809.1719,940.9844 1812.0625,940.9844 C1813.2813,940.9844 1814.4375,940.6875 1815.1875,940.1406 C1815.7656,939.7344 1816.0938,939.2813 1816.0938,938.8906 C1816.0938,938.4375 1815.7031,938.0469 1815.2344,938.0469 C1815.0156,938.0469 1814.8125,938.125 1814.625,938.3125 C1814.1719,938.7969 1814.1719,938.7969 1813.9844,938.8906 C1813.5625,939.1563 1812.875,939.2813 1812.1094,939.2813 C1810.0625,939.2813 1808.7656,938.1875 1808.7656,936.4844 L1808.7656,935.3906 C1808.7656,933.6094 1810.0156,932.2969 1811.75,932.2969 C1812.3281,932.2969 1812.9375,932.4531 1813.4063,932.7031 C1813.8906,932.9844 1814.0625,933.2031 1814.1563,933.6094 C1814.2188,934.0156 1814.25,934.1406 1814.3906,934.2656 C1814.5313,934.4063 1814.7656,934.5156 1814.9844,934.5156 C1815.25,934.5156 1815.5156,934.375 1815.6875,934.1563 C1815.7969,934 1815.8281,933.8125 1815.8281,933.3906 L1815.8281,931.9688 C1815.8281,931.5313 1815.8125,931.4063 1815.7188,931.25 C1815.5625,930.9844 1815.2813,930.8438 1814.9844,930.8438 C1814.6875,930.8438 1814.4844,930.9375 1814.2656,931.25 L1814.0938,931.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="1832.25" y="939.6543">Skill</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1729" x2="1927" y1="951.5" y2="951.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="1734" y="965.7104">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="1734" y="978.5151">+value: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1734" y="991.3198">+description: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1729" x2="1927" y1="997.9141" y2="997.9141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="1734" y="1012.1245">+Skill(id: int, val: int, desc: string)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="1734" y="1024.9292">+setValue(val: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1734" y="1037.7339">+getValue(): int</text><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><rect codeLine="51" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="99.2188" id="Character" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="1758.5" y="622"/><ellipse cx="1780.25" cy="638" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1782.5938,633.6719 C1781.6563,633.2344 1781.0625,633.0938 1780.1875,633.0938 C1777.5625,633.0938 1775.5625,635.1719 1775.5625,637.8906 L1775.5625,639.0156 C1775.5625,641.5938 1777.6719,643.4844 1780.5625,643.4844 C1781.7813,643.4844 1782.9375,643.1875 1783.6875,642.6406 C1784.2656,642.2344 1784.5938,641.7813 1784.5938,641.3906 C1784.5938,640.9375 1784.2031,640.5469 1783.7344,640.5469 C1783.5156,640.5469 1783.3125,640.625 1783.125,640.8125 C1782.6719,641.2969 1782.6719,641.2969 1782.4844,641.3906 C1782.0625,641.6563 1781.375,641.7813 1780.6094,641.7813 C1778.5625,641.7813 1777.2656,640.6875 1777.2656,638.9844 L1777.2656,637.8906 C1777.2656,636.1094 1778.5156,634.7969 1780.25,634.7969 C1780.8281,634.7969 1781.4375,634.9531 1781.9063,635.2031 C1782.3906,635.4844 1782.5625,635.7031 1782.6563,636.1094 C1782.7188,636.5156 1782.75,636.6406 1782.8906,636.7656 C1783.0313,636.9063 1783.2656,637.0156 1783.4844,637.0156 C1783.75,637.0156 1784.0156,636.875 1784.1875,636.6563 C1784.2969,636.5 1784.3281,636.3125 1784.3281,635.8906 L1784.3281,634.4688 C1784.3281,634.0313 1784.3125,633.9063 1784.2188,633.75 C1784.0625,633.4844 1783.7813,633.3438 1783.4844,633.3438 C1783.1875,633.3438 1782.9844,633.4375 1782.7656,633.75 L1782.5938,633.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1795.75" y="642.1543">Character</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1759.5" x2="1862.5" y1="654" y2="654"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="1764.5" y="668.2104">+sprite: Texture</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1764.5" y="681.0151">+abilities: Skill[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1764.5" y="693.8198">+name: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1759.5" x2="1862.5" y1="700.4141" y2="700.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1764.5" y="714.6245">+Character()</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="66" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="137.6328" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="358" x="136" y="913"/><ellipse cx="302.25" cy="929" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M304.5938,924.6719 C303.6563,924.2344 303.0625,924.0938 302.1875,924.0938 C299.5625,924.0938 297.5625,926.1719 297.5625,928.8906 L297.5625,930.0156 C297.5625,932.5938 299.6719,934.4844 302.5625,934.4844 C303.7813,934.4844 304.9375,934.1875 305.6875,933.6406 C306.2656,933.2344 306.5938,932.7813 306.5938,932.3906 C306.5938,931.9375 306.2031,931.5469 305.7344,931.5469 C305.5156,931.5469 305.3125,931.625 305.125,931.8125 C304.6719,932.2969 304.6719,932.2969 304.4844,932.3906 C304.0625,932.6563 303.375,932.7813 302.6094,932.7813 C300.5625,932.7813 299.2656,931.6875 299.2656,929.9844 L299.2656,928.8906 C299.2656,927.1094 300.5156,925.7969 302.25,925.7969 C302.8281,925.7969 303.4375,925.9531 303.9063,926.2031 C304.3906,926.4844 304.5625,926.7031 304.6563,927.1094 C304.7188,927.5156 304.75,927.6406 304.8906,927.7656 C305.0313,927.9063 305.2656,928.0156 305.4844,928.0156 C305.75,928.0156 306.0156,927.875 306.1875,927.6563 C306.2969,927.5 306.3281,927.3125 306.3281,926.8906 L306.3281,925.4688 C306.3281,925.0313 306.3125,924.9063 306.2188,924.75 C306.0625,924.4844 305.7813,924.3438 305.4844,924.3438 C305.1875,924.3438 304.9844,924.4375 304.7656,924.75 L304.5938,924.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="322.75" y="933.1543">API</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="137" x2="493" y1="945" y2="945"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="142" y="959.2104">+observerCollection: Observer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="137" x2="493" y1="965.8047" y2="965.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="142" y="980.0151">+API()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="346" x="142" y="992.8198">+registerObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="142" y="1005.6245">+unregisterObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="142" y="1018.4292">+notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="142" y="1031.2339">+updatePossibleDecisions(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="142" y="1044.0386">+collectVotes(): void</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="77" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="252.875" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="872" y="545"/><ellipse cx="954.75" cy="561" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M957.0938,556.6719 C956.1563,556.2344 955.5625,556.0938 954.6875,556.0938 C952.0625,556.0938 950.0625,558.1719 950.0625,560.8906 L950.0625,562.0156 C950.0625,564.5938 952.1719,566.4844 955.0625,566.4844 C956.2813,566.4844 957.4375,566.1875 958.1875,565.6406 C958.7656,565.2344 959.0938,564.7813 959.0938,564.3906 C959.0938,563.9375 958.7031,563.5469 958.2344,563.5469 C958.0156,563.5469 957.8125,563.625 957.625,563.8125 C957.1719,564.2969 957.1719,564.2969 956.9844,564.3906 C956.5625,564.6563 955.875,564.7813 955.1094,564.7813 C953.0625,564.7813 951.7656,563.6875 951.7656,561.9844 L951.7656,560.8906 C951.7656,559.1094 953.0156,557.7969 954.75,557.7969 C955.3281,557.7969 955.9375,557.9531 956.4063,558.2031 C956.8906,558.4844 957.0625,558.7031 957.1563,559.1094 C957.2188,559.5156 957.25,559.6406 957.3906,559.7656 C957.5313,559.9063 957.7656,560.0156 957.9844,560.0156 C958.25,560.0156 958.5156,559.875 958.6875,559.6563 C958.7969,559.5 958.8281,559.3125 958.8281,558.8906 L958.8281,557.4688 C958.8281,557.0313 958.8125,556.9063 958.7188,556.75 C958.5625,556.4844 958.2813,556.3438 957.9844,556.3438 C957.6875,556.3438 957.4844,556.4375 957.2656,556.75 L957.0938,556.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="975.25" y="565.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873" x2="1115" y1="577" y2="577"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="878" y="591.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="878" y="604.0151">+port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="878" y="616.8198">+runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="878" y="629.6245">+serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="878" y="642.4292">+capacity: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="878" y="655.2339">+bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="873" x2="1115" y1="661.8281" y2="661.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="878" y="676.0386">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="878" y="688.8433">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="878" y="701.6479">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="878" y="714.4526">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="878" y="727.2573">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="878" y="740.062">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="878" y="752.8667">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="878" y="765.6714">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="878" y="778.4761">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="878" y="791.2808">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="96" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="214.4609" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="1043" y="875"/><ellipse cx="1111.75" cy="891" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1114.0938,886.6719 C1113.1563,886.2344 1112.5625,886.0938 1111.6875,886.0938 C1109.0625,886.0938 1107.0625,888.1719 1107.0625,890.8906 L1107.0625,892.0156 C1107.0625,894.5938 1109.1719,896.4844 1112.0625,896.4844 C1113.2813,896.4844 1114.4375,896.1875 1115.1875,895.6406 C1115.7656,895.2344 1116.0938,894.7813 1116.0938,894.3906 C1116.0938,893.9375 1115.7031,893.5469 1115.2344,893.5469 C1115.0156,893.5469 1114.8125,893.625 1114.625,893.8125 C1114.1719,894.2969 1114.1719,894.2969 1113.9844,894.3906 C1113.5625,894.6563 1112.875,894.7813 1112.1094,894.7813 C1110.0625,894.7813 1108.7656,893.6875 1108.7656,891.9844 L1108.7656,890.8906 C1108.7656,889.1094 1110.0156,887.7969 1111.75,887.7969 C1112.3281,887.7969 1112.9375,887.9531 1113.4063,888.2031 C1113.8906,888.4844 1114.0625,888.7031 1114.1563,889.1094 C1114.2188,889.5156 1114.25,889.6406 1114.3906,889.7656 C1114.5313,889.9063 1114.7656,890.0156 1114.9844,890.0156 C1115.25,890.0156 1115.5156,889.875 1115.6875,889.6563 C1115.7969,889.5 1115.8281,889.3125 1115.8281,888.8906 L1115.8281,887.4688 C1115.8281,887.0313 1115.8125,886.9063 1115.7188,886.75 C1115.5625,886.4844 1115.2813,886.3438 1114.9844,886.3438 C1114.6875,886.3438 1114.4844,886.4375 1114.2656,886.75 L1114.0938,886.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="1132.25" y="895.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1044" x2="1336" y1="907" y2="907"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1049" y="921.2104">+webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="1049" y="934.0151">+ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="1049" y="946.8198">+port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1049" y="959.6245">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1049" y="972.4292">+authentificationTokenModeratorClient: Token</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1044" x2="1336" y1="979.0234" y2="979.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="1049" y="993.2339">+ModeratorClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1049" y="1006.0386">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="1049" y="1018.8433">+onDisconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="1049" y="1031.6479">+recieve(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1049" y="1044.4526">+checkJSON(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1049" y="1057.2573">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1049" y="1070.062">+send(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="1049" y="1082.8667">+recieve(message: string): void</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="112" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="756" y="926"/><ellipse cx="827.75" cy="942" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M830.0938,937.6719 C829.1563,937.2344 828.5625,937.0938 827.6875,937.0938 C825.0625,937.0938 823.0625,939.1719 823.0625,941.8906 L823.0625,943.0156 C823.0625,945.5938 825.1719,947.4844 828.0625,947.4844 C829.2813,947.4844 830.4375,947.1875 831.1875,946.6406 C831.7656,946.2344 832.0938,945.7813 832.0938,945.3906 C832.0938,944.9375 831.7031,944.5469 831.2344,944.5469 C831.0156,944.5469 830.8125,944.625 830.625,944.8125 C830.1719,945.2969 830.1719,945.2969 829.9844,945.3906 C829.5625,945.6563 828.875,945.7813 828.1094,945.7813 C826.0625,945.7813 824.7656,944.6875 824.7656,942.9844 L824.7656,941.8906 C824.7656,940.1094 826.0156,938.7969 827.75,938.7969 C828.3281,938.7969 828.9375,938.9531 829.4063,939.2031 C829.8906,939.4844 830.0625,939.7031 830.1563,940.1094 C830.2188,940.5156 830.25,940.6406 830.3906,940.7656 C830.5313,940.9063 830.7656,941.0156 830.9844,941.0156 C831.25,941.0156 831.5156,940.875 831.6875,940.6563 C831.7969,940.5 831.8281,940.3125 831.8281,939.8906 L831.8281,938.4688 C831.8281,938.0313 831.8125,937.9063 831.7188,937.75 C831.5625,937.4844 831.2813,937.3438 830.9844,937.3438 C830.6875,937.3438 830.4844,937.4375 830.2656,937.75 L830.0938,937.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="848.25" y="946.1543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="757" x2="1007" y1="958" y2="958"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="762" y="972.2104">+moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="762" y="985.0151">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="757" x2="1007" y1="991.6094" y2="991.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="762" y="1005.8198">MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="762" y="1018.6245">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="762" y="1031.4292">+onVotingMessage(message: string): void</text><!--MD5=[9105e509a9f69a1dfba1c0054edeb4e1]
class pe--><rect codeLine="121" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="112.0234" id="pe" style="stroke: #A80036; stroke-width: 1.5;" width="192" x="529" y="926"/><ellipse cx="583.25" cy="942" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M585.5938,937.6719 C584.6563,937.2344 584.0625,937.0938 583.1875,937.0938 C580.5625,937.0938 578.5625,939.1719 578.5625,941.8906 L578.5625,943.0156 C578.5625,945.5938 580.6719,947.4844 583.5625,947.4844 C584.7813,947.4844 585.9375,947.1875 586.6875,946.6406 C587.2656,946.2344 587.5938,945.7813 587.5938,945.3906 C587.5938,944.9375 587.2031,944.5469 586.7344,944.5469 C586.5156,944.5469 586.3125,944.625 586.125,944.8125 C585.6719,945.2969 585.6719,945.2969 585.4844,945.3906 C585.0625,945.6563 584.375,945.7813 583.6094,945.7813 C581.5625,945.7813 580.2656,944.6875 580.2656,942.9844 L580.2656,941.8906 C580.2656,940.1094 581.5156,938.7969 583.25,938.7969 C583.8281,938.7969 584.4375,938.9531 584.9063,939.2031 C585.3906,939.4844 585.5625,939.7031 585.6563,940.1094 C585.7188,940.5156 585.75,940.6406 585.8906,940.7656 C586.0313,940.9063 586.2656,941.0156 586.4844,941.0156 C586.75,941.0156 587.0156,940.875 587.1875,940.6563 C587.2969,940.5 587.3281,940.3125 587.3281,939.8906 L587.3281,938.4688 C587.3281,938.0313 587.3125,937.9063 587.2188,937.75 C587.0625,937.4844 586.7813,937.3438 586.4844,937.3438 C586.1875,937.3438 585.9844,937.4375 585.7656,937.75 L585.5938,937.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="603.75" y="946.1543">PollEvaluator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="720" y1="958" y2="958"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="535" y="972.2104">possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="535" y="985.0151">voteCounter: int[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="720" y1="991.6094" y2="991.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="535" y="1005.8198">+PollEvaluator()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="535" y="1018.6245">+evaluateVotes(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="535" y="1031.4292">+addVote(): void</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="129" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="163.2422" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="769" y="84"/><ellipse cx="838.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M841.0938,95.6719 C840.1563,95.2344 839.5625,95.0938 838.6875,95.0938 C836.0625,95.0938 834.0625,97.1719 834.0625,99.8906 L834.0625,101.0156 C834.0625,103.5938 836.1719,105.4844 839.0625,105.4844 C840.2813,105.4844 841.4375,105.1875 842.1875,104.6406 C842.7656,104.2344 843.0938,103.7813 843.0938,103.3906 C843.0938,102.9375 842.7031,102.5469 842.2344,102.5469 C842.0156,102.5469 841.8125,102.625 841.625,102.8125 C841.1719,103.2969 841.1719,103.2969 840.9844,103.3906 C840.5625,103.6563 839.875,103.7813 839.1094,103.7813 C837.0625,103.7813 835.7656,102.6875 835.7656,100.9844 L835.7656,99.8906 C835.7656,98.1094 837.0156,96.7969 838.75,96.7969 C839.3281,96.7969 839.9375,96.9531 840.4063,97.2031 C840.8906,97.4844 841.0625,97.7031 841.1563,98.1094 C841.2188,98.5156 841.25,98.6406 841.3906,98.7656 C841.5313,98.9063 841.7656,99.0156 841.9844,99.0156 C842.25,99.0156 842.5156,98.875 842.6875,98.6563 C842.7969,98.5 842.8281,98.3125 842.8281,97.8906 L842.8281,96.4688 C842.8281,96.0313 842.8125,95.9063 842.7188,95.75 C842.5625,95.4844 842.2813,95.3438 841.9844,95.3438 C841.6875,95.3438 841.4844,95.4375 841.2656,95.75 L841.0938,95.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="859.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="1000" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="775" y="130.2104">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="775" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="775" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="775" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="770" x2="1000" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="775" y="189.4292">+Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="775" y="202.2339">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="775" y="215.0386">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="775" y="227.8433">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="775" y="240.6479">+setConsoleOutput(val: boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="142" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="56" y="599.5"/><ellipse cx="76.85" cy="618.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.1938,614.1406 C78.2563,613.7031 77.6625,613.5625 76.7875,613.5625 C74.1625,613.5625 72.1625,615.6406 72.1625,618.3594 L72.1625,619.4844 C72.1625,622.0625 74.2719,623.9531 77.1625,623.9531 C78.3813,623.9531 79.5375,623.6563 80.2875,623.1094 C80.8656,622.7031 81.1938,622.25 81.1938,621.8594 C81.1938,621.4063 80.8031,621.0156 80.3344,621.0156 C80.1156,621.0156 79.9125,621.0938 79.725,621.2813 C79.2719,621.7656 79.2719,621.7656 79.0844,621.8594 C78.6625,622.125 77.975,622.25 77.2094,622.25 C75.1625,622.25 73.8656,621.1563 73.8656,619.4531 L73.8656,618.3594 C73.8656,616.5781 75.1156,615.2656 76.85,615.2656 C77.4281,615.2656 78.0375,615.4219 78.5063,615.6719 C78.9906,615.9531 79.1625,616.1719 79.2563,616.5781 C79.3188,616.9844 79.35,617.1094 79.4906,617.2344 C79.6313,617.375 79.8656,617.4844 80.0844,617.4844 C80.35,617.4844 80.6156,617.3438 80.7875,617.125 C80.8969,616.9688 80.9281,616.7813 80.9281,616.3594 L80.9281,614.9375 C80.9281,614.5 80.9125,614.375 80.8188,614.2188 C80.6625,613.9531 80.3813,613.8125 80.0844,613.8125 C79.7875,613.8125 79.5844,613.9063 79.3656,614.2188 L79.1938,614.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="149.65" y="615.6387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="92.15" y="629.6074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="637.4375" y2="637.4375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="62" y="651.6479">+sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="62" y="664.4526">+hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="62" y="677.2573">+selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="62" y="690.062">+possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="696.6563" y2="696.6563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="62" y="710.8667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="62" y="723.6714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="62" y="736.4761">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="152" fill="#FEFECE" filter="url(#f1atci3z126g1e)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="319.5" y="641"/><ellipse cx="334.5" cy="657" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M336.8438,652.6719 C335.9063,652.2344 335.3125,652.0938 334.4375,652.0938 C331.8125,652.0938 329.8125,654.1719 329.8125,656.8906 L329.8125,658.0156 C329.8125,660.5938 331.9219,662.4844 334.8125,662.4844 C336.0313,662.4844 337.1875,662.1875 337.9375,661.6406 C338.5156,661.2344 338.8438,660.7813 338.8438,660.3906 C338.8438,659.9375 338.4531,659.5469 337.9844,659.5469 C337.7656,659.5469 337.5625,659.625 337.375,659.8125 C336.9219,660.2969 336.9219,660.2969 336.7344,660.3906 C336.3125,660.6563 335.625,660.7813 334.8594,660.7813 C332.8125,660.7813 331.5156,659.6875 331.5156,657.9844 L331.5156,656.8906 C331.5156,655.1094 332.7656,653.7969 334.5,653.7969 C335.0781,653.7969 335.6875,653.9531 336.1563,654.2031 C336.6406,654.4844 336.8125,654.7031 336.9063,655.1094 C336.9688,655.5156 337,655.6406 337.1406,655.7656 C337.2813,655.9063 337.5156,656.0156 337.7344,656.0156 C338,656.0156 338.2656,655.875 338.4375,655.6563 C338.5469,655.5 338.5781,655.3125 338.5781,654.8906 L338.5781,653.4688 C338.5781,653.0313 338.5625,652.9063 338.4688,652.75 C338.3125,652.4844 338.0313,652.3438 337.7344,652.3438 C337.4375,652.3438 337.2344,652.4375 337.0156,652.75 L336.8438,652.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="348.5" y="661.1543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="673" y2="673"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="681" y2="681"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="695.2104">+PlayerAudienceView()</text><!--MD5=[513d28559cb9b2f986fa50a4c3eda83f]
link StoryEvent to StoryGraph--><path codeLine="58" d="M1660,228.034 C1660,248.476 1660,271.802 1660,294.405 " fill="none" id="StoryEvent-to-StoryGraph" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1660,307.602,1664,301.602,1660,295.602,1656,301.602,1660,307.602" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1651.5625" y="247.7775">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1651.6813" y="297.0304">1</text><!--MD5=[c53e1f9c02f78d6f6c6c47087547b478]
link StoryGraph to mf--><path codeLine="59" d="M1634.79,484.289 C1621.65,529.782 1606.07,583.714 1595.07,621.797 " fill="none" id="StoryGraph-mf" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f80b4c689c2fbad67007e34e43864d26]
link StoryGraph to Character--><path codeLine="60" d="M1708.19,484.289 C1733.31,529.782 1763.09,583.714 1784.11,621.797 " fill="none" id="StoryGraph-Character" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4b16aa1dee279ab3d1d003602504b70d]
reverse link Character to Skill--><path codeLine="61" d="M1814.4,734.182 C1817.36,788 1821.65,865.676 1824.61,919.453 " fill="none" id="Character-backto-Skill" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1813.67,721.042,1810.0066,727.2533,1814.3311,733.0238,1817.9945,726.8125,1813.67,721.042" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1805.483" y="741.1244">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1815.7555" y="908.4383">n</text><!--MD5=[2d3469a9cdf6af823ac71c279ee21e31]
link mf to mcei--><path codeLine="62" d="M1576.91,721.042 C1572.22,776.699 1564.55,867.732 1559.64,925.974 " fill="none" id="mf-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="156" d="M948.284,798.424 C932.194,842.742 914.932,890.29 902.058,925.75 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="157" d="M1008.03,982 C1019.64,982 1031.25,982 1042.86,982 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0dc7f4e939c057bb258d4c5f70365db7]
link pe to msl--><path codeLine="158" d="M721.124,982 C732.645,982 744.166,982 755.687,982 " fill="none" id="pe-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[64320bcde71beffb940e18b354ba01b3]
link api to pe--><path codeLine="159" d="M494.219,982 C505.798,982 517.378,982 528.958,982 " fill="none" id="api-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="160" d="M953.697,247.352 C1011.58,320.222 1091.42,432.85 1133,545 C1172.94,652.725 1185.62,784.477 1189.28,874.775 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="161" d="M874.58,247.333 C860.548,367.53 838.974,600.44 854,798 C857.291,841.265 864.897,889.789 871.353,925.995 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="162" d="M841.349,247.15 C773.032,370.604 633.628,611.704 489,798 C457.815,838.17 419.165,879.51 386.219,912.712 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="163" d="M902.452,247.197 C919.803,327.425 946.667,451.641 966.815,544.8 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[da9abd1873f207cba4baaf944fa348f2]
link pace to pav--><path codeLine="164" d="M284.324,671.5 C295.957,671.5 307.59,671.5 319.223,671.5 " fill="none" id="pace-pav" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96167f1f5e43b9ebcc14970849e1c19e]
link pace to api--><path codeLine="165" d="M203.448,743.663 C226.621,792.965 257.38,858.408 280.729,908.086 " fill="none" id="pace-to-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="282.965,912.843,282.7555,902.9964,280.8376,908.3182,275.5158,906.4002,282.965,912.843" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="248" y="841.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="198.1627" y="763.0998">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="271.2489" y="902.0304">1</text><!--MD5=[58a85bdb989a432d30a1624e5616c617]
link mcei to cm--><path codeLine="168" d="M1416.76,982 C1390.24,982 1363.73,982 1337.21,982 " fill="none" id="mcei-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c6dfb93a38d8ba520fa4e2976b9428f6]
@startuml
skinparam classAttributeIconSize 0

package "Moderator-Client" {

  class StoryEvent {
    {field} +eventId: int
    {field} +description: string
    {field} +parent: StoryEvent
    {field} +children: StoryEvent[]
    {method} +StoryEvent(parent: StoryEvent, id: int)
    {method} +addChild(): void
  }

  class StoryGraph {
    {field} +id: int
    {field} +character: Character
    {field} +root: StoryEvent
    {field} +currentEvent: StoryEvent
    {method} +StoryGraph(id: int)
    {method} +loadGraphFromFile(): Graph
    {method} +saveGraphToFile(): void
    {method} +getNextPossibleEvent(): StoryEvent[]
    {method} +setCurrentEvent(newCurrentEvent: StoryEvent): void
    {method} +getNextStoryEventById(id: int): StoryEvent
  }

  class "ModeratorView" as mf {
    {field} +timeoutDuration: int
    {method} +ModeratorView()
    {method} +pausePolling(val: boolean): void
    {method} +offlineMode(val: boolean): void
  }

  class "ModeratorClientExchange" as mcei{
    {field} +websocket: WebSocket
    {field} +authentificationTokenModeratorClient: Token
    {method} +ModeratorClientExchange()
    {method} +getCurrentPollEval(): int
    {method} +makeJSON(): string
  }

  class Skill {
    {field} +id: int
    {field} +value: int
    {field} +description: string
    {method} + Skill(id: int, val: int, desc: string)
    {method} + setValue(val: int): void
    {method} + getValue(): int
  }

  class Character {
    {field} +sprite: Texture
    {field} +abilities: Skill[]
    {field} +name: string
    {method} +Character()
  }
  
  StoryEvent "n" - -* "1" StoryGraph
  StoryGraph - - mf
  StoryGraph - - Character
  Character "1" *- - "n" Skill
  mf - - mcei
}

package "Server" {
   class "API" as api {
        {field} +observerCollection: Observer
        {method} +API()
        {method} +registerObserver(observer: Observer, cookie: Cookie): void
        {method} +unregisterObserver(observer: Observer): void
        {method} +notifyObservers(): void
        {method} +updatePossibleDecisions(): void
        {method} +collectVotes(): void
  }

  package "Backend" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} +port: int
      {field} +runShell: boolean
      {field} +serverShell: ServerShell
      {field} +capacity: int
      {field} +bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} +webSocket: WebSocket
      {field} +ip: int
      {field} +port: int
      {field} +logger: Logger
      {field} +authentificationTokenModeratorClient: Token
      {method} +ModeratorClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +onDisconnect(): void
      {method} +recieve(message: string): void
      {method} +checkJSON(message: string): void
      {method} +sendMessage(message: string): void
      {method} +send(message: string): void
      {method} +recieve(message: string): void
    }    

    class "MainServerLogic" as msl {
      {field} +moderator: WebClient
      {field} +logger: Logger
      {method} MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void

    }

    class "PollEvaluator" as pe {
    {field} possibleDecisions: StoryEvent[]
    {field} voteCounter: int[]
    {method} +PollEvaluator()
    {method} +evaluateVotes(): int
    {method} +addVote(): void
  }

    class "ServerLogger" as sl {
      {field} +globalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +Logger()
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: boolean): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} +sessionCookie: Cookie
      {field} +hasVoted: boolean
      {field} +selectedDecision: StoryEvent
      {field} +possibleDecisions: StoryEvent[]
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -left- pe
  pe -left- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace - pav
  api "1" <-up- "n" pace : observes
}

mcei -right- cm
@enduml

PlantUML version 1.2020.20beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>