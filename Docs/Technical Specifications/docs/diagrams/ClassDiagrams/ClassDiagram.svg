<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1311px" preserveAspectRatio="none" style="width:1837px;height:1311px;" version="1.1" viewBox="0 0 1837 1311" width="1837px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rn7h3cvg9tqe" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4544bf05af30223886112ffd96a1865f]
cluster Moderator-Client--><polygon fill="#FFFFFF" filter="url(#f1rn7h3cvg9tqe)" points="1211,68,1355,68,1362,90.2969,1820,90.2969,1820,1025,1211,1025,1211,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1211" x2="1362" y1="90.2969" y2="90.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="1215" y="82.9951">Moderator-Client</text><!--MD5=[b7afd9f15f1d1e83dce14c212cc841e0]
cluster ServerApplication--><polygon fill="#FFFFFF" filter="url(#f1rn7h3cvg9tqe)" points="16,6,166,6,173,28.2969,1187,28.2969,1187,1304,16,1304,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="173" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="20" y="20.9951">ServerApplication</text><!--MD5=[bec4376398c619d3cc65439ee33bd7ca]
cluster ServerLogic--><rect fill="#FFFFFF" filter="url(#f1rn7h3cvg9tqe)" height="1231" style="stroke: #000000; stroke-width: 1.5;" width="650" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="791" y="63.9951">ServerLogic</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#f1rn7h3cvg9tqe)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="1069"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="176.5" y="1083.9951">PlayerAudience-Client</text><!--MD5=[3eaf92687768346c8d614b6fd2c22fb9]
class StoryEvent--><rect codeLine="5" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="124.8281" id="StoryEvent" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="1357.5" y="103"/><ellipse cx="1439.25" cy="119" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1441.5938,114.6719 C1440.6563,114.2344 1440.0625,114.0938 1439.1875,114.0938 C1436.5625,114.0938 1434.5625,116.1719 1434.5625,118.8906 L1434.5625,120.0156 C1434.5625,122.5938 1436.6719,124.4844 1439.5625,124.4844 C1440.7813,124.4844 1441.9375,124.1875 1442.6875,123.6406 C1443.2656,123.2344 1443.5938,122.7813 1443.5938,122.3906 C1443.5938,121.9375 1443.2031,121.5469 1442.7344,121.5469 C1442.5156,121.5469 1442.3125,121.625 1442.125,121.8125 C1441.6719,122.2969 1441.6719,122.2969 1441.4844,122.3906 C1441.0625,122.6563 1440.375,122.7813 1439.6094,122.7813 C1437.5625,122.7813 1436.2656,121.6875 1436.2656,119.9844 L1436.2656,118.8906 C1436.2656,117.1094 1437.5156,115.7969 1439.25,115.7969 C1439.8281,115.7969 1440.4375,115.9531 1440.9063,116.2031 C1441.3906,116.4844 1441.5625,116.7031 1441.6563,117.1094 C1441.7188,117.5156 1441.75,117.6406 1441.8906,117.7656 C1442.0313,117.9063 1442.2656,118.0156 1442.4844,118.0156 C1442.75,118.0156 1443.0156,117.875 1443.1875,117.6563 C1443.2969,117.5 1443.3281,117.3125 1443.3281,116.8906 L1443.3281,115.4688 C1443.3281,115.0313 1443.3125,114.9063 1443.2188,114.75 C1443.0625,114.4844 1442.7813,114.3438 1442.4844,114.3438 C1442.1875,114.3438 1441.9844,114.4375 1441.7656,114.75 L1441.5938,114.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="1459.75" y="123.1543">StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1358.5" x2="1593.5" y1="135" y2="135"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="1363.5" y="149.2104">-eventId: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="1363.5" y="162.0151">-description: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1363.5" y="174.8198">-parent: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="1363.5" y="187.6245">-children: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1358.5" x2="1593.5" y1="194.2188" y2="194.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1363.5" y="208.4292">+StoryEvent(parent: StoryEvent, id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1363.5" y="221.2339">+addChild(): void</text><!--MD5=[efd5ebcc74ce0165d13c1df9fdb2b1d2]
class StoryGraph--><rect codeLine="14" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="163.2422" id="StoryGraph" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="1315" y="308"/><ellipse cx="1437.75" cy="324" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1440.0938,319.6719 C1439.1563,319.2344 1438.5625,319.0938 1437.6875,319.0938 C1435.0625,319.0938 1433.0625,321.1719 1433.0625,323.8906 L1433.0625,325.0156 C1433.0625,327.5938 1435.1719,329.4844 1438.0625,329.4844 C1439.2813,329.4844 1440.4375,329.1875 1441.1875,328.6406 C1441.7656,328.2344 1442.0938,327.7813 1442.0938,327.3906 C1442.0938,326.9375 1441.7031,326.5469 1441.2344,326.5469 C1441.0156,326.5469 1440.8125,326.625 1440.625,326.8125 C1440.1719,327.2969 1440.1719,327.2969 1439.9844,327.3906 C1439.5625,327.6563 1438.875,327.7813 1438.1094,327.7813 C1436.0625,327.7813 1434.7656,326.6875 1434.7656,324.9844 L1434.7656,323.8906 C1434.7656,322.1094 1436.0156,320.7969 1437.75,320.7969 C1438.3281,320.7969 1438.9375,320.9531 1439.4063,321.2031 C1439.8906,321.4844 1440.0625,321.7031 1440.1563,322.1094 C1440.2188,322.5156 1440.25,322.6406 1440.3906,322.7656 C1440.5313,322.9063 1440.7656,323.0156 1440.9844,323.0156 C1441.25,323.0156 1441.5156,322.875 1441.6875,322.6563 C1441.7969,322.5 1441.8281,322.3125 1441.8281,321.8906 L1441.8281,320.4688 C1441.8281,320.0313 1441.8125,319.9063 1441.7188,319.75 C1441.5625,319.4844 1441.2813,319.3438 1440.9844,319.3438 C1440.6875,319.3438 1440.4844,319.4375 1440.2656,319.75 L1440.0938,319.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="1458.25" y="328.1543">StoryGraph</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1316" x2="1636" y1="340" y2="340"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="1321" y="354.2104">-character: Character</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1321" y="367.0151">-root: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1321" y="379.8198">-currentEvent: StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1316" x2="1636" y1="386.4141" y2="386.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="1321" y="400.6245">+StoryGraph(id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="1321" y="413.4292">+loadGraphFromFile(): Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1321" y="426.2339">+saveGraphToFile(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="1321" y="439.0386">+getNextPossibleEvent(): StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="1321" y="451.8433">+setCurrentEvent(newCurrentEvent: StoryEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="1321" y="464.6479">+getNextStoryEventById(id: int): StoryEvent</text><!--MD5=[bb849c1528464e2c6bbfb2687d0866b0]
class mf--><rect codeLine="26" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="86.4141" id="mf" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="1375.5" y="609"/><ellipse cx="1425.75" cy="625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1428.0938,620.6719 C1427.1563,620.2344 1426.5625,620.0938 1425.6875,620.0938 C1423.0625,620.0938 1421.0625,622.1719 1421.0625,624.8906 L1421.0625,626.0156 C1421.0625,628.5938 1423.1719,630.4844 1426.0625,630.4844 C1427.2813,630.4844 1428.4375,630.1875 1429.1875,629.6406 C1429.7656,629.2344 1430.0938,628.7813 1430.0938,628.3906 C1430.0938,627.9375 1429.7031,627.5469 1429.2344,627.5469 C1429.0156,627.5469 1428.8125,627.625 1428.625,627.8125 C1428.1719,628.2969 1428.1719,628.2969 1427.9844,628.3906 C1427.5625,628.6563 1426.875,628.7813 1426.1094,628.7813 C1424.0625,628.7813 1422.7656,627.6875 1422.7656,625.9844 L1422.7656,624.8906 C1422.7656,623.1094 1424.0156,621.7969 1425.75,621.7969 C1426.3281,621.7969 1426.9375,621.9531 1427.4063,622.2031 C1427.8906,622.4844 1428.0625,622.7031 1428.1563,623.1094 C1428.2188,623.5156 1428.25,623.6406 1428.3906,623.7656 C1428.5313,623.9063 1428.7656,624.0156 1428.9844,624.0156 C1429.25,624.0156 1429.5156,623.875 1429.6875,623.6563 C1429.7969,623.5 1429.8281,623.3125 1429.8281,622.8906 L1429.8281,621.4688 C1429.8281,621.0313 1429.8125,620.9063 1429.7188,620.75 C1429.5625,620.4844 1429.2813,620.3438 1428.9844,620.3438 C1428.6875,620.3438 1428.4844,620.4375 1428.2656,620.75 L1428.0938,620.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1446.25" y="629.1543">ModeratorView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1376.5" x2="1575.5" y1="641" y2="641"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1376.5" x2="1575.5" y1="649" y2="649"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1381.5" y="663.2104">+ModeratorView()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="1381.5" y="676.0151">+pausePolling(val: boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1381.5" y="688.8198">+offlineMode(val: boolean): void</text><!--MD5=[aef0d3d3c8a893455b9107cd4a3b357c]
class mcei--><rect codeLine="32" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="163.2422" id="mcei" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="1227.5" y="846"/><ellipse cx="1272.75" cy="862" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1275.0938,857.6719 C1274.1563,857.2344 1273.5625,857.0938 1272.6875,857.0938 C1270.0625,857.0938 1268.0625,859.1719 1268.0625,861.8906 L1268.0625,863.0156 C1268.0625,865.5938 1270.1719,867.4844 1273.0625,867.4844 C1274.2813,867.4844 1275.4375,867.1875 1276.1875,866.6406 C1276.7656,866.2344 1277.0938,865.7813 1277.0938,865.3906 C1277.0938,864.9375 1276.7031,864.5469 1276.2344,864.5469 C1276.0156,864.5469 1275.8125,864.625 1275.625,864.8125 C1275.1719,865.2969 1275.1719,865.2969 1274.9844,865.3906 C1274.5625,865.6563 1273.875,865.7813 1273.1094,865.7813 C1271.0625,865.7813 1269.7656,864.6875 1269.7656,862.9844 L1269.7656,861.8906 C1269.7656,860.1094 1271.0156,858.7969 1272.75,858.7969 C1273.3281,858.7969 1273.9375,858.9531 1274.4063,859.2031 C1274.8906,859.4844 1275.0625,859.7031 1275.1563,860.1094 C1275.2188,860.5156 1275.25,860.6406 1275.3906,860.7656 C1275.5313,860.9063 1275.7656,861.0156 1275.9844,861.0156 C1276.25,861.0156 1276.5156,860.875 1276.6875,860.6563 C1276.7969,860.5 1276.8281,860.3125 1276.8281,859.8906 L1276.8281,858.4688 C1276.8281,858.0313 1276.8125,857.9063 1276.7188,857.75 C1276.5625,857.4844 1276.2813,857.3438 1275.9844,857.3438 C1275.6875,857.3438 1275.4844,857.4375 1275.2656,857.75 L1275.0938,857.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="1293.25" y="866.1543">ModeratorClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1228.5" x2="1479.5" y1="878" y2="878"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="1233.5" y="892.2104">-websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="1233.5" y="905.0151">-authentificationGuid: Guid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1233.5" y="917.8198">-timeoutDuration: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1228.5" x2="1479.5" y1="924.4141" y2="924.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1233.5" y="938.6245">+ModeratorClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1233.5" y="951.4292">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1233.5" y="964.2339">+evalJSON(): string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="1233.5" y="977.0386">+endCurrentPollAndGetVotingResults(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1233.5" y="989.8433">+makeJSON(): string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1233.5" y="1002.6479">+enterPassword(pw: string): void</text><!--MD5=[5df65fb9e2c7a32924ba06dbc5719e6e]
class Skills--><rect codeLine="44" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="112.0234" id="Skills" style="stroke: #A80036; stroke-width: 1.5;" width="288" x="1516" y="871.5"/><ellipse cx="1640.25" cy="887.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1642.5938,883.1719 C1641.6563,882.7344 1641.0625,882.5938 1640.1875,882.5938 C1637.5625,882.5938 1635.5625,884.6719 1635.5625,887.3906 L1635.5625,888.5156 C1635.5625,891.0938 1637.6719,892.9844 1640.5625,892.9844 C1641.7813,892.9844 1642.9375,892.6875 1643.6875,892.1406 C1644.2656,891.7344 1644.5938,891.2813 1644.5938,890.8906 C1644.5938,890.4375 1644.2031,890.0469 1643.7344,890.0469 C1643.5156,890.0469 1643.3125,890.125 1643.125,890.3125 C1642.6719,890.7969 1642.6719,890.7969 1642.4844,890.8906 C1642.0625,891.1563 1641.375,891.2813 1640.6094,891.2813 C1638.5625,891.2813 1637.2656,890.1875 1637.2656,888.4844 L1637.2656,887.3906 C1637.2656,885.6094 1638.5156,884.2969 1640.25,884.2969 C1640.8281,884.2969 1641.4375,884.4531 1641.9063,884.7031 C1642.3906,884.9844 1642.5625,885.2031 1642.6563,885.6094 C1642.7188,886.0156 1642.75,886.1406 1642.8906,886.2656 C1643.0313,886.4063 1643.2656,886.5156 1643.4844,886.5156 C1643.75,886.5156 1644.0156,886.375 1644.1875,886.1563 C1644.2969,886 1644.3281,885.8125 1644.3281,885.3906 L1644.3281,883.9688 C1644.3281,883.5313 1644.3125,883.4063 1644.2188,883.25 C1644.0625,882.9844 1643.7813,882.8438 1643.4844,882.8438 C1643.1875,882.8438 1642.9844,882.9375 1642.7656,883.25 L1642.5938,883.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="1660.75" y="891.6543">Skills</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1517" x2="1803" y1="903.5" y2="903.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1522" y="917.7104">-communication: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1522" y="930.5151">-analytics: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1522" y="943.3198">-partying: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="1522" y="956.1245">-programming: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1517" x2="1803" y1="962.7188" y2="962.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="1522" y="976.9292">+Skill(commu: int, analy: int, party: int, progr: int)</text><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><rect codeLine="52" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="86.4141" id="Character" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="1612" y="609"/><ellipse cx="1629.7" cy="625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1632.0438,620.6719 C1631.1063,620.2344 1630.5125,620.0938 1629.6375,620.0938 C1627.0125,620.0938 1625.0125,622.1719 1625.0125,624.8906 L1625.0125,626.0156 C1625.0125,628.5938 1627.1219,630.4844 1630.0125,630.4844 C1631.2313,630.4844 1632.3875,630.1875 1633.1375,629.6406 C1633.7156,629.2344 1634.0438,628.7813 1634.0438,628.3906 C1634.0438,627.9375 1633.6531,627.5469 1633.1844,627.5469 C1632.9656,627.5469 1632.7625,627.625 1632.575,627.8125 C1632.1219,628.2969 1632.1219,628.2969 1631.9344,628.3906 C1631.5125,628.6563 1630.825,628.7813 1630.0594,628.7813 C1628.0125,628.7813 1626.7156,627.6875 1626.7156,625.9844 L1626.7156,624.8906 C1626.7156,623.1094 1627.9656,621.7969 1629.7,621.7969 C1630.2781,621.7969 1630.8875,621.9531 1631.3563,622.2031 C1631.8406,622.4844 1632.0125,622.7031 1632.1063,623.1094 C1632.1688,623.5156 1632.2,623.6406 1632.3406,623.7656 C1632.4813,623.9063 1632.7156,624.0156 1632.9344,624.0156 C1633.2,624.0156 1633.4656,623.875 1633.6375,623.6563 C1633.7469,623.5 1633.7781,623.3125 1633.7781,622.8906 L1633.7781,621.4688 C1633.7781,621.0313 1633.7625,620.9063 1633.6688,620.75 C1633.5125,620.4844 1633.2313,620.3438 1632.9344,620.3438 C1632.6375,620.3438 1632.4344,620.4375 1632.2156,620.75 L1632.0438,620.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1644.3" y="629.1543">Character</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1613" x2="1707" y1="641" y2="641"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1618" y="655.2104">-abilities: Skills</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1618" y="668.0151">-name: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1613" x2="1707" y1="674.6094" y2="674.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1618" y="688.8198">+Character()</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="70" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="240.0703" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="683" y="532"/><ellipse cx="765.75" cy="548" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M768.0938,543.6719 C767.1563,543.2344 766.5625,543.0938 765.6875,543.0938 C763.0625,543.0938 761.0625,545.1719 761.0625,547.8906 L761.0625,549.0156 C761.0625,551.5938 763.1719,553.4844 766.0625,553.4844 C767.2813,553.4844 768.4375,553.1875 769.1875,552.6406 C769.7656,552.2344 770.0938,551.7813 770.0938,551.3906 C770.0938,550.9375 769.7031,550.5469 769.2344,550.5469 C769.0156,550.5469 768.8125,550.625 768.625,550.8125 C768.1719,551.2969 768.1719,551.2969 767.9844,551.3906 C767.5625,551.6563 766.875,551.7813 766.1094,551.7813 C764.0625,551.7813 762.7656,550.6875 762.7656,548.9844 L762.7656,547.8906 C762.7656,546.1094 764.0156,544.7969 765.75,544.7969 C766.3281,544.7969 766.9375,544.9531 767.4063,545.2031 C767.8906,545.4844 768.0625,545.7031 768.1563,546.1094 C768.2188,546.5156 768.25,546.6406 768.3906,546.7656 C768.5313,546.9063 768.7656,547.0156 768.9844,547.0156 C769.25,547.0156 769.5156,546.875 769.6875,546.6563 C769.7969,546.5 769.8281,546.3125 769.8281,545.8906 L769.8281,544.4688 C769.8281,544.0313 769.8125,543.9063 769.7188,543.75 C769.5625,543.4844 769.2813,543.3438 768.9844,543.3438 C768.6875,543.3438 768.4844,543.4375 768.2656,543.75 L768.0938,543.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="786.25" y="552.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="684" x2="926" y1="564" y2="564"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="689" y="578.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="689" y="591.0151">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="689" y="603.8198">-runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="689" y="616.6245">-serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="689" y="629.4292">-bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="684" x2="926" y1="636.0234" y2="636.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="689" y="650.2339">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="689" y="663.0386">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="689" y="675.8433">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="689" y="688.6479">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="701.4526">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="689" y="714.2573">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="689" y="727.062">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="689" y="739.8667">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="689" y="752.6714">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="689" y="765.4761">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="88" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="188.8516" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="816" y="833"/><ellipse cx="884.75" cy="849" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M887.0938,844.6719 C886.1563,844.2344 885.5625,844.0938 884.6875,844.0938 C882.0625,844.0938 880.0625,846.1719 880.0625,848.8906 L880.0625,850.0156 C880.0625,852.5938 882.1719,854.4844 885.0625,854.4844 C886.2813,854.4844 887.4375,854.1875 888.1875,853.6406 C888.7656,853.2344 889.0938,852.7813 889.0938,852.3906 C889.0938,851.9375 888.7031,851.5469 888.2344,851.5469 C888.0156,851.5469 887.8125,851.625 887.625,851.8125 C887.1719,852.2969 887.1719,852.2969 886.9844,852.3906 C886.5625,852.6563 885.875,852.7813 885.1094,852.7813 C883.0625,852.7813 881.7656,851.6875 881.7656,849.9844 L881.7656,848.8906 C881.7656,847.1094 883.0156,845.7969 884.75,845.7969 C885.3281,845.7969 885.9375,845.9531 886.4063,846.2031 C886.8906,846.4844 887.0625,846.7031 887.1563,847.1094 C887.2188,847.5156 887.25,847.6406 887.3906,847.7656 C887.5313,847.9063 887.7656,848.0156 887.9844,848.0156 C888.25,848.0156 888.5156,847.875 888.6875,847.6563 C888.7969,847.5 888.8281,847.3125 888.8281,846.8906 L888.8281,845.4688 C888.8281,845.0313 888.8125,844.9063 888.7188,844.75 C888.5625,844.4844 888.2813,844.3438 887.9844,844.3438 C887.6875,844.3438 887.4844,844.4375 887.2656,844.75 L887.0938,844.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="905.25" y="853.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="817" x2="1109" y1="865" y2="865"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="822" y="879.2104">-webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="822" y="892.0151">-ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="822" y="904.8198">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="822" y="917.6245">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="822" y="930.4292">-authentificationTokenModeratorClientHash: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="817" x2="1109" y1="937.0234" y2="937.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="822" y="951.2339">+ModeratorClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="822" y="964.0386">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="822" y="976.8433">+recieveMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="822" y="989.6479">+checkJSON(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="822" y="1002.4526">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="822" y="1015.2573">+evalJSON(): string</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="103" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="529" y="871.5"/><ellipse cx="600.75" cy="887.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M603.0938,883.1719 C602.1563,882.7344 601.5625,882.5938 600.6875,882.5938 C598.0625,882.5938 596.0625,884.6719 596.0625,887.3906 L596.0625,888.5156 C596.0625,891.0938 598.1719,892.9844 601.0625,892.9844 C602.2813,892.9844 603.4375,892.6875 604.1875,892.1406 C604.7656,891.7344 605.0938,891.2813 605.0938,890.8906 C605.0938,890.4375 604.7031,890.0469 604.2344,890.0469 C604.0156,890.0469 603.8125,890.125 603.625,890.3125 C603.1719,890.7969 603.1719,890.7969 602.9844,890.8906 C602.5625,891.1563 601.875,891.2813 601.1094,891.2813 C599.0625,891.2813 597.7656,890.1875 597.7656,888.4844 L597.7656,887.3906 C597.7656,885.6094 599.0156,884.2969 600.75,884.2969 C601.3281,884.2969 601.9375,884.4531 602.4063,884.7031 C602.8906,884.9844 603.0625,885.2031 603.1563,885.6094 C603.2188,886.0156 603.25,886.1406 603.3906,886.2656 C603.5313,886.4063 603.7656,886.5156 603.9844,886.5156 C604.25,886.5156 604.5156,886.375 604.6875,886.1563 C604.7969,886 604.8281,885.8125 604.8281,885.3906 L604.8281,883.9688 C604.8281,883.5313 604.8125,883.4063 604.7188,883.25 C604.5625,882.9844 604.2813,882.8438 603.9844,882.8438 C603.6875,882.8438 603.4844,882.9375 603.2656,883.25 L603.0938,883.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="621.25" y="891.6543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="780" y1="903.5" y2="903.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="535" y="917.7104">-moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="535" y="930.5151">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="780" y1="937.1094" y2="937.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="535" y="951.3198">+MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="535" y="964.1245">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="535" y="976.9292">+onVotingMessage(message: string): void</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="112" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="176.0469" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="569" y="1088"/><ellipse cx="660.25" cy="1104" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M662.5938,1099.6719 C661.6563,1099.2344 661.0625,1099.0938 660.1875,1099.0938 C657.5625,1099.0938 655.5625,1101.1719 655.5625,1103.8906 L655.5625,1105.0156 C655.5625,1107.5938 657.6719,1109.4844 660.5625,1109.4844 C661.7813,1109.4844 662.9375,1109.1875 663.6875,1108.6406 C664.2656,1108.2344 664.5938,1107.7813 664.5938,1107.3906 C664.5938,1106.9375 664.2031,1106.5469 663.7344,1106.5469 C663.5156,1106.5469 663.3125,1106.625 663.125,1106.8125 C662.6719,1107.2969 662.6719,1107.2969 662.4844,1107.3906 C662.0625,1107.6563 661.375,1107.7813 660.6094,1107.7813 C658.5625,1107.7813 657.2656,1106.6875 657.2656,1104.9844 L657.2656,1103.8906 C657.2656,1102.1094 658.5156,1100.7969 660.25,1100.7969 C660.8281,1100.7969 661.4375,1100.9531 661.9063,1101.2031 C662.3906,1101.4844 662.5625,1101.7031 662.6563,1102.1094 C662.7188,1102.5156 662.75,1102.6406 662.8906,1102.7656 C663.0313,1102.9063 663.2656,1103.0156 663.4844,1103.0156 C663.75,1103.0156 664.0156,1102.875 664.1875,1102.6563 C664.2969,1102.5 664.3281,1102.3125 664.3281,1101.8906 L664.3281,1100.4688 C664.3281,1100.0313 664.3125,1099.9063 664.2188,1099.75 C664.0625,1099.4844 663.7813,1099.3438 663.4844,1099.3438 C663.1875,1099.3438 662.9844,1099.4375 662.7656,1099.75 L662.5938,1099.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="680.75" y="1108.1543">PlayerAudienceClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="570" x2="936" y1="1120" y2="1120"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="575" y="1134.2104">-observerCollection: ArrayList&lt;Observer&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="575" y="1147.0151">-possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="575" y="1159.8198">-voteCounter: Dictionary&lt;int, int&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="570" x2="936" y1="1166.4141" y2="1166.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="575" y="1180.6245">+PlayerAudienceClientManager()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="575" y="1193.4292">+subscribeObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="575" y="1206.2339">+unsubscribeObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="575" y="1219.0386">+notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="575" y="1231.8433">+updatePossibleDecisions(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="575" y="1244.6479">+collectVotes(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="575" y="1257.4526">+evaluateVotes(): Dictionary&lt;int, int&gt;</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="125" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="163.2422" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="768" y="84"/><ellipse cx="837.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M840.0938,95.6719 C839.1563,95.2344 838.5625,95.0938 837.6875,95.0938 C835.0625,95.0938 833.0625,97.1719 833.0625,99.8906 L833.0625,101.0156 C833.0625,103.5938 835.1719,105.4844 838.0625,105.4844 C839.2813,105.4844 840.4375,105.1875 841.1875,104.6406 C841.7656,104.2344 842.0938,103.7813 842.0938,103.3906 C842.0938,102.9375 841.7031,102.5469 841.2344,102.5469 C841.0156,102.5469 840.8125,102.625 840.625,102.8125 C840.1719,103.2969 840.1719,103.2969 839.9844,103.3906 C839.5625,103.6563 838.875,103.7813 838.1094,103.7813 C836.0625,103.7813 834.7656,102.6875 834.7656,100.9844 L834.7656,99.8906 C834.7656,98.1094 836.0156,96.7969 837.75,96.7969 C838.3281,96.7969 838.9375,96.9531 839.4063,97.2031 C839.8906,97.4844 840.0625,97.7031 840.1563,98.1094 C840.2188,98.5156 840.25,98.6406 840.3906,98.7656 C840.5313,98.9063 840.7656,99.0156 840.9844,99.0156 C841.25,99.0156 841.5156,98.875 841.6875,98.6563 C841.7969,98.5 841.8281,98.3125 841.8281,97.8906 L841.8281,96.4688 C841.8281,96.0313 841.8125,95.9063 841.7188,95.75 C841.5625,95.4844 841.2813,95.3438 840.9844,95.3438 C840.6875,95.3438 840.4844,95.4375 840.2656,95.75 L840.0938,95.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="858.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="769" x2="999" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="774" y="130.2104">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="774" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="774" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="774" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="769" x2="999" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="774" y="189.4292">+Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="774" y="202.2339">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="774" y="215.0386">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="774" y="227.8433">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="774" y="240.6479">+setConsoleOutput(val: boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="138" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="245" y="1104"/><ellipse cx="265.85" cy="1122.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M268.1938,1118.6406 C267.2563,1118.2031 266.6625,1118.0625 265.7875,1118.0625 C263.1625,1118.0625 261.1625,1120.1406 261.1625,1122.8594 L261.1625,1123.9844 C261.1625,1126.5625 263.2719,1128.4531 266.1625,1128.4531 C267.3813,1128.4531 268.5375,1128.1563 269.2875,1127.6094 C269.8656,1127.2031 270.1938,1126.75 270.1938,1126.3594 C270.1938,1125.9063 269.8031,1125.5156 269.3344,1125.5156 C269.1156,1125.5156 268.9125,1125.5938 268.725,1125.7813 C268.2719,1126.2656 268.2719,1126.2656 268.0844,1126.3594 C267.6625,1126.625 266.975,1126.75 266.2094,1126.75 C264.1625,1126.75 262.8656,1125.6563 262.8656,1123.9531 L262.8656,1122.8594 C262.8656,1121.0781 264.1156,1119.7656 265.85,1119.7656 C266.4281,1119.7656 267.0375,1119.9219 267.5063,1120.1719 C267.9906,1120.4531 268.1625,1120.6719 268.2563,1121.0781 C268.3188,1121.4844 268.35,1121.6094 268.4906,1121.7344 C268.6313,1121.875 268.8656,1121.9844 269.0844,1121.9844 C269.35,1121.9844 269.6156,1121.8438 269.7875,1121.625 C269.8969,1121.4688 269.9281,1121.2813 269.9281,1120.8594 L269.9281,1119.4375 C269.9281,1119 269.9125,1118.875 269.8188,1118.7188 C269.6625,1118.4531 269.3813,1118.3125 269.0844,1118.3125 C268.7875,1118.3125 268.5844,1118.4063 268.3656,1118.7188 L268.1938,1118.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="338.65" y="1120.1387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="281.15" y="1134.1074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="472" y1="1141.9375" y2="1141.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="251" y="1156.1479">-sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="251" y="1168.9526">-hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="251" y="1181.7573">-selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="251" y="1194.562">-possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="246" x2="472" y1="1201.1563" y2="1201.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="251" y="1215.3667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="251" y="1228.1714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="1240.9761">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="148" fill="#FEFECE" filter="url(#f1rn7h3cvg9tqe)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="56.5" y="1145.5"/><ellipse cx="71.5" cy="1161.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M73.8438,1157.1719 C72.9063,1156.7344 72.3125,1156.5938 71.4375,1156.5938 C68.8125,1156.5938 66.8125,1158.6719 66.8125,1161.3906 L66.8125,1162.5156 C66.8125,1165.0938 68.9219,1166.9844 71.8125,1166.9844 C73.0313,1166.9844 74.1875,1166.6875 74.9375,1166.1406 C75.5156,1165.7344 75.8438,1165.2813 75.8438,1164.8906 C75.8438,1164.4375 75.4531,1164.0469 74.9844,1164.0469 C74.7656,1164.0469 74.5625,1164.125 74.375,1164.3125 C73.9219,1164.7969 73.9219,1164.7969 73.7344,1164.8906 C73.3125,1165.1563 72.625,1165.2813 71.8594,1165.2813 C69.8125,1165.2813 68.5156,1164.1875 68.5156,1162.4844 L68.5156,1161.3906 C68.5156,1159.6094 69.7656,1158.2969 71.5,1158.2969 C72.0781,1158.2969 72.6875,1158.4531 73.1563,1158.7031 C73.6406,1158.9844 73.8125,1159.2031 73.9063,1159.6094 C73.9688,1160.0156 74,1160.1406 74.1406,1160.2656 C74.2813,1160.4063 74.5156,1160.5156 74.7344,1160.5156 C75,1160.5156 75.2656,1160.375 75.4375,1160.1563 C75.5469,1160 75.5781,1159.8125 75.5781,1159.3906 L75.5781,1157.9688 C75.5781,1157.5313 75.5625,1157.4063 75.4688,1157.25 C75.3125,1156.9844 75.0313,1156.8438 74.7344,1156.8438 C74.4375,1156.8438 74.2344,1156.9375 74.0156,1157.25 L73.8438,1157.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="85.5" y="1165.6543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1177.5" y2="1177.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="57.5" x2="208.5" y1="1185.5" y2="1185.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="62.5" y="1199.7104">+PlayerAudienceView()</text><!--MD5=[513d28559cb9b2f986fa50a4c3eda83f]
link StoryEvent to StoryGraph--><path codeLine="58" d="M1476,228.04 C1476,248.64 1476,272.09 1476,294.58 " fill="none" id="StoryEvent-to-StoryGraph" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1476,307.69,1480,301.69,1476,295.69,1472,301.69,1476,307.69" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1467.5625" y="247.7842">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1467.6438" y="296.7979">1</text><!--MD5=[c53e1f9c02f78d6f6c6c47087547b478]
link StoryGraph to mf--><path codeLine="59" d="M1476,471.14 C1476,516.715 1476,571.817 1476,608.923 " fill="none" id="StoryGraph-mf" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f80b4c689c2fbad67007e34e43864d26]
link StoryGraph to Character--><path codeLine="60" d="M1547.67,471.121 C1563.64,490.514 1579.99,511.55 1594,532 C1610.76,556.458 1626.95,585.535 1639.1,608.824 " fill="none" id="StoryGraph-Character" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d7db87ef639825ac303fec40d74a2b35]
link Character to Skills--><path codeLine="61" d="M1660,695.135 C1660,742.335 1660,819.032 1660,871.064 " fill="none" id="Character-Skills" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2d3469a9cdf6af823ac71c279ee21e31]
link mf to mcei--><path codeLine="62" d="M1457.2,695.135 C1439.36,735.143 1412.06,796.342 1390.02,845.752 " fill="none" id="mf-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[63724e4bd5e0b29029b3598b772a27b3]
link StoryGraph to mcei--><path codeLine="63" d="M1393.08,471.22 C1378.77,489.738 1365.95,510.386 1358,532 C1320.04,635.168 1328.1,764.039 1339.4,845.832 " fill="none" id="StoryGraph-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="152" d="M739.644,772.165 C720.696,806.714 700.914,842.784 685.242,871.359 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="153" d="M781.027,927.5 C792.638,927.5 804.248,927.5 815.858,927.5 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6ad5262873646cc0a067a1a0032951a6]
link msl to api--><path codeLine="154" d="M676.871,983.513 C689.056,1014.161 704.509,1053.031 718.304,1087.73 " fill="none" id="msl-api" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="155" d="M899.955,247.07 C913.92,320.894 933.563,433.361 944,532 C954.84,634.453 959.501,752.536 961.502,832.611 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="156" d="M818.891,247.09 C766.276,317.56 696.043,425.085 665,532 C631.044,648.949 639.421,793.684 647.714,871.237 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="157" d="M1000.06,212.27 C1070.14,248.35 1146,306.37 1146,388.5 C1146,388.5 1146,388.5 1146,928.5 C1146,975.706 1157.19,996.71 1127,1033 C1079.47,1090.131 1006.34,1124.311 937.306,1144.745 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="158" d="M870.866,247.05 C858.208,324.679 838.902,443.081 824.459,531.658 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[74bdb0cfd034b788e140b4bbff816985]
link pav to pace--><path codeLine="159" d="M209.805,1176 C221.461,1176 233.116,1176 244.772,1176 " fill="none" id="pav-pace" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[174fed849d61687df396b348733ea285]
reverse link api to pace--><path codeLine="160" d="M563.476,1197.281 C538.923,1198.029 514.114,1197.786 490.5,1196 C484.858,1195.573 479.092,1195.045 473.277,1194.439 " fill="none" id="api-backto-pace" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="568.71,1197.107,559.5824,1193.4074,563.7127,1197.2727,559.8475,1201.403,568.71,1197.107" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="491.5" y="1192.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="552.7665" y="1194.7498">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="481.1693" y="1172.5819">n</text><!--MD5=[58a85bdb989a432d30a1624e5616c617]
link mcei to cm--><path codeLine="163" d="M1227.24,927.5 C1188.16,927.5 1149.08,927.5 1110.01,927.5 " fill="none" id="mcei-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[861a3f80b43936b0577010257a97ebb6]
@startuml
skinparam classAttributeIconSize 0

package "Moderator-Client" {

  class StoryEvent {
    {field} -eventId: int
    {field} -description: string
    {field} -parent: StoryEvent
    {field} -children: StoryEvent[]
    {method} +StoryEvent(parent: StoryEvent, id: int)
    {method} +addChild(): void
  }

  class StoryGraph {
    {field} -character: Character
    {field} -root: StoryEvent
    {field} -currentEvent: StoryEvent
    {method} +StoryGraph(id: int)
    {method} +loadGraphFromFile(): Graph
    {method} +saveGraphToFile(): void
    {method} +getNextPossibleEvent(): StoryEvent[]
    {method} +setCurrentEvent(newCurrentEvent: StoryEvent): void
    {method} +getNextStoryEventById(id: int): StoryEvent
  }

  class "ModeratorView" as mf {
    {method} +ModeratorView()
    {method} +pausePolling(val: boolean): void
    {method} +offlineMode(val: boolean): void
  }

  class "ModeratorClientExchange" as mcei{
    {field} -websocket: WebSocket
    {field} -authentificationGuid: Guid
    {field} -timeoutDuration: int
    {method} +ModeratorClientExchange()
    {method} +sendMessage(message: string): void
    {method} +evalJSON(): string
    {method} +endCurrentPollAndGetVotingResults(): int
    {method} +makeJSON(): string
    {method} +enterPassword(pw: string): void
  }

  class Skills {
    {field} -communication: int
    {field} -analytics: int
    {field} -partying: int
    {field} -programming: int
    {method} + Skill(commu: int, analy: int, party: int, progr: int)
  }

  class Character {
    {field} -abilities: Skills
    {field} -name: string
    {method} +Character()
  }
  
  StoryEvent "n" - -* "1" StoryGraph
  StoryGraph - - mf
  StoryGraph - - Character
  Character - - Skills
  mf - - mcei
  StoryGraph - - - mcei
}

package "ServerApplication" {
   

  package "ServerLogic" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} -port: int
      {field} -runShell: boolean
      {field} -serverShell: ServerShell
      {field} -bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} -webSocket: WebSocket
      {field} -ip: int
      {field} -port: int
      {field} +logger: Logger
      {field} -authentificationTokenModeratorClientHash: int
      {method} +ModeratorClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +recieveMessage(message: string): void
      {method} +checkJSON(message: string): void
      {method} +sendMessage(message: string): void
      {method} +evalJSON(): string

    }    

    class "MainServerLogic" as msl {
      {field} -moderator: WebClient
      {field} +logger: Logger
      {method} +MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void

    }

    class "PlayerAudienceClientManager" as api {
        {field} -observerCollection: ArrayList<Observer>
        {field} -possibleDecisions: StoryEvent[]
        {field} -voteCounter: Dictionary<int, int>
        {method} +PlayerAudienceClientManager()
        {method} +subscribeObserver(observer: Observer, cookie: Cookie): void
        {method} +unsubscribeObserver(observer: Observer): void
        {method} +notifyObservers(): void
        {method} +updatePossibleDecisions(): void
        {method} +collectVotes(): void
        {method} +evaluateVotes(): Dictionary<int, int>
  }

    class "ServerLogger" as sl {
      {field} +globalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +Logger()
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: boolean): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} -sessionCookie: Cookie
      {field} -hasVoted: boolean
      {field} -selectedDecision: StoryEvent
      {field} -possibleDecisions: StoryEvent[]
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -down- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace -left- pav
  api "1" <-right- "n" pace : observes
}

mcei -right- cm
@enduml

PlantUML version 1.2020.20beta13(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>