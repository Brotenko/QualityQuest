<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1253px" preserveAspectRatio="none" style="width:780px;height:1253px;" version="1.1" viewBox="0 0 780 1253" width="780px" zoomAndPan="magnify"><defs><filter height="300%" id="f9mu8ha1e2r7i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[c047474403e650c4d4572c8d29a316f1]
cluster Moderator Client--><polygon fill="#FFFFFF" filter="url(#f9mu8ha1e2r7i)" points="22,24,147,24,154,47.6094,433,47.6094,433,835,22,835,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="154" y1="47.6094" y2="47.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="26" y="40.5332">Moderator Client</text><!--MD5=[979da56a7f83e2393dc758167ae295d0]
cluster Server--><polygon fill="#FFFFFF" filter="url(#f9mu8ha1e2r7i)" points="188,859,242,859,249,882.6094,757,882.6094,757,1241,188,1241,188,859" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="188" x2="249" y1="882.6094" y2="882.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="192" y="875.5332">Server</text><!--MD5=[67adde4c5db0467fcf0b97b7ce37e86c]
cluster PlayerAudience Client--><polygon fill="#FFFFFF" filter="url(#f9mu8ha1e2r7i)" points="474,495.5,634,495.5,641,519.1094,758,519.1094,758,832,474,832,474,495.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="474" x2="641" y1="519.1094" y2="519.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="478" y="512.0332">PlayerAudience Client</text><!--MD5=[3eaf92687768346c8d614b6fd2c22fb9]
class StoryEvent--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="131.0156" id="StoryEvent" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="127" y="60"/><ellipse cx="194.25" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M197.0156,71.875 Q197.1719,71.6563 197.3594,71.5469 Q197.5469,71.4375 197.7656,71.4375 Q198.1406,71.4375 198.375,71.7031 Q198.6094,71.9531 198.6094,72.5625 L198.6094,74.0156 Q198.6094,74.625 198.375,74.8906 Q198.1406,75.1563 197.7656,75.1563 Q197.4219,75.1563 197.2188,74.9531 Q197.0156,74.7656 196.9063,74.25 Q196.8594,73.8906 196.6719,73.7031 Q196.3438,73.3281 195.7344,73.1094 Q195.125,72.8906 194.5,72.8906 Q193.7344,72.8906 193.0938,73.2188 Q192.4688,73.5469 191.9688,74.2969 Q191.4844,75.0469 191.4844,76.0781 L191.4844,77.1719 Q191.4844,78.4063 192.375,79.2344 Q193.2656,80.0469 194.8594,80.0469 Q195.7969,80.0469 196.4531,79.7969 Q196.8438,79.6406 197.2656,79.2031 Q197.5313,78.9375 197.6719,78.8594 Q197.8281,78.7813 198.0313,78.7813 Q198.3594,78.7813 198.6094,79.0469 Q198.875,79.2969 198.875,79.6406 Q198.875,79.9844 198.5313,80.3906 Q198.0313,80.9688 197.2344,81.2969 Q196.1563,81.75 194.8594,81.75 Q193.3438,81.75 192.1406,81.125 Q191.1563,80.625 190.4688,79.5625 Q189.7813,78.4844 189.7813,77.2031 L189.7813,76.0469 Q189.7813,74.7188 190.3906,73.5781 Q191.0156,72.4219 192.1094,71.8125 Q193.2031,71.1875 194.4375,71.1875 Q195.1719,71.1875 195.8125,71.3594 Q196.4688,71.5156 197.0156,71.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="214.75" y="80.9102">StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="128" x2="326" y1="92" y2="92"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="133" y="107.4189">+eventId: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="133" y="121.2549">+description: String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="133" y="135.0908">+parent: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="133" y="148.9268">+children: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="128" x2="326" y1="155.3438" y2="155.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="133" y="170.7627">+StoryEvent(parent: StoryEvent, id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="133" y="184.5986">+addChild(): void</text><!--MD5=[efd5ebcc74ce0165d13c1df9fdb2b1d2]
class StoryGraph--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="186.3594" id="StoryGraph" style="stroke: #A80036; stroke-width: 1.5;" width="274" x="90" y="251"/><ellipse cx="192.25" cy="267" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M195.0156,262.875 Q195.1719,262.6563 195.3594,262.5469 Q195.5469,262.4375 195.7656,262.4375 Q196.1406,262.4375 196.375,262.7031 Q196.6094,262.9531 196.6094,263.5625 L196.6094,265.0156 Q196.6094,265.625 196.375,265.8906 Q196.1406,266.1563 195.7656,266.1563 Q195.4219,266.1563 195.2188,265.9531 Q195.0156,265.7656 194.9063,265.25 Q194.8594,264.8906 194.6719,264.7031 Q194.3438,264.3281 193.7344,264.1094 Q193.125,263.8906 192.5,263.8906 Q191.7344,263.8906 191.0938,264.2188 Q190.4688,264.5469 189.9688,265.2969 Q189.4844,266.0469 189.4844,267.0781 L189.4844,268.1719 Q189.4844,269.4063 190.375,270.2344 Q191.2656,271.0469 192.8594,271.0469 Q193.7969,271.0469 194.4531,270.7969 Q194.8438,270.6406 195.2656,270.2031 Q195.5313,269.9375 195.6719,269.8594 Q195.8281,269.7813 196.0313,269.7813 Q196.3594,269.7813 196.6094,270.0469 Q196.875,270.2969 196.875,270.6406 Q196.875,270.9844 196.5313,271.3906 Q196.0313,271.9688 195.2344,272.2969 Q194.1563,272.75 192.8594,272.75 Q191.3438,272.75 190.1406,272.125 Q189.1563,271.625 188.4688,270.5625 Q187.7813,269.4844 187.7813,268.2031 L187.7813,267.0469 Q187.7813,265.7188 188.3906,264.5781 Q189.0156,263.4219 190.1094,262.8125 Q191.2031,262.1875 192.4375,262.1875 Q193.1719,262.1875 193.8125,262.3594 Q194.4688,262.5156 195.0156,262.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="212.75" y="271.9102">StoryGraph</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91" x2="363" y1="283" y2="283"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="96" y="298.4189">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="96" y="312.2549">+character: Character</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="96" y="326.0908">+root: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="96" y="339.9268">+currentEvent: StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91" x2="363" y1="346.3438" y2="346.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="96" y="361.7627">+StoryGraph(id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="96" y="375.5986">+loadGraphFromFile(): Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="96" y="389.4346">+saveGraphToFile(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="96" y="403.2705">+getNextPossibleEvent(): StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="262" x="96" y="417.1064">+setCurrentEvent(newCurrentEvent: StoryEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="96" y="430.9424">+getNextStoryEventById(id: int): StoryEvent</text><!--MD5=[42e1add689e888dd7b55d3ee3f1dd6d7]
class Skill--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="131.0156" id="Skill" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="38" y="688"/><ellipse cx="107.25" cy="704" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M110.0156,699.875 Q110.1719,699.6563 110.3594,699.5469 Q110.5469,699.4375 110.7656,699.4375 Q111.1406,699.4375 111.375,699.7031 Q111.6094,699.9531 111.6094,700.5625 L111.6094,702.0156 Q111.6094,702.625 111.375,702.8906 Q111.1406,703.1563 110.7656,703.1563 Q110.4219,703.1563 110.2188,702.9531 Q110.0156,702.7656 109.9063,702.25 Q109.8594,701.8906 109.6719,701.7031 Q109.3438,701.3281 108.7344,701.1094 Q108.125,700.8906 107.5,700.8906 Q106.7344,700.8906 106.0938,701.2188 Q105.4688,701.5469 104.9688,702.2969 Q104.4844,703.0469 104.4844,704.0781 L104.4844,705.1719 Q104.4844,706.4063 105.375,707.2344 Q106.2656,708.0469 107.8594,708.0469 Q108.7969,708.0469 109.4531,707.7969 Q109.8438,707.6406 110.2656,707.2031 Q110.5313,706.9375 110.6719,706.8594 Q110.8281,706.7813 111.0313,706.7813 Q111.3594,706.7813 111.6094,707.0469 Q111.875,707.2969 111.875,707.6406 Q111.875,707.9844 111.5313,708.3906 Q111.0313,708.9688 110.2344,709.2969 Q109.1563,709.75 107.8594,709.75 Q106.3438,709.75 105.1406,709.125 Q104.1563,708.625 103.4688,707.5625 Q102.7813,706.4844 102.7813,705.2031 L102.7813,704.0469 Q102.7813,702.7188 103.3906,701.5781 Q104.0156,700.4219 105.1094,699.8125 Q106.2031,699.1875 107.4375,699.1875 Q108.1719,699.1875 108.8125,699.3594 Q109.4688,699.5156 110.0156,699.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="23" x="127.75" y="708.9102">Skill</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="207" y1="720" y2="720"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="44" y="735.4189">+id: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="44" y="749.2549">+value: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="44" y="763.0908">+description: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="207" y1="769.5078" y2="769.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="44" y="784.9268">+Skill(id: int, val: int, desc: String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="44" y="798.7627">+setValue(val: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="44" y="812.5986">+getValue(): int</text><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="103.3438" id="Character" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="90" y="511"/><ellipse cx="105.9" cy="527" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M108.6656,522.875 Q108.8219,522.6563 109.0094,522.5469 Q109.1969,522.4375 109.4156,522.4375 Q109.7906,522.4375 110.025,522.7031 Q110.2594,522.9531 110.2594,523.5625 L110.2594,525.0156 Q110.2594,525.625 110.025,525.8906 Q109.7906,526.1563 109.4156,526.1563 Q109.0719,526.1563 108.8688,525.9531 Q108.6656,525.7656 108.5563,525.25 Q108.5094,524.8906 108.3219,524.7031 Q107.9938,524.3281 107.3844,524.1094 Q106.775,523.8906 106.15,523.8906 Q105.3844,523.8906 104.7438,524.2188 Q104.1188,524.5469 103.6188,525.2969 Q103.1344,526.0469 103.1344,527.0781 L103.1344,528.1719 Q103.1344,529.4063 104.025,530.2344 Q104.9156,531.0469 106.5094,531.0469 Q107.4469,531.0469 108.1031,530.7969 Q108.4938,530.6406 108.9156,530.2031 Q109.1813,529.9375 109.3219,529.8594 Q109.4781,529.7813 109.6813,529.7813 Q110.0094,529.7813 110.2594,530.0469 Q110.525,530.2969 110.525,530.6406 Q110.525,530.9844 110.1813,531.3906 Q109.6813,531.9688 108.8844,532.2969 Q107.8063,532.75 106.5094,532.75 Q104.9938,532.75 103.7906,532.125 Q102.8063,531.625 102.1188,530.5625 Q101.4313,529.4844 101.4313,528.2031 L101.4313,527.0469 Q101.4313,525.7188 102.0406,524.5781 Q102.6656,523.4219 103.7594,522.8125 Q104.8531,522.1875 106.0875,522.1875 Q106.8219,522.1875 107.4625,522.3594 Q108.1188,522.5156 108.6656,522.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="120.1" y="531.9102">Character</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91" x2="177" y1="543" y2="543"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="96" y="558.4189">+sprite: Texture</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="96" y="572.2549">+abilities: Skill[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="96" y="586.0908">+name: String</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="91" x2="177" y1="592.5078" y2="592.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="96" y="607.9268">+Character()</text><!--MD5=[bb849c1528464e2c6bbfb2687d0866b0]
class mf--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="131.0156" id="mf" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="235" y="497"/><ellipse cx="273.85" cy="513" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M276.6156,508.875 Q276.7719,508.6563 276.9594,508.5469 Q277.1469,508.4375 277.3656,508.4375 Q277.7406,508.4375 277.975,508.7031 Q278.2094,508.9531 278.2094,509.5625 L278.2094,511.0156 Q278.2094,511.625 277.975,511.8906 Q277.7406,512.1563 277.3656,512.1563 Q277.0219,512.1563 276.8188,511.9531 Q276.6156,511.7656 276.5063,511.25 Q276.4594,510.8906 276.2719,510.7031 Q275.9438,510.3281 275.3344,510.1094 Q274.725,509.8906 274.1,509.8906 Q273.3344,509.8906 272.6938,510.2188 Q272.0688,510.5469 271.5688,511.2969 Q271.0844,512.0469 271.0844,513.0781 L271.0844,514.1719 Q271.0844,515.4063 271.975,516.2344 Q272.8656,517.0469 274.4594,517.0469 Q275.3969,517.0469 276.0531,516.7969 Q276.4438,516.6406 276.8656,516.2031 Q277.1313,515.9375 277.2719,515.8594 Q277.4281,515.7813 277.6313,515.7813 Q277.9594,515.7813 278.2094,516.0469 Q278.475,516.2969 278.475,516.6406 Q278.475,516.9844 278.1313,517.3906 Q277.6313,517.9688 276.8344,518.2969 Q275.7563,518.75 274.4594,518.75 Q272.9438,518.75 271.7406,518.125 Q270.7563,517.625 270.0688,516.5625 Q269.3813,515.4844 269.3813,514.2031 L269.3813,513.0469 Q269.3813,511.7188 269.9906,510.5781 Q270.6156,509.4219 271.7094,508.8125 Q272.8031,508.1875 274.0375,508.1875 Q274.7719,508.1875 275.4125,508.3594 Q276.0688,508.5156 276.6156,508.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="293.15" y="517.9102">ModeratorView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="400" y1="529" y2="529"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="241" y="544.4189">+timeoutDuration: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236" x2="400" y1="550.8359" y2="550.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="241" y="566.2549">+ModeratorView()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="241" y="580.0908">+pausePolling(Boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="241" y="593.9268">+checkServerStatus(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="241" y="607.7627">+broadcastNextDecision(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="241" y="621.5986">+offlineMode(val: boolean): void</text><!--MD5=[aef0d3d3c8a893455b9107cd4a3b357c]
class mcei--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="111.5313" id="mcei" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="243.5" y="697.5"/><ellipse cx="258.5" cy="717.5938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M261.2656,713.4688 Q261.4219,713.25 261.6094,713.1406 Q261.7969,713.0313 262.0156,713.0313 Q262.3906,713.0313 262.625,713.2969 Q262.8594,713.5469 262.8594,714.1563 L262.8594,715.6094 Q262.8594,716.2188 262.625,716.4844 Q262.3906,716.75 262.0156,716.75 Q261.6719,716.75 261.4688,716.5469 Q261.2656,716.3594 261.1563,715.8438 Q261.1094,715.4844 260.9219,715.2969 Q260.5938,714.9219 259.9844,714.7031 Q259.375,714.4844 258.75,714.4844 Q257.9844,714.4844 257.3438,714.8125 Q256.7188,715.1406 256.2188,715.8906 Q255.7344,716.6406 255.7344,717.6719 L255.7344,718.7656 Q255.7344,720 256.625,720.8281 Q257.5156,721.6406 259.1094,721.6406 Q260.0469,721.6406 260.7031,721.3906 Q261.0938,721.2344 261.5156,720.7969 Q261.7813,720.5313 261.9219,720.4531 Q262.0781,720.375 262.2813,720.375 Q262.6094,720.375 262.8594,720.6406 Q263.125,720.8906 263.125,721.2344 Q263.125,721.5781 262.7813,721.9844 Q262.2813,722.5625 261.4844,722.8906 Q260.4063,723.3438 259.1094,723.3438 Q257.5938,723.3438 256.3906,722.7188 Q255.4063,722.2188 254.7188,721.1563 Q254.0313,720.0781 254.0313,718.7969 L254.0313,717.6406 Q254.0313,716.3125 254.6406,715.1719 Q255.2656,714.0156 256.3594,713.4063 Q257.4531,712.7813 258.6875,712.7813 Q259.4219,712.7813 260.0625,712.9531 Q260.7188,713.1094 261.2656,713.4688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="312.5" y="714.957">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="272.5" y="730.0508">ModeratorClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="244.5" x2="415.5" y1="737.6875" y2="737.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="249.5" y="753.1064">+websocket:WebSocket</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="244.5" x2="415.5" y1="759.5234" y2="759.5234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="249.5" y="774.9424">+ModeratorClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="249.5" y="788.7783">+getCurrentPollEval(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="249.5" y="802.6143">+makeJSON()</text><!--MD5=[064a8f12a36823b1bb56e2c184dd9205]
class smei--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="125.3672" id="smei" style="stroke: #A80036; stroke-width: 1.5;" width="251" x="204.5" y="895"/><ellipse cx="253.75" cy="915.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M256.5156,910.9688 Q256.6719,910.75 256.8594,910.6406 Q257.0469,910.5313 257.2656,910.5313 Q257.6406,910.5313 257.875,910.7969 Q258.1094,911.0469 258.1094,911.6563 L258.1094,913.1094 Q258.1094,913.7188 257.875,913.9844 Q257.6406,914.25 257.2656,914.25 Q256.9219,914.25 256.7188,914.0469 Q256.5156,913.8594 256.4063,913.3438 Q256.3594,912.9844 256.1719,912.7969 Q255.8438,912.4219 255.2344,912.2031 Q254.625,911.9844 254,911.9844 Q253.2344,911.9844 252.5938,912.3125 Q251.9688,912.6406 251.4688,913.3906 Q250.9844,914.1406 250.9844,915.1719 L250.9844,916.2656 Q250.9844,917.5 251.875,918.3281 Q252.7656,919.1406 254.3594,919.1406 Q255.2969,919.1406 255.9531,918.8906 Q256.3438,918.7344 256.7656,918.2969 Q257.0313,918.0313 257.1719,917.9531 Q257.3281,917.875 257.5313,917.875 Q257.8594,917.875 258.1094,918.1406 Q258.375,918.3906 258.375,918.7344 Q258.375,919.0781 258.0313,919.4844 Q257.5313,920.0625 256.7344,920.3906 Q255.6563,920.8438 254.3594,920.8438 Q252.8438,920.8438 251.6406,920.2188 Q250.6563,919.7188 249.9688,918.6563 Q249.2813,917.5781 249.2813,916.2969 L249.2813,915.1406 Q249.2813,913.8125 249.8906,912.6719 Q250.5156,911.5156 251.6094,910.9063 Q252.7031,910.2813 253.9375,910.2813 Q254.6719,910.2813 255.3125,910.4531 Q255.9688,910.6094 256.5156,910.9688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="315.75" y="912.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="274.25" y="927.5508">ServerModeratorExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="205.5" x2="454.5" y1="935.1875" y2="935.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="210.5" y="950.6064">+websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="210.5" y="964.4424">+ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="210.5" y="978.2783">+port: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="205.5" x2="454.5" y1="984.6953" y2="984.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="210.5" y="1000.1143">+ServerModeratorExchange(ip: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="210.5" y="1013.9502">+requestCurrentPossibleDecisions(): StoryEvent[]</text><!--MD5=[100204db4219f2c470ad9f3e6fcca0f4]
class spaei--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="125.3672" id="spaei" style="stroke: #A80036; stroke-width: 1.5;" width="250" x="491" y="895"/><ellipse cx="525.8" cy="915.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M528.5656,910.9688 Q528.7219,910.75 528.9094,910.6406 Q529.0969,910.5313 529.3156,910.5313 Q529.6906,910.5313 529.925,910.7969 Q530.1594,911.0469 530.1594,911.6563 L530.1594,913.1094 Q530.1594,913.7188 529.925,913.9844 Q529.6906,914.25 529.3156,914.25 Q528.9719,914.25 528.7688,914.0469 Q528.5656,913.8594 528.4563,913.3438 Q528.4094,912.9844 528.2219,912.7969 Q527.8938,912.4219 527.2844,912.2031 Q526.675,911.9844 526.05,911.9844 Q525.2844,911.9844 524.6438,912.3125 Q524.0188,912.6406 523.5188,913.3906 Q523.0344,914.1406 523.0344,915.1719 L523.0344,916.2656 Q523.0344,917.5 523.925,918.3281 Q524.8156,919.1406 526.4094,919.1406 Q527.3469,919.1406 528.0031,918.8906 Q528.3938,918.7344 528.8156,918.2969 Q529.0813,918.0313 529.2219,917.9531 Q529.3781,917.875 529.5813,917.875 Q529.9094,917.875 530.1594,918.1406 Q530.425,918.3906 530.425,918.7344 Q530.425,919.0781 530.0813,919.4844 Q529.5813,920.0625 528.7844,920.3906 Q527.7063,920.8438 526.4094,920.8438 Q524.8938,920.8438 523.6906,920.2188 Q522.7063,919.7188 522.0188,918.6563 Q521.3313,917.5781 521.3313,916.2969 L521.3313,915.1406 Q521.3313,913.8125 521.9406,912.6719 Q522.5656,911.5156 523.6594,910.9063 Q524.7531,910.2813 525.9875,910.2813 Q526.7219,910.2813 527.3625,910.4531 Q528.0188,910.6094 528.5656,910.9688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="600.7" y="912.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="174" x="544.2" y="927.5508">ServerPlayerAudienceExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="740" y1="935.1875" y2="935.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="497" y="950.6064">+websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="497" y="964.4424">+ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="497" y="978.2783">+port: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="492" x2="740" y1="984.6953" y2="984.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="497" y="1000.1143">+ServerPlayerAudienceExchange(ip: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="497" y="1013.9502">+requestDecision(): int</text><!--MD5=[9105e509a9f69a1dfba1c0054edeb4e1]
class pe--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="144.8516" id="pe" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="391" y="1080"/><ellipse cx="433" cy="1096" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M435.7656,1091.875 Q435.9219,1091.6563 436.1094,1091.5469 Q436.2969,1091.4375 436.5156,1091.4375 Q436.8906,1091.4375 437.125,1091.7031 Q437.3594,1091.9531 437.3594,1092.5625 L437.3594,1094.0156 Q437.3594,1094.625 437.125,1094.8906 Q436.8906,1095.1563 436.5156,1095.1563 Q436.1719,1095.1563 435.9688,1094.9531 Q435.7656,1094.7656 435.6563,1094.25 Q435.6094,1093.8906 435.4219,1093.7031 Q435.0938,1093.3281 434.4844,1093.1094 Q433.875,1092.8906 433.25,1092.8906 Q432.4844,1092.8906 431.8438,1093.2188 Q431.2188,1093.5469 430.7188,1094.2969 Q430.2344,1095.0469 430.2344,1096.0781 L430.2344,1097.1719 Q430.2344,1098.4063 431.125,1099.2344 Q432.0156,1100.0469 433.6094,1100.0469 Q434.5469,1100.0469 435.2031,1099.7969 Q435.5938,1099.6406 436.0156,1099.2031 Q436.2813,1098.9375 436.4219,1098.8594 Q436.5781,1098.7813 436.7813,1098.7813 Q437.1094,1098.7813 437.3594,1099.0469 Q437.625,1099.2969 437.625,1099.6406 Q437.625,1099.9844 437.2813,1100.3906 Q436.7813,1100.9688 435.9844,1101.2969 Q434.9063,1101.75 433.6094,1101.75 Q432.0938,1101.75 430.8906,1101.125 Q429.9063,1100.625 429.2188,1099.5625 Q428.5313,1098.4844 428.5313,1097.2031 L428.5313,1096.0469 Q428.5313,1094.7188 429.1406,1093.5781 Q429.7656,1092.4219 430.8594,1091.8125 Q431.9531,1091.1875 433.1875,1091.1875 Q433.9219,1091.1875 434.5625,1091.3594 Q435.2188,1091.5156 435.7656,1091.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="453" y="1100.9102">PollEvaluator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="392" x2="554" y1="1112" y2="1112"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="397" y="1127.4189">possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="397" y="1141.2549">timeout: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="397" y="1155.0908">voteCounter: int[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="392" x2="554" y1="1161.5078" y2="1161.5078"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="397" y="1176.9268">PollEvaluator()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="397" y="1190.7627">pauseTimer(Boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="397" y="1204.5986">evaluateVotes(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="397" y="1218.4346">addVote(): void</text><!--MD5=[c2661feeee78a634963d3f7d06330ae5]
class pacei--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="125.3672" id="pacei" style="stroke: #A80036; stroke-width: 1.5;" width="251" x="490.5" y="691"/><ellipse cx="527.1" cy="711.0938" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M529.8656,706.9688 Q530.0219,706.75 530.2094,706.6406 Q530.3969,706.5313 530.6156,706.5313 Q530.9906,706.5313 531.225,706.7969 Q531.4594,707.0469 531.4594,707.6563 L531.4594,709.1094 Q531.4594,709.7188 531.225,709.9844 Q530.9906,710.25 530.6156,710.25 Q530.2719,710.25 530.0688,710.0469 Q529.8656,709.8594 529.7563,709.3438 Q529.7094,708.9844 529.5219,708.7969 Q529.1938,708.4219 528.5844,708.2031 Q527.975,707.9844 527.35,707.9844 Q526.5844,707.9844 525.9438,708.3125 Q525.3188,708.6406 524.8188,709.3906 Q524.3344,710.1406 524.3344,711.1719 L524.3344,712.2656 Q524.3344,713.5 525.225,714.3281 Q526.1156,715.1406 527.7094,715.1406 Q528.6469,715.1406 529.3031,714.8906 Q529.6938,714.7344 530.1156,714.2969 Q530.3813,714.0313 530.5219,713.9531 Q530.6781,713.875 530.8813,713.875 Q531.2094,713.875 531.4594,714.1406 Q531.725,714.3906 531.725,714.7344 Q531.725,715.0781 531.3813,715.4844 Q530.8813,716.0625 530.0844,716.3906 Q529.0063,716.8438 527.7094,716.8438 Q526.1938,716.8438 524.9906,716.2188 Q524.0063,715.7188 523.3188,714.6563 Q522.6313,713.5781 522.6313,712.2969 L522.6313,711.1406 Q522.6313,709.8125 523.2406,708.6719 Q523.8656,707.5156 524.9594,706.9063 Q526.0531,706.2813 527.2875,706.2813 Q528.0219,706.2813 528.6625,706.4531 Q529.3188,706.6094 529.8656,706.9688 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="600.9" y="708.457">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="545.9" y="723.5508">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.5" x2="740.5" y1="731.1875" y2="731.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="496.5" y="746.6064">+websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="496.5" y="760.4424">+ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="496.5" y="774.2783">+port: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="491.5" x2="740.5" y1="780.6953" y2="780.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="496.5" y="796.1143">+PlayerAudienceClientExchange(ip: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="496.5" y="809.9502">+requestCurrentPossibleDecisions(): StoryEvent[]</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect fill="#FEFECE" filter="url(#f9mu8ha1e2r7i)" height="61.8359" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="544.5" y="531.5"/><ellipse cx="559.5" cy="547.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M562.2656,543.375 Q562.4219,543.1563 562.6094,543.0469 Q562.7969,542.9375 563.0156,542.9375 Q563.3906,542.9375 563.625,543.2031 Q563.8594,543.4531 563.8594,544.0625 L563.8594,545.5156 Q563.8594,546.125 563.625,546.3906 Q563.3906,546.6563 563.0156,546.6563 Q562.6719,546.6563 562.4688,546.4531 Q562.2656,546.2656 562.1563,545.75 Q562.1094,545.3906 561.9219,545.2031 Q561.5938,544.8281 560.9844,544.6094 Q560.375,544.3906 559.75,544.3906 Q558.9844,544.3906 558.3438,544.7188 Q557.7188,545.0469 557.2188,545.7969 Q556.7344,546.5469 556.7344,547.5781 L556.7344,548.6719 Q556.7344,549.9063 557.625,550.7344 Q558.5156,551.5469 560.1094,551.5469 Q561.0469,551.5469 561.7031,551.2969 Q562.0938,551.1406 562.5156,550.7031 Q562.7813,550.4375 562.9219,550.3594 Q563.0781,550.2813 563.2813,550.2813 Q563.6094,550.2813 563.8594,550.5469 Q564.125,550.7969 564.125,551.1406 Q564.125,551.4844 563.7813,551.8906 Q563.2813,552.4688 562.4844,552.7969 Q561.4063,553.25 560.1094,553.25 Q558.5938,553.25 557.3906,552.625 Q556.4063,552.125 555.7188,551.0625 Q555.0313,549.9844 555.0313,548.7031 L555.0313,547.5469 Q555.0313,546.2188 555.6406,545.0781 Q556.2656,543.9219 557.3594,543.3125 Q558.4531,542.6875 559.6875,542.6875 Q560.4219,542.6875 561.0625,542.8594 Q561.7188,543.0156 562.2656,543.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="573.5" y="552.4102">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="545.5" x2="686.5" y1="563.5" y2="563.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="545.5" x2="686.5" y1="571.5" y2="571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="550.5" y="586.9189">+PlayerAudienceView()</text><!--MD5=[513d28559cb9b2f986fa50a4c3eda83f]
link StoryEvent to StoryGraph--><path d="M227,191.16 C227,205.77 227,221.64 227,237.43 " fill="none" id="StoryEvent-&gt;StoryGraph" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="227,250.65,231,244.65,227,238.65,223,244.65,227,250.65" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="219.6172" y="212.7301">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="219.7211" y="240.0685">1</text><!--MD5=[c53e1f9c02f78d6f6c6c47087547b478]
link StoryGraph to mf--><path d="M265.724,437.129 C274.19,457.27 282.975,478.172 290.873,496.963 " fill="none" id="StoryGraph-mf" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f80b4c689c2fbad67007e34e43864d26]
link StoryGraph to Character--><path d="M187.425,437.129 C176.548,462.449 165.155,488.972 155.697,510.99 " fill="none" id="StoryGraph-Character" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4b16aa1dee279ab3d1d003602504b70d]
reverse link Character to Skill--><path d="M130.287,627.288 C129.153,646.787 127.904,668.243 126.765,687.802 " fill="none" id="Character&lt;-Skill" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="131.052,614.149,126.71,619.9063,130.3544,626.1287,134.6965,620.3714,131.052,614.149" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="123.1856" y="635.66">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="119.794" y="677.2548">n</text><!--MD5=[2d3469a9cdf6af823ac71c279ee21e31]
link mf to mcei--><path d="M322.096,628.014 C323.529,650.578 325.123,675.686 326.502,697.41 " fill="none" id="mf-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0deb29d22e67104b1b1ed7748057835c]
link smei to pe--><path d="M375.639,1020.097 C389.698,1039.072 405.299,1060.127 419.819,1079.724 " fill="none" id="smei-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[59f81a6773025d802accd063ae87096c]
link spaei to pe--><path d="M570.361,1020.097 C556.302,1039.072 540.701,1060.127 526.181,1079.724 " fill="none" id="spaei-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[be6476f3a91ce03f2764f8ef05941fdb]
link pav to pacei--><path d="M616,593.866 C616,619.953 616,658.386 616,690.888 " fill="none" id="pav-pacei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[348f1646cf919580628ecf3fddbead9f]
link mcei to smei--><path d="M330,809.697 C330,836.097 330,867.794 330,894.968 " fill="none" id="mcei-smei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[662654b1b8bc18ba930906cb679f0044]
link pacei to spaei--><path d="M616,816.204 C616,841.15 616,869.884 616,894.826 " fill="none" id="pacei-spaei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[71f61ea2208309a2d554d7023642bd6c]
@startuml

skinparam classAttributeIconSize 0

package "Moderator Client" {

  class StoryEvent {
    {field} +eventId: int
    {field} +description: String
    {field} +parent: StoryEvent
    {field} +children: StoryEvent[]
    {method} +StoryEvent(parent: StoryEvent, id: int)
    {method} +addChild(): void
  }

  class StoryGraph {
    {field} +id: int
    {field} +character: Character
    {field} +root: StoryEvent
    {field} +currentEvent: StoryEvent
    {method} +StoryGraph(id: int)
    {method} +loadGraphFromFile(): Graph
    {method} +saveGraphToFile(): void
    {method} +getNextPossibleEvent(): StoryEvent[]
    {method} +setCurrentEvent(newCurrentEvent: StoryEvent): void
    {method} +getNextStoryEventById(id: int): StoryEvent
  }

  class Skill {
    {field} +id: int
    {field} +value: int
    {field} +description: String
    {method} + Skill(id: int, val: int, desc: String)
    {method} + setValue(val: int): void
    {method} + getValue(): int
  }

  class Character {
    {field} +sprite: Texture
    {field} +abilities: Skill[]
    {field} +name: String
    {method} +Character()
  }

  class "ModeratorView" as mf {
    {field} +timeoutDuration: int
    {method} +ModeratorView()
    {method} +pausePolling(Boolean): void
    {method} +checkServerStatus(): void
    {method} +broadcastNextDecision(): void
    {method} +offlineMode(val: boolean): void
  }


  class "ModeratorClientExchange" as mcei <<interface>>{
    {field} +websocket:WebSocket
    {method} +ModeratorClientExchange()
    {method} +getCurrentPollEval(): int
    {method} +makeJSON()
  }
}

package "Server" {

  class "ServerModeratorExchange" as smei <<interface>>{
    {field} +websocket: WebSocket
    {field} +ip: int
    {field} +port: int
    {method} +ServerModeratorExchange(ip: int, port: int)
    {method} +requestCurrentPossibleDecisions(): StoryEvent[]
  }

  class "ServerPlayerAudienceExchange" as spaei <<interface>>{
    {field} +websocket: WebSocket
    {field} +ip: int
    {field} +port: int
    {method} +ServerPlayerAudienceExchange(ip: int, port: int)
    {method} +requestDecision(): int
  }

  class "PollEvaluator" as pe {

    {field} possibleDecisions: StoryEvent[]
    {field} timeout: int
    {field} voteCounter: int[]
    {method} PollEvaluator()
    {method} pauseTimer(Boolean): void
    {method} evaluateVotes(): int
    {method} addVote(): void
  }
}


package "PlayerAudience Client"{

  class "PlayerAudienceClientExchange" as pacei <<interface>>{
    {field} +websocket: WebSocket
    {field} +ip: int
    {field} +port: int
    {method} +PlayerAudienceClientExchange(ip: int, port: int)
    {method} +requestCurrentPossibleDecisions(): StoryEvent[]
  }

  class "PlayerAudienceView" as pav {
    {method} +PlayerAudienceView()
  }
}

StoryEvent "n" - -* "1" StoryGraph
StoryGraph - - mf
StoryGraph - - Character
Character "1" *- - "n" Skill
mf - - mcei
smei - - pe
spaei - - pe
pacei -up- pav
mcei - - smei
pacei - - spaei
@enduml

PlantUML version 1.2020.10(Sun May 17 11:35:57 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 15+36
Operating System: Windows 10
Default Encoding: Cp1252
Language: de
Country: DE
--></g></svg>