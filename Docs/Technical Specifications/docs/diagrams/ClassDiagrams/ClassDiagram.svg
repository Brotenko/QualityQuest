<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1085px" preserveAspectRatio="none" style="width:2035px;height:1085px;" version="1.1" viewBox="0 0 2035 1085" width="2035px" zoomAndPan="magnify"><defs><filter height="300%" id="f6hxety0phdro" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[4544bf05af30223886112ffd96a1865f]
cluster Moderator-Client--><polygon fill="#FFFFFF" filter="url(#f6hxety0phdro)" points="1409,68,1553,68,1560,90.2969,2018,90.2969,2018,1041,1409,1041,1409,68" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1409" x2="1560" y1="90.2969" y2="90.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="1413" y="82.9951">Moderator-Client</text><!--MD5=[b7afd9f15f1d1e83dce14c212cc841e0]
cluster ServerApplication--><polygon fill="#FFFFFF" filter="url(#f6hxety0phdro)" points="16,6,166,6,173,28.2969,1385,28.2969,1385,1078,16,1078,16,6" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="173" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="144" x="20" y="20.9951">ServerApplication</text><!--MD5=[bec4376398c619d3cc65439ee33bd7ca]
cluster ServerLogic--><rect fill="#FFFFFF" filter="url(#f6hxety0phdro)" height="1005" style="stroke: #000000; stroke-width: 1.5;" width="848" x="513" y="49"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="890" y="63.9951">ServerLogic</text><!--MD5=[a8973b51fb403d164ccd98ec50a39132]
cluster PlayerAudience-Client--><rect fill="#FFFFFF" filter="url(#f6hxety0phdro)" height="195" style="stroke: #000000; stroke-width: 1.5;" width="449" x="40" y="545"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="176.5" y="559.9951">PlayerAudience-Client</text><!--MD5=[3eaf92687768346c8d614b6fd2c22fb9]
class StoryEvent--><rect codeLine="5" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="124.8281" id="StoryEvent" style="stroke: #A80036; stroke-width: 1.5;" width="237" x="1553.5" y="103"/><ellipse cx="1635.25" cy="119" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1637.5938,114.6719 C1636.6563,114.2344 1636.0625,114.0938 1635.1875,114.0938 C1632.5625,114.0938 1630.5625,116.1719 1630.5625,118.8906 L1630.5625,120.0156 C1630.5625,122.5938 1632.6719,124.4844 1635.5625,124.4844 C1636.7813,124.4844 1637.9375,124.1875 1638.6875,123.6406 C1639.2656,123.2344 1639.5938,122.7813 1639.5938,122.3906 C1639.5938,121.9375 1639.2031,121.5469 1638.7344,121.5469 C1638.5156,121.5469 1638.3125,121.625 1638.125,121.8125 C1637.6719,122.2969 1637.6719,122.2969 1637.4844,122.3906 C1637.0625,122.6563 1636.375,122.7813 1635.6094,122.7813 C1633.5625,122.7813 1632.2656,121.6875 1632.2656,119.9844 L1632.2656,118.8906 C1632.2656,117.1094 1633.5156,115.7969 1635.25,115.7969 C1635.8281,115.7969 1636.4375,115.9531 1636.9063,116.2031 C1637.3906,116.4844 1637.5625,116.7031 1637.6563,117.1094 C1637.7188,117.5156 1637.75,117.6406 1637.8906,117.7656 C1638.0313,117.9063 1638.2656,118.0156 1638.4844,118.0156 C1638.75,118.0156 1639.0156,117.875 1639.1875,117.6563 C1639.2969,117.5 1639.3281,117.3125 1639.3281,116.8906 L1639.3281,115.4688 C1639.3281,115.0313 1639.3125,114.9063 1639.2188,114.75 C1639.0625,114.4844 1638.7813,114.3438 1638.4844,114.3438 C1638.1875,114.3438 1637.9844,114.4375 1637.7656,114.75 L1637.5938,114.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="1655.75" y="123.1543">StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1554.5" x2="1789.5" y1="135" y2="135"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="1559.5" y="149.2104">+eventId: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1559.5" y="162.0151">+description: string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1559.5" y="174.8198">+parent: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="1559.5" y="187.6245">+children: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1554.5" x2="1789.5" y1="194.2188" y2="194.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1559.5" y="208.4292">+StoryEvent(parent: StoryEvent, id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="1559.5" y="221.2339">+addChild(): void</text><!--MD5=[efd5ebcc74ce0165d13c1df9fdb2b1d2]
class StoryGraph--><rect codeLine="14" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="163.2422" id="StoryGraph" style="stroke: #A80036; stroke-width: 1.5;" width="322" x="1511" y="308"/><ellipse cx="1633.75" cy="324" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1636.0938,319.6719 C1635.1563,319.2344 1634.5625,319.0938 1633.6875,319.0938 C1631.0625,319.0938 1629.0625,321.1719 1629.0625,323.8906 L1629.0625,325.0156 C1629.0625,327.5938 1631.1719,329.4844 1634.0625,329.4844 C1635.2813,329.4844 1636.4375,329.1875 1637.1875,328.6406 C1637.7656,328.2344 1638.0938,327.7813 1638.0938,327.3906 C1638.0938,326.9375 1637.7031,326.5469 1637.2344,326.5469 C1637.0156,326.5469 1636.8125,326.625 1636.625,326.8125 C1636.1719,327.2969 1636.1719,327.2969 1635.9844,327.3906 C1635.5625,327.6563 1634.875,327.7813 1634.1094,327.7813 C1632.0625,327.7813 1630.7656,326.6875 1630.7656,324.9844 L1630.7656,323.8906 C1630.7656,322.1094 1632.0156,320.7969 1633.75,320.7969 C1634.3281,320.7969 1634.9375,320.9531 1635.4063,321.2031 C1635.8906,321.4844 1636.0625,321.7031 1636.1563,322.1094 C1636.2188,322.5156 1636.25,322.6406 1636.3906,322.7656 C1636.5313,322.9063 1636.7656,323.0156 1636.9844,323.0156 C1637.25,323.0156 1637.5156,322.875 1637.6875,322.6563 C1637.7969,322.5 1637.8281,322.3125 1637.8281,321.8906 L1637.8281,320.4688 C1637.8281,320.0313 1637.8125,319.9063 1637.7188,319.75 C1637.5625,319.4844 1637.2813,319.3438 1636.9844,319.3438 C1636.6875,319.3438 1636.4844,319.4375 1636.2656,319.75 L1636.0938,319.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="1654.25" y="328.1543">StoryGraph</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1512" x2="1832" y1="340" y2="340"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1517" y="354.2104">+character: Character</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1517" y="367.0151">+root: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="1517" y="379.8198">+currentEvent: StoryEvent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1512" x2="1832" y1="386.4141" y2="386.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="1517" y="400.6245">+StoryGraph(id: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="1517" y="413.4292">+loadGraphFromFile(): Graph</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="1517" y="426.2339">+saveGraphToFile(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="1517" y="439.0386">+getNextPossibleEvent(): StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="310" x="1517" y="451.8433">+setCurrentEvent(newCurrentEvent: StoryEvent): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="1517" y="464.6479">+getNextStoryEventById(id: int): StoryEvent</text><!--MD5=[bb849c1528464e2c6bbfb2687d0866b0]
class mf--><rect codeLine="26" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="86.4141" id="mf" style="stroke: #A80036; stroke-width: 1.5;" width="201" x="1571.5" y="609"/><ellipse cx="1621.75" cy="625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1624.0938,620.6719 C1623.1563,620.2344 1622.5625,620.0938 1621.6875,620.0938 C1619.0625,620.0938 1617.0625,622.1719 1617.0625,624.8906 L1617.0625,626.0156 C1617.0625,628.5938 1619.1719,630.4844 1622.0625,630.4844 C1623.2813,630.4844 1624.4375,630.1875 1625.1875,629.6406 C1625.7656,629.2344 1626.0938,628.7813 1626.0938,628.3906 C1626.0938,627.9375 1625.7031,627.5469 1625.2344,627.5469 C1625.0156,627.5469 1624.8125,627.625 1624.625,627.8125 C1624.1719,628.2969 1624.1719,628.2969 1623.9844,628.3906 C1623.5625,628.6563 1622.875,628.7813 1622.1094,628.7813 C1620.0625,628.7813 1618.7656,627.6875 1618.7656,625.9844 L1618.7656,624.8906 C1618.7656,623.1094 1620.0156,621.7969 1621.75,621.7969 C1622.3281,621.7969 1622.9375,621.9531 1623.4063,622.2031 C1623.8906,622.4844 1624.0625,622.7031 1624.1563,623.1094 C1624.2188,623.5156 1624.25,623.6406 1624.3906,623.7656 C1624.5313,623.9063 1624.7656,624.0156 1624.9844,624.0156 C1625.25,624.0156 1625.5156,623.875 1625.6875,623.6563 C1625.7969,623.5 1625.8281,623.3125 1625.8281,622.8906 L1625.8281,621.4688 C1625.8281,621.0313 1625.8125,620.9063 1625.7188,620.75 C1625.5625,620.4844 1625.2813,620.3438 1624.9844,620.3438 C1624.6875,620.3438 1624.4844,620.4375 1624.2656,620.75 L1624.0938,620.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="1642.25" y="629.1543">ModeratorView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1572.5" x2="1771.5" y1="641" y2="641"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1572.5" x2="1771.5" y1="649" y2="649"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="1577.5" y="663.2104">+ModeratorView()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="1577.5" y="676.0151">+pausePolling(val: boolean): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1577.5" y="688.8198">+offlineMode(val: boolean): void</text><!--MD5=[aef0d3d3c8a893455b9107cd4a3b357c]
class mcei--><rect codeLine="32" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="163.2422" id="mcei" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="1425.5" y="862"/><ellipse cx="1470.75" cy="878" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1473.0938,873.6719 C1472.1563,873.2344 1471.5625,873.0938 1470.6875,873.0938 C1468.0625,873.0938 1466.0625,875.1719 1466.0625,877.8906 L1466.0625,879.0156 C1466.0625,881.5938 1468.1719,883.4844 1471.0625,883.4844 C1472.2813,883.4844 1473.4375,883.1875 1474.1875,882.6406 C1474.7656,882.2344 1475.0938,881.7813 1475.0938,881.3906 C1475.0938,880.9375 1474.7031,880.5469 1474.2344,880.5469 C1474.0156,880.5469 1473.8125,880.625 1473.625,880.8125 C1473.1719,881.2969 1473.1719,881.2969 1472.9844,881.3906 C1472.5625,881.6563 1471.875,881.7813 1471.1094,881.7813 C1469.0625,881.7813 1467.7656,880.6875 1467.7656,878.9844 L1467.7656,877.8906 C1467.7656,876.1094 1469.0156,874.7969 1470.75,874.7969 C1471.3281,874.7969 1471.9375,874.9531 1472.4063,875.2031 C1472.8906,875.4844 1473.0625,875.7031 1473.1563,876.1094 C1473.2188,876.5156 1473.25,876.6406 1473.3906,876.7656 C1473.5313,876.9063 1473.7656,877.0156 1473.9844,877.0156 C1474.25,877.0156 1474.5156,876.875 1474.6875,876.6563 C1474.7969,876.5 1474.8281,876.3125 1474.8281,875.8906 L1474.8281,874.4688 C1474.8281,874.0313 1474.8125,873.9063 1474.7188,873.75 C1474.5625,873.4844 1474.2813,873.3438 1473.9844,873.3438 C1473.6875,873.3438 1473.4844,873.4375 1473.2656,873.75 L1473.0938,873.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="1491.25" y="882.1543">ModeratorClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1426.5" x2="1677.5" y1="894" y2="894"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="1431.5" y="908.2104">-websocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="1431.5" y="921.0151">-authentificationGuid: Guid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="1431.5" y="933.8198">-timeoutDuration: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1426.5" x2="1677.5" y1="940.4141" y2="940.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1431.5" y="954.6245">+ModeratorClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1431.5" y="967.4292">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1431.5" y="980.2339">+evalJSON(): string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="1431.5" y="993.0386">+endCurrentPollAndGetVotingResults(): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1431.5" y="1005.8433">+makeJSON(): string</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1431.5" y="1018.6479">+enterPassword(pw: string): void</text><!--MD5=[5df65fb9e2c7a32924ba06dbc5719e6e]
class Skills--><rect codeLine="44" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="112.0234" id="Skills" style="stroke: #A80036; stroke-width: 1.5;" width="288" x="1714" y="887.5"/><ellipse cx="1838.25" cy="903.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1840.5938,899.1719 C1839.6563,898.7344 1839.0625,898.5938 1838.1875,898.5938 C1835.5625,898.5938 1833.5625,900.6719 1833.5625,903.3906 L1833.5625,904.5156 C1833.5625,907.0938 1835.6719,908.9844 1838.5625,908.9844 C1839.7813,908.9844 1840.9375,908.6875 1841.6875,908.1406 C1842.2656,907.7344 1842.5938,907.2813 1842.5938,906.8906 C1842.5938,906.4375 1842.2031,906.0469 1841.7344,906.0469 C1841.5156,906.0469 1841.3125,906.125 1841.125,906.3125 C1840.6719,906.7969 1840.6719,906.7969 1840.4844,906.8906 C1840.0625,907.1563 1839.375,907.2813 1838.6094,907.2813 C1836.5625,907.2813 1835.2656,906.1875 1835.2656,904.4844 L1835.2656,903.3906 C1835.2656,901.6094 1836.5156,900.2969 1838.25,900.2969 C1838.8281,900.2969 1839.4375,900.4531 1839.9063,900.7031 C1840.3906,900.9844 1840.5625,901.2031 1840.6563,901.6094 C1840.7188,902.0156 1840.75,902.1406 1840.8906,902.2656 C1841.0313,902.4063 1841.2656,902.5156 1841.4844,902.5156 C1841.75,902.5156 1842.0156,902.375 1842.1875,902.1563 C1842.2969,902 1842.3281,901.8125 1842.3281,901.3906 L1842.3281,899.9688 C1842.3281,899.5313 1842.3125,899.4063 1842.2188,899.25 C1842.0625,898.9844 1841.7813,898.8438 1841.4844,898.8438 C1841.1875,898.8438 1840.9844,898.9375 1840.7656,899.25 L1840.5938,899.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="1858.75" y="907.6543">Skills</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1715" x2="2001" y1="919.5" y2="919.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="1720" y="933.7104">+communication: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1720" y="946.5151">+analytics: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1720" y="959.3198">+partying: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1720" y="972.1245">+programming: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1715" x2="2001" y1="978.7188" y2="978.7188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="1720" y="992.9292">+Skill(commu: int, analy: int, party: int, progr: int)</text><!--MD5=[3eff9d4279c887ef9286477750bdaaff]
class Character--><rect codeLine="52" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="86.4141" id="Character" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1807.5" y="609"/><ellipse cx="1827.45" cy="625" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1829.7938,620.6719 C1828.8563,620.2344 1828.2625,620.0938 1827.3875,620.0938 C1824.7625,620.0938 1822.7625,622.1719 1822.7625,624.8906 L1822.7625,626.0156 C1822.7625,628.5938 1824.8719,630.4844 1827.7625,630.4844 C1828.9813,630.4844 1830.1375,630.1875 1830.8875,629.6406 C1831.4656,629.2344 1831.7938,628.7813 1831.7938,628.3906 C1831.7938,627.9375 1831.4031,627.5469 1830.9344,627.5469 C1830.7156,627.5469 1830.5125,627.625 1830.325,627.8125 C1829.8719,628.2969 1829.8719,628.2969 1829.6844,628.3906 C1829.2625,628.6563 1828.575,628.7813 1827.8094,628.7813 C1825.7625,628.7813 1824.4656,627.6875 1824.4656,625.9844 L1824.4656,624.8906 C1824.4656,623.1094 1825.7156,621.7969 1827.45,621.7969 C1828.0281,621.7969 1828.6375,621.9531 1829.1063,622.2031 C1829.5906,622.4844 1829.7625,622.7031 1829.8563,623.1094 C1829.9188,623.5156 1829.95,623.6406 1830.0906,623.7656 C1830.2313,623.9063 1830.4656,624.0156 1830.6844,624.0156 C1830.95,624.0156 1831.2156,623.875 1831.3875,623.6563 C1831.4969,623.5 1831.5281,623.3125 1831.5281,622.8906 L1831.5281,621.4688 C1831.5281,621.0313 1831.5125,620.9063 1831.4188,620.75 C1831.2625,620.4844 1830.9813,620.3438 1830.6844,620.3438 C1830.3875,620.3438 1830.1844,620.4375 1829.9656,620.75 L1829.7938,620.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1842.55" y="629.1543">Character</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1808.5" x2="1907.5" y1="641" y2="641"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1813.5" y="655.2104">+abilities: Skills</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="1813.5" y="668.0151">+name: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1808.5" x2="1907.5" y1="674.6094" y2="674.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1813.5" y="688.8198">+Character()</text><!--MD5=[1e281070be324fe4119de6bf55ec0dae]
class api--><rect codeLine="67" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="150.4375" id="api" style="stroke: #A80036; stroke-width: 1.5;" width="368" x="126" y="868.5"/><ellipse cx="297.25" cy="884.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M299.5938,880.1719 C298.6563,879.7344 298.0625,879.5938 297.1875,879.5938 C294.5625,879.5938 292.5625,881.6719 292.5625,884.3906 L292.5625,885.5156 C292.5625,888.0938 294.6719,889.9844 297.5625,889.9844 C298.7813,889.9844 299.9375,889.6875 300.6875,889.1406 C301.2656,888.7344 301.5938,888.2813 301.5938,887.8906 C301.5938,887.4375 301.2031,887.0469 300.7344,887.0469 C300.5156,887.0469 300.3125,887.125 300.125,887.3125 C299.6719,887.7969 299.6719,887.7969 299.4844,887.8906 C299.0625,888.1563 298.375,888.2813 297.6094,888.2813 C295.5625,888.2813 294.2656,887.1875 294.2656,885.4844 L294.2656,884.3906 C294.2656,882.6094 295.5156,881.2969 297.25,881.2969 C297.8281,881.2969 298.4375,881.4531 298.9063,881.7031 C299.3906,881.9844 299.5625,882.2031 299.6563,882.6094 C299.7188,883.0156 299.75,883.1406 299.8906,883.2656 C300.0313,883.4063 300.2656,883.5156 300.4844,883.5156 C300.75,883.5156 301.0156,883.375 301.1875,883.1563 C301.2969,883 301.3281,882.8125 301.3281,882.3906 L301.3281,880.9688 C301.3281,880.5313 301.3125,880.4063 301.2188,880.25 C301.0625,879.9844 300.7813,879.8438 300.4844,879.8438 C300.1875,879.8438 299.9844,879.9375 299.7656,880.25 L299.5938,880.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="17" x="317.75" y="888.6543">API</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="127" x2="493" y1="900.5" y2="900.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="132" y="914.7104">-observerCollection: ArrayList&lt;Observer&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="127" x2="493" y1="921.3047" y2="921.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="132" y="935.5151">+API()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="132" y="948.3198">+subscribeObserver(observer: Observer, cookie: Cookie): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="132" y="961.1245">+unsubscribeObserver(observer: Observer): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="132" y="973.9292">+notifyObservers(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="132" y="986.7339">+updatePossibleDecisions(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="132" y="999.5386">+collectVotes(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="132" y="1012.3433">+getVotes():</text><!--MD5=[6bfcf15cc25972516e1f43cee16dbcb3]
class ss--><rect codeLine="79" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="240.0703" id="ss" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="880" y="532"/><ellipse cx="962.75" cy="548" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M965.0938,543.6719 C964.1563,543.2344 963.5625,543.0938 962.6875,543.0938 C960.0625,543.0938 958.0625,545.1719 958.0625,547.8906 L958.0625,549.0156 C958.0625,551.5938 960.1719,553.4844 963.0625,553.4844 C964.2813,553.4844 965.4375,553.1875 966.1875,552.6406 C966.7656,552.2344 967.0938,551.7813 967.0938,551.3906 C967.0938,550.9375 966.7031,550.5469 966.2344,550.5469 C966.0156,550.5469 965.8125,550.625 965.625,550.8125 C965.1719,551.2969 965.1719,551.2969 964.9844,551.3906 C964.5625,551.6563 963.875,551.7813 963.1094,551.7813 C961.0625,551.7813 959.7656,550.6875 959.7656,548.9844 L959.7656,547.8906 C959.7656,546.1094 961.0156,544.7969 962.75,544.7969 C963.3281,544.7969 963.9375,544.9531 964.4063,545.2031 C964.8906,545.4844 965.0625,545.7031 965.1563,546.1094 C965.2188,546.5156 965.25,546.6406 965.3906,546.7656 C965.5313,546.9063 965.7656,547.0156 965.9844,547.0156 C966.25,547.0156 966.5156,546.875 966.6875,546.6563 C966.7969,546.5 966.8281,546.3125 966.8281,545.8906 L966.8281,544.4688 C966.8281,544.0313 966.8125,543.9063 966.7188,543.75 C966.5625,543.4844 966.2813,543.3438 965.9844,543.3438 C965.6875,543.3438 965.4844,543.4375 965.2656,543.75 L965.0938,543.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="983.25" y="552.1543">ServerShell</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="881" x2="1123" y1="564" y2="564"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="886" y="578.2104">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="886" y="591.0151">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="886" y="603.8198">-runShell: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="145" x="886" y="616.6245">-serverShell: ServerShell</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="886" y="629.4292">-bufferedReader: BufferedReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="881" x2="1123" y1="636.0234" y2="636.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="886" y="650.2339">+ServerShell()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="886" y="663.0386">+startShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="886" y="675.8433">+stopShell(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="886" y="688.6479">+parseCommand(command: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="886" y="701.4526">+showHelp(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="886" y="714.2573">+configPort(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="886" y="727.062">+configCapacity(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="886" y="739.8667">+startServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="886" y="752.6714">+stopServer(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="886" y="765.4761">+main(args: string[]): void</text><!--MD5=[952aa88079c2ad50e6f0d17205c717c0]
class cm--><rect codeLine="97" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="188.8516" id="cm" style="stroke: #A80036; stroke-width: 1.5;" width="294" x="1051" y="849"/><ellipse cx="1119.75" cy="865" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1122.0938,860.6719 C1121.1563,860.2344 1120.5625,860.0938 1119.6875,860.0938 C1117.0625,860.0938 1115.0625,862.1719 1115.0625,864.8906 L1115.0625,866.0156 C1115.0625,868.5938 1117.1719,870.4844 1120.0625,870.4844 C1121.2813,870.4844 1122.4375,870.1875 1123.1875,869.6406 C1123.7656,869.2344 1124.0938,868.7813 1124.0938,868.3906 C1124.0938,867.9375 1123.7031,867.5469 1123.2344,867.5469 C1123.0156,867.5469 1122.8125,867.625 1122.625,867.8125 C1122.1719,868.2969 1122.1719,868.2969 1121.9844,868.3906 C1121.5625,868.6563 1120.875,868.7813 1120.1094,868.7813 C1118.0625,868.7813 1116.7656,867.6875 1116.7656,865.9844 L1116.7656,864.8906 C1116.7656,863.1094 1118.0156,861.7969 1119.75,861.7969 C1120.3281,861.7969 1120.9375,861.9531 1121.4063,862.2031 C1121.8906,862.4844 1122.0625,862.7031 1122.1563,863.1094 C1122.2188,863.5156 1122.25,863.6406 1122.3906,863.7656 C1122.5313,863.9063 1122.7656,864.0156 1122.9844,864.0156 C1123.25,864.0156 1123.5156,863.875 1123.6875,863.6563 C1123.7969,863.5 1123.8281,863.3125 1123.8281,862.8906 L1123.8281,861.4688 C1123.8281,861.0313 1123.8125,860.9063 1123.7188,860.75 C1123.5625,860.4844 1123.2813,860.3438 1122.9844,860.3438 C1122.6875,860.3438 1122.4844,860.4375 1122.2656,860.75 L1122.0938,860.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="1140.25" y="869.1543">ModeratorClientManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1052" x2="1344" y1="881" y2="881"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1057" y="895.2104">-webSocket: WebSocket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1057" y="908.0151">-ip: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1057" y="920.8198">-port: int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1057" y="933.6245">+logger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="1057" y="946.4292">-authentificationTokenModeratorClientHash: int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1052" x2="1344" y1="953.0234" y2="953.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="282" x="1057" y="967.2339">+ModeratorClientManager(session: Session): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1057" y="980.0386">+disconnect(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1057" y="992.8433">+recieveMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1057" y="1005.6479">+checkJSON(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1057" y="1018.4526">+sendMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1057" y="1031.2573">+evalJSON(): string</text><!--MD5=[380687b934d22663c3818bb6fe2c579f]
class msl--><rect codeLine="112" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="112.0234" id="msl" style="stroke: #A80036; stroke-width: 1.5;" width="252" x="764" y="887.5"/><ellipse cx="835.75" cy="903.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M838.0938,899.1719 C837.1563,898.7344 836.5625,898.5938 835.6875,898.5938 C833.0625,898.5938 831.0625,900.6719 831.0625,903.3906 L831.0625,904.5156 C831.0625,907.0938 833.1719,908.9844 836.0625,908.9844 C837.2813,908.9844 838.4375,908.6875 839.1875,908.1406 C839.7656,907.7344 840.0938,907.2813 840.0938,906.8906 C840.0938,906.4375 839.7031,906.0469 839.2344,906.0469 C839.0156,906.0469 838.8125,906.125 838.625,906.3125 C838.1719,906.7969 838.1719,906.7969 837.9844,906.8906 C837.5625,907.1563 836.875,907.2813 836.1094,907.2813 C834.0625,907.2813 832.7656,906.1875 832.7656,904.4844 L832.7656,903.3906 C832.7656,901.6094 834.0156,900.2969 835.75,900.2969 C836.3281,900.2969 836.9375,900.4531 837.4063,900.7031 C837.8906,900.9844 838.0625,901.2031 838.1563,901.6094 C838.2188,902.0156 838.25,902.1406 838.3906,902.2656 C838.5313,902.4063 838.7656,902.5156 838.9844,902.5156 C839.25,902.5156 839.5156,902.375 839.6875,902.1563 C839.7969,902 839.8281,901.8125 839.8281,901.3906 L839.8281,899.9688 C839.8281,899.5313 839.8125,899.4063 839.7188,899.25 C839.5625,898.9844 839.2813,898.8438 838.9844,898.8438 C838.6875,898.8438 838.4844,898.9375 838.2656,899.25 L838.0938,899.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="856.25" y="907.6543">MainServerLogic</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="765" x2="1015" y1="919.5" y2="919.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="770" y="933.7104">-moderator: WebClient</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="770" y="946.5151">+logger: Logger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="765" x2="1015" y1="953.1094" y2="953.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="770" y="967.3198">+MainServerLogic(capacity: int, port: int)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="770" y="980.1245">+onFalseMessage(message: string): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="770" y="992.9292">+onVotingMessage(message: string): void</text><!--MD5=[9105e509a9f69a1dfba1c0054edeb4e1]
class pe--><rect codeLine="121" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="124.8281" id="pe" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="529" y="881"/><ellipse cx="587.25" cy="897" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M589.5938,892.6719 C588.6563,892.2344 588.0625,892.0938 587.1875,892.0938 C584.5625,892.0938 582.5625,894.1719 582.5625,896.8906 L582.5625,898.0156 C582.5625,900.5938 584.6719,902.4844 587.5625,902.4844 C588.7813,902.4844 589.9375,902.1875 590.6875,901.6406 C591.2656,901.2344 591.5938,900.7813 591.5938,900.3906 C591.5938,899.9375 591.2031,899.5469 590.7344,899.5469 C590.5156,899.5469 590.3125,899.625 590.125,899.8125 C589.6719,900.2969 589.6719,900.2969 589.4844,900.3906 C589.0625,900.6563 588.375,900.7813 587.6094,900.7813 C585.5625,900.7813 584.2656,899.6875 584.2656,897.9844 L584.2656,896.8906 C584.2656,895.1094 585.5156,893.7969 587.25,893.7969 C587.8281,893.7969 588.4375,893.9531 588.9063,894.2031 C589.3906,894.4844 589.5625,894.7031 589.6563,895.1094 C589.7188,895.5156 589.75,895.6406 589.8906,895.7656 C590.0313,895.9063 590.2656,896.0156 590.4844,896.0156 C590.75,896.0156 591.0156,895.875 591.1875,895.6563 C591.2969,895.5 591.3281,895.3125 591.3281,894.8906 L591.3281,893.4688 C591.3281,893.0313 591.3125,892.9063 591.2188,892.75 C591.0625,892.4844 590.7813,892.3438 590.4844,892.3438 C590.1875,892.3438 589.9844,892.4375 589.7656,892.75 L589.5938,892.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="607.75" y="901.1543">PollEvaluator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="728" y1="913" y2="913"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="535" y="927.2104">-possibleDecisions: StoryEvent[]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="535" y="940.0151">-voteCounter: Dictionary&lt;int,int&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="535" y="952.8198">-api: API</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="728" y1="959.4141" y2="959.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="535" y="973.6245">+PollEvaluator()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="535" y="986.4292">+evaluateVotes(ids: int[]): int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="535" y="999.2339">+addVote(id: int): void</text><!--MD5=[e5ed2fcbff96bd03a55f8cf01186b818]
class sl--><rect codeLine="130" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="163.2422" id="sl" style="stroke: #A80036; stroke-width: 1.5;" width="232" x="777" y="84"/><ellipse cx="846.75" cy="100" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M849.0938,95.6719 C848.1563,95.2344 847.5625,95.0938 846.6875,95.0938 C844.0625,95.0938 842.0625,97.1719 842.0625,99.8906 L842.0625,101.0156 C842.0625,103.5938 844.1719,105.4844 847.0625,105.4844 C848.2813,105.4844 849.4375,105.1875 850.1875,104.6406 C850.7656,104.2344 851.0938,103.7813 851.0938,103.3906 C851.0938,102.9375 850.7031,102.5469 850.2344,102.5469 C850.0156,102.5469 849.8125,102.625 849.625,102.8125 C849.1719,103.2969 849.1719,103.2969 848.9844,103.3906 C848.5625,103.6563 847.875,103.7813 847.1094,103.7813 C845.0625,103.7813 843.7656,102.6875 843.7656,100.9844 L843.7656,99.8906 C843.7656,98.1094 845.0156,96.7969 846.75,96.7969 C847.3281,96.7969 847.9375,96.9531 848.4063,97.2031 C848.8906,97.4844 849.0625,97.7031 849.1563,98.1094 C849.2188,98.5156 849.25,98.6406 849.3906,98.7656 C849.5313,98.9063 849.7656,99.0156 849.9844,99.0156 C850.25,99.0156 850.5156,98.875 850.6875,98.6563 C850.7969,98.5 850.8281,98.3125 850.8281,97.8906 L850.8281,96.4688 C850.8281,96.0313 850.8125,95.9063 850.7188,95.75 C850.5625,95.4844 850.2813,95.3438 849.9844,95.3438 C849.6875,95.3438 849.4844,95.4375 849.2656,95.75 L849.0938,95.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="867.25" y="104.1543">ServerLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="778" x2="1008" y1="116" y2="116"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="783" y="130.2104">+globalLogger: Logger</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="783" y="143.0151">+logFile: FileHandler</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="783" y="155.8198">+isSetup: Boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="783" y="168.6245">+consoleHandler: Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="778" x2="1008" y1="175.2188" y2="175.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="783" y="189.4292">+Logger()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="783" y="202.2339">+setup(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="783" y="215.0386">+addHandler(logger: Logger): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="783" y="227.8433">+setLevel(level: int): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="220" x="783" y="240.6479">+setConsoleOutput(val: boolean): void</text><!--MD5=[e590bdab9987379c47d474280840512e]
class pace--><rect codeLine="143" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="143.5703" id="pace" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="56" y="580"/><ellipse cx="76.85" cy="598.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.1938,594.6406 C78.2563,594.2031 77.6625,594.0625 76.7875,594.0625 C74.1625,594.0625 72.1625,596.1406 72.1625,598.8594 L72.1625,599.9844 C72.1625,602.5625 74.2719,604.4531 77.1625,604.4531 C78.3813,604.4531 79.5375,604.1563 80.2875,603.6094 C80.8656,603.2031 81.1938,602.75 81.1938,602.3594 C81.1938,601.9063 80.8031,601.5156 80.3344,601.5156 C80.1156,601.5156 79.9125,601.5938 79.725,601.7813 C79.2719,602.2656 79.2719,602.2656 79.0844,602.3594 C78.6625,602.625 77.975,602.75 77.2094,602.75 C75.1625,602.75 73.8656,601.6563 73.8656,599.9531 L73.8656,598.8594 C73.8656,597.0781 75.1156,595.7656 76.85,595.7656 C77.4281,595.7656 78.0375,595.9219 78.5063,596.1719 C78.9906,596.4531 79.1625,596.6719 79.2563,597.0781 C79.3188,597.4844 79.35,597.6094 79.4906,597.7344 C79.6313,597.875 79.8656,597.9844 80.0844,597.9844 C80.35,597.9844 80.6156,597.8438 80.7875,597.625 C80.8969,597.4688 80.9281,597.2813 80.9281,596.8594 L80.9281,595.4375 C80.9281,595 80.9125,594.875 80.8188,594.7188 C80.6625,594.4531 80.3813,594.3125 80.0844,594.3125 C79.7875,594.3125 79.5844,594.4063 79.3656,594.7188 L79.1938,594.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="68" x="149.65" y="596.1387">«Observer»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="183" x="92.15" y="610.1074">PlayerAudienceClientExchange</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="617.9375" y2="617.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="62" y="632.1479">-sessionCookie: Cookie</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="62" y="644.9526">-hasVoted: boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="62" y="657.7573">-selectedDecision: StoryEvent</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="62" y="670.562">-possibleDecisions: StoryEvent[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="57" x2="283" y1="677.1563" y2="677.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="62" y="691.3667">+PlayerAudienceClientExchange()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="62" y="704.1714">+update(): void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="62" y="716.9761">+sendSelectedDecision(): StoryEvent</text><!--MD5=[046b75ba0a1981da758680c895f9ffd8]
class pav--><rect codeLine="153" fill="#FEFECE" filter="url(#f6hxety0phdro)" height="60.8047" id="pav" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="319.5" y="621.5"/><ellipse cx="334.5" cy="637.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M336.8438,633.1719 C335.9063,632.7344 335.3125,632.5938 334.4375,632.5938 C331.8125,632.5938 329.8125,634.6719 329.8125,637.3906 L329.8125,638.5156 C329.8125,641.0938 331.9219,642.9844 334.8125,642.9844 C336.0313,642.9844 337.1875,642.6875 337.9375,642.1406 C338.5156,641.7344 338.8438,641.2813 338.8438,640.8906 C338.8438,640.4375 338.4531,640.0469 337.9844,640.0469 C337.7656,640.0469 337.5625,640.125 337.375,640.3125 C336.9219,640.7969 336.9219,640.7969 336.7344,640.8906 C336.3125,641.1563 335.625,641.2813 334.8594,641.2813 C332.8125,641.2813 331.5156,640.1875 331.5156,638.4844 L331.5156,637.3906 C331.5156,635.6094 332.7656,634.2969 334.5,634.2969 C335.0781,634.2969 335.6875,634.4531 336.1563,634.7031 C336.6406,634.9844 336.8125,635.2031 336.9063,635.6094 C336.9688,636.0156 337,636.1406 337.1406,636.2656 C337.2813,636.4063 337.5156,636.5156 337.7344,636.5156 C338,636.5156 338.2656,636.375 338.4375,636.1563 C338.5469,636 338.5781,635.8125 338.5781,635.3906 L338.5781,633.9688 C338.5781,633.5313 338.5625,633.4063 338.4688,633.25 C338.3125,632.9844 338.0313,632.8438 337.7344,632.8438 C337.4375,632.8438 337.2344,632.9375 337.0156,633.25 L336.8438,633.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="348.5" y="641.6543">PlayerAudienceView</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="653.5" y2="653.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="320.5" x2="471.5" y1="661.5" y2="661.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="134" x="325.5" y="675.7104">+PlayerAudienceView()</text><!--MD5=[513d28559cb9b2f986fa50a4c3eda83f]
link StoryEvent to StoryGraph--><path codeLine="58" d="M1672,228.045 C1672,248.64 1672,272.09 1672,294.582 " fill="none" id="StoryEvent-to-StoryGraph" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1672,307.686,1676,301.686,1672,295.686,1668,301.686,1672,307.686" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1663.5625" y="247.7897">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="1663.6563" y="297.0728">1</text><!--MD5=[c53e1f9c02f78d6f6c6c47087547b478]
link StoryGraph to mf--><path codeLine="59" d="M1672,471.14 C1672,516.715 1672,571.817 1672,608.923 " fill="none" id="StoryGraph-mf" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f80b4c689c2fbad67007e34e43864d26]
link StoryGraph to Character--><path codeLine="60" d="M1743.48,471.252 C1759.46,490.639 1775.86,511.64 1790,532 C1807.04,556.526 1823.71,585.604 1836.29,608.877 " fill="none" id="StoryGraph-Character" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d7db87ef639825ac303fec40d74a2b35]
link Character to Skills--><path codeLine="61" d="M1858,695.096 C1858,745.906 1858,831.483 1858,887.478 " fill="none" id="Character-Skills" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[2d3469a9cdf6af823ac71c279ee21e31]
link mf to mcei--><path codeLine="62" d="M1654.55,695.096 C1636.51,738.613 1607.9,807.635 1585.48,861.731 " fill="none" id="mf-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[63724e4bd5e0b29029b3598b772a27b3]
link StoryGraph to mcei--><path codeLine="63" d="M1588.99,471.188 C1574.69,489.708 1561.9,510.365 1554,532 C1514.29,640.79 1524.19,776.87 1536.71,861.759 " fill="none" id="StoryGraph-mcei" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a0d3bbc68f741b6e52f50e6f2273a72d]
link ss to msl--><path codeLine="157" d="M955.96,772.004 C940.515,811.928 924.025,854.552 911.396,887.195 " fill="none" id="ss-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7d06e1ba490a93264d4a8b472a43ae41]
link msl to cm--><path codeLine="158" d="M1016.03,943.5 C1027.64,943.5 1039.25,943.5 1050.86,943.5 " fill="none" id="msl-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0dc7f4e939c057bb258d4c5f70365db7]
link pe to msl--><path codeLine="159" d="M729.169,943.5 C740.687,943.5 752.205,943.5 763.722,943.5 " fill="none" id="pe-msl" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[64320bcde71beffb940e18b354ba01b3]
link api to pe--><path codeLine="160" d="M494.11,943.5 C505.702,943.5 517.295,943.5 528.887,943.5 " fill="none" id="api-pe" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[671dab341200759546ed8586cdbf8a87]
link sl to cm--><path codeLine="161" d="M963.826,247.027 C1021.41,317.25 1099.65,424.459 1141,532 C1180.83,635.591 1193.36,763.38 1197.02,848.598 " fill="none" id="sl-cm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[a5942343fc64a8361275d61bf78cabe0]
link sl to msl--><path codeLine="162" d="M882.057,247.404 C867.883,363.617 846.704,584.472 862,772 C865.17,810.867 872.341,854.227 878.632,887.495 " fill="none" id="sl-msl" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[17eb025897342361bd851f93fa477fff]
link sl to api--><path codeLine="163" d="M846.9,247.374 C776.81,367.361 635.985,597.156 489,772 C460.692,805.673 426.357,839.715 395.359,868.431 " fill="none" id="sl-api" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[ce7bcfb77770f94a81831b8f23590dae]
link sl to ss--><path codeLine="164" d="M911.121,247.049 C928.586,324.679 955.223,443.081 975.151,531.658 " fill="none" id="sl-ss" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><!--MD5=[da9abd1873f207cba4baaf944fa348f2]
link pace to pav--><path codeLine="165" d="M284.324,652 C295.957,652 307.59,652 319.223,652 " fill="none" id="pace-pav" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[96167f1f5e43b9ebcc14970849e1c19e]
link pace to api--><path codeLine="166" d="M204.427,724.19 C224.854,766.431 250.786,820.055 271.837,863.584 " fill="none" id="pace-to-api" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="274.118,868.302,273.8003,858.4583,271.941,863.8008,266.5984,861.9415,274.118,868.302" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="250" y="815.0669">observes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="199.232" y="743.6292">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="262.3167" y="857.4722">1</text><!--MD5=[58a85bdb989a432d30a1624e5616c617]
link mcei to cm--><path codeLine="169" d="M1425.22,943.5 C1398.57,943.5 1371.92,943.5 1345.27,943.5 " fill="none" id="mcei-cm" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[740cf678959bebd188b95becb67b7855]
@startuml
skinparam classAttributeIconSize 0

package "Moderator-Client" {

  class StoryEvent {
    {field} +eventId: int
    {field} +description: string
    {field} +parent: StoryEvent
    {field} +children: StoryEvent[]
    {method} +StoryEvent(parent: StoryEvent, id: int)
    {method} +addChild(): void
  }

  class StoryGraph {
    {field} +character: Character
    {field} +root: StoryEvent
    {field} +currentEvent: StoryEvent
    {method} +StoryGraph(id: int)
    {method} +loadGraphFromFile(): Graph
    {method} +saveGraphToFile(): void
    {method} +getNextPossibleEvent(): StoryEvent[]
    {method} +setCurrentEvent(newCurrentEvent: StoryEvent): void
    {method} +getNextStoryEventById(id: int): StoryEvent
  }

  class "ModeratorView" as mf {
    {method} +ModeratorView()
    {method} +pausePolling(val: boolean): void
    {method} +offlineMode(val: boolean): void
  }

  class "ModeratorClientExchange" as mcei{
    {field} -websocket: WebSocket
    {field} -authentificationGuid: Guid
    {field} -timeoutDuration: int
    {method} +ModeratorClientExchange()
    {method} +sendMessage(message: string): void
    {method} +evalJSON(): string
    {method} +endCurrentPollAndGetVotingResults(): int
    {method} +makeJSON(): string
    {method} +enterPassword(pw: string): void
  }

  class Skills {
    {field} +communication: int
    {field} +analytics: int
    {field} +partying: int
    {field} +programming: int
    {method} + Skill(commu: int, analy: int, party: int, progr: int)
  }

  class Character {
    {field} +abilities: Skills
    {field} +name: string
    {method} +Character()
  }
  
  StoryEvent "n" - -* "1" StoryGraph
  StoryGraph - - mf
  StoryGraph - - Character
  Character - - Skills
  mf - - mcei
  StoryGraph - - - mcei
}

package "ServerApplication" {
   class "API" as api {
        {field} -observerCollection: ArrayList<Observer>
        {method} +API()
        {method} +subscribeObserver(observer: Observer, cookie: Cookie): void
        {method} +unsubscribeObserver(observer: Observer): void
        {method} +notifyObservers(): void
        {method} +updatePossibleDecisions(): void
        {method} +collectVotes(): void
        {method} +getVotes(): 
  }

  package "ServerLogic" <<Rectangle>>{
    class "ServerShell" as ss {
      {field} +logger: Logger
      {field} -port: int
      {field} -runShell: boolean
      {field} -serverShell: ServerShell
      {field} -bufferedReader: BufferedReader
      {method} +ServerShell()
      {method} +startShell(): void
      {method} +stopShell(): void
      {method} +parseCommand(command: string): void
      {method} +showHelp(): void
      {method} +configPort(): void
      {method} +configCapacity(): void
      {method} +startServer(): void
      {method} +stopServer(): void
      {method} +main(args: string[]): void
    }

    class "ModeratorClientManager" as cm {
      {field} -webSocket: WebSocket
      {field} -ip: int
      {field} -port: int
      {field} +logger: Logger
      {field} -authentificationTokenModeratorClientHash: int
      {method} +ModeratorClientManager(session: Session): void
      {method} +disconnect(): void
      {method} +recieveMessage(message: string): void
      {method} +checkJSON(message: string): void
      {method} +sendMessage(message: string): void
      {method} +evalJSON(): string

    }    

    class "MainServerLogic" as msl {
      {field} -moderator: WebClient
      {field} +logger: Logger
      {method} +MainServerLogic(capacity: int, port: int)
      {method} +onFalseMessage(message: string): void
      {method} +onVotingMessage(message: string): void

    }

    class "PollEvaluator" as pe {
    {field}- possibleDecisions: StoryEvent[]
    {field} -voteCounter: Dictionary<int,int>
    {field} -api: API
    {method} +PollEvaluator()
    {method} +evaluateVotes(ids: int[]): int
    {method} +addVote(id: int): void
  }

    class "ServerLogger" as sl {
      {field} +globalLogger: Logger
      {field} +logFile: FileHandler
      {field} +isSetup: Boolean
      {field} +consoleHandler: Handler
      {method} +Logger()
      {method} +setup(): void
      {method} +addHandler(logger: Logger): void
      {method} +setLevel(level: int): void
      {method} +setConsoleOutput(val: boolean): void
    }
  }
  package "PlayerAudience-Client" <<Rectangle>>{  
    class "PlayerAudienceClientExchange" as pace <<Observer>>{
      {field} -sessionCookie: Cookie
      {field} -hasVoted: boolean
      {field} -selectedDecision: StoryEvent
      {field} -possibleDecisions: StoryEvent[]
      {method} +PlayerAudienceClientExchange()
      {method} +update(): void
      {method} +sendSelectedDecision(): StoryEvent 
    }

    class "PlayerAudienceView" as pav {
      {method} +PlayerAudienceView()
    }
  }
  ss - - msl
  msl - cm
  msl -left- pe
  pe -left- api
  sl ... cm
  sl ... msl
  sl ... api
  sl ... ss
  pace - pav
  api "1" <-up- "n" pace : observes
}

mcei -right- cm
@enduml

PlantUML version 1.2020.20beta11(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>